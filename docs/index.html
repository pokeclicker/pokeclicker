<!DOCTYPE html>
<html lang="en">
<head>
    <title>Pokéclicker</title>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="utf-8"/>
    <link href="assets/images/favicon.ico" rel="icon" type="image/x-icon"/>
    <script>window.featureFlags = {};</script>

    <!--jQuery-->
    <script src="libs/jquery.min.js"></script>

    <!--Knockout-->
    <script src="libs/knockout-latest.js"></script>

    <!--Sortable-->
    <script src="libs/Sortable.min.js"></script>

    <!-- New module-based code from './modules' -->
    <script src="scripts/modules.min.js?v=0.8.2"></script>

    <!--Minified scripts-->
    <script src="scripts/script.min.js?v=0.8.2"></script>

    <!--Popper.js-->
    <script src="libs/popper.min.js"></script>

    <!--Bootstrap-->
    <link href="libs/bootstrap.min.css" rel="stylesheet">
    <script src="libs/bootstrap.min.js"></script>

    <!--Notify-->
    <script src="libs/bootstrap-notify.min.js"></script>

    <!--Motio-->
    <script src="libs/motio.js"></script>

    <!--Intro.js-->
    <script src="libs/intro.min.js"></script>
    <link href="libs/introjs.css" rel="stylesheet">
    <link href="libs/introjs-modern.css" rel="stylesheet">

    <!--Minified styles-->
    <link href="styles/styles.min.css?v=0.8.2" rel="stylesheet">

    <!-- Google Analytics-->
        <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171657234-1"></script>
    <script>
        if (true) {
            window.dataLayer = window.dataLayer || [];

            function gtag() {
                dataLayer.push(arguments);
            }

            gtag('js', new Date());

            gtag('config', 'UA-171657234-1');
        } else {
            function gtag(){};
        }
    </script>

    <style>
        #game.loading {
            display: none !important;
        }

        #saveSelector {
            position: absolute;
            top: 0;
            left: 0;
            min-height: 100vh;
            width: 100vw;
            background-color: #79c9fa;
            background-size: cover;
            z-index: 101;
            overflow: auto;
        }

        #loader {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 100vw;
            background-color: #79c9fa;
            background-size: cover;
            z-index: 99;
            overflow: hidden;
        }

        .loader-wrapper {
            height: 100vh;
            width: 100vw;
            position: relative;
        }
    </style>

</head>
<body class="no-select" data-bind="class: 'no-select ' + Settings.getSetting('theme').observableValue() + ' ' + Settings.getSetting('backgroundImage').observableValue() ">
<div id="dynamic-background">
    <!-- Sky -->
    <div id="sky1" class="sky sky-0" style="opacity: 1;"></div>
    <div id="sky2" class="sky sky-1" style="opacity: 0;"></div>

    <!-- Sun & Moon -->
    <div id="orbital">
        <div id="sun" style="top: 570.474px; left: 1234.9px;"></div>
        <div id="moon" style="bottom: 595.351px; right: 1212.76px;"></div>
    </div>

    <!-- Ground -->
    <div id="ground1" class="ground ground-0" style="opacity: 1;"></div>
    <div id="ground2" class="ground ground-1" style="opacity: 0;"></div>

    <!-- Clouds -->
    <div class="cloud-container">
        <div id="clouds">
            <div class="cloud1 cloud1-0" id="cloud1One"></div>
        </div>
    </div>
</div>

<div id="toaster"></div>
<link id="theme-link" href="https://bootswatch.com/4/yeti/bootstrap.min.css" rel="stylesheet" data-bind="attr: {href: 'https://bootswatch.com/4/' + Settings.getSetting('theme').observableValue() + '/bootstrap.min.css'}">

<!--$DEV_BANNER-->
<div class="d-flex align-items-center justify-content-center background-night py-4" id="saveSelector">
    <div class="justify-content-center container row">
        <div class="col-6">
            <img style="width:100%" src="assets/images/pokeclickerlogo.png">
        </div>
        <div class="col-12 d-flex align-items-center justify-content-center my-3">
            <a href="https://discord.gg/a6DFe4p">
                <img alt="Join our Discord!" src="https://img.shields.io/discord/450412847017754644?color=7289DA&label=Discord&logo=discord&logoColor=7289DA&style=for-the-badge">
            </a>
            &nbsp;
            <a href="https://github.com/pokeclicker/pokeclicker">
                <img alt="Visit our GitHub!" src="https://img.shields.io/github/package-json/v/pokeclicker/pokeclicker/master?label=GitHub&logo=github&style=for-the-badge">
            </a>
            &nbsp;
            <a href="https://pokeclicker.miraheze.org/wiki/Home_Page">
                <img alt="Checkout the Wiki!" src="https://img.shields.io/badge/wiki-link-blue?logo=wikimedia-commons&style=for-the-badge">
            </a>
        </div>
    </div>
</div>


<div class="loader background-night" id="loader">
    <br>
    <div class="loader-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 offset-sm-3">
                    <img style="width:100%" src="assets/images/pokeclickerlogo.png">
                </div>
            </div>
        </div>
        <div class="loader-content">
            <img src="assets/images/pokeball/Pokeball.svg" class="loader-pokeball"/>
            <div class="progress">
                <div id="preload-progress-bar" class="progress-bar bg-primary" role="progressbar" style="width:0%;">
                    <span id="preload-progress-text">Loading...</span>
                </div>
            </div>
        </div>
    </div>

</div>


<!-- Game menu-->
<div id="startMenu" class="dropdown clearfix" style="position:absolute; right:0; top:0; z-index: 100;">
    <button class="btn btn-secondary dropdown-toggle float-right" type="button" data-toggle="dropdown">
        Start Menu
        <span class="caret"></span>
    </button>
    <ul class="dropdown-menu dropdown-menu-right">
        <li>
            <a class="dropdown-item" href="#profileModal" data-toggle="modal">Profile</a>
        </li>
        <li>
            <a class="dropdown-item" href="#pokedexModal" data-toggle="modal">Pokédex</a>
        </li>
        <li>
            <a class="dropdown-item" href="#badgeCaseModal" data-toggle="modal">Badge Case</a>
        </li>
        <li>
            <button class="dropdown-item" href="#statisticsModal" data-toggle="modal">Statistics</button>
        </li>
        <li>
            <a class="dropdown-item" href="#achievementsModal" data-toggle="modal">Achievements</a>
        </li>
        <li>
            <a class="dropdown-item" href="#logBookModal" data-toggle="modal">Log Book</a>
        </li>
        <li data-bind="attr: {  title: App.game.shards.canAccess() ? '' : 'Progress further to unlock...'}">
            <a class="dropdown-item" href="#" data-bind="click:function(){App.game.shards.openShardModal()},
            attr: {class: App.game.shards.canAccess() ? 'dropdown-item' : 'dropdown-item disabled all-pointers'}">Shards</a>
        </li>
        <li>
            <a class="dropdown-item" href="#showItemsModal" data-toggle="modal">Items</a>
        </li>
        <li>
            <a class="dropdown-item" href="#settingsModal" data-toggle="modal">Settings</a>
        </li>
        <li>
            <a class="dropdown-item" href="#damageCalculatorModal" data-toggle="modal">Damage Calculator</a>
        </li>
        <li>
            <a class="dropdown-item" href="#saveModal" data-toggle="modal">Save</a>
        </li>
        <li>
            <a class="dropdown-item" href="#challengeModeModal" data-toggle="modal">Challenge Modes</a>
        </li>
        <li>
            <a class="dropdown-item" href="#changelogModal" data-toggle="modal">Changelog</a>
        </li>
        <li>
            <a class="dropdown-item" href="#eventsModal" data-toggle="modal">Events</a>
        </li>
        <li>
            <a class="dropdown-item" href="#FAQModal" data-toggle="modal">FAQ</a>
        </li>
        <li>
            <a class="dropdown-item" href="https://pokeclicker.reddit.com" target="_blank">Subreddit</a>
        </li>
        <li>
            <a class="dropdown-item" href="https://discord.gg/a6DFe4p" target="_blank">Discord</a>
        </li>
        <li>
            <a class="dropdown-item" href="http://pokeclicker.miraheze.org/" target="_blank">Wiki</a>
        </li>
        <li>
            <a class="dropdown-item" href="https://github.com/pokeclicker/pokeclicker/issues" target="_blank">Report a bug</a>
        </li>

    </ul>
</div>


<!-- Get Keyitem modal-->
<div class="modal" id="keyItemModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content" style="text-align: center">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="keyItemModalLabel">New key item!</h5>
                </div>
            </div>
            <div class="modal-body">
                <h5><strong>Congratulations!</strong></h5>
                <span>You have gained a</span><br>
                <img class="key-item" src="" data-bind="attr:{ title: App.game.keyItems.itemList[KeyItemController.latestGainedItem].displayName,  src: 'assets/images/keyitems/' + KeyItems.KeyItem[KeyItemController.latestGainedItem] + '.png'}"/><br>
                <span>
                    <strong data-bind="text: App.game.keyItems.itemList[KeyItemController.latestGainedItem].displayName">Name</strong>
                </span><br>
                <span data-bind="html:  App.game.keyItems.itemList[KeyItemController.latestGainedItem].description">Description</span>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal" data-bind="click: App.game.keyItems.itemList[KeyItemController.latestGainedItem].unlockReward">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Show profile modal -->
<div class="modal noselect fade" id="profileModal" tabindex="-1" role="dialog" aria-labelledby="profileModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Profile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body text-left p-2">
                <div class="form-row p-0" id="breeding-filter">
                    <div class="form-group col-12">
                        <label>Name</label>
                        <input autocomplete="off" class="form-control" oninput="App.game.profile.name(this.value)" placeholder="name" data-bind="value: decodeURI(App.game.profile.name())"/>
                    </div>
                    <div class="form-group col-12">
                        <label>Trainer</label>
                        <select autocomplete="off" class="custom-select" onchange="App.game.profile.trainer(+this.value)">
                            <!-- ko foreach: new Array(Profile.MAX_TRAINER).fill(0) -->
                            <option data-bind="attr: { value: $index(), selected: App.game.profile.trainer() === $index() }, text: `Trainer ${$index()}`">Trainer</option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <div class="form-group col-12">
                        <label>Pokemon</label>
                        <select autocomplete="off" class="custom-select" onchange="App.game.profile.pokemon(+this.value)">
                            <!-- ko foreach: App.game.party.caughtPokemon -->
                            <option data-bind="attr: { value: $data.id, selected: App.game.profile.pokemon() === $data.id }, text: $data.name">Pokemon</option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <div class="form-group col-12">
                        <label>Background</label>
                        <select autocomplete="off" class="custom-select" onchange="App.game.profile.background(+this.value)">
                            <!-- ko foreach: new Array(Profile.MAX_BACKGROUND).fill(0) -->
                            <option data-bind="attr: { value: $index(), selected: App.game.profile.background() === $index() }, text: `Background ${$index()}`">Background</option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <div class="form-group col-12">
                        <label>Text Color</label>
                        <p class="p-0" data-bind="style: { background: App.game.profile.textColor() }">
                          <label style="width:100%; min-height: 28px; padding:0px; margin: 0px;"><input style="opacity: 0;" type="color" data-bind="value: App.game.profile.textColor"/></label>
                        </p>
                    </div>
                </div>
                <div id="profile-trainer-card"></div>
            </div>
        </div>
    </div>
</div>


<!-- Show keyitems modal-->
<!-- Show Items modal-->
<div class="modal" id="showItemsModal" tabindex="-1" role="dialog"
     aria-labelledby="showItemModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content" style="text-align: center">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Items</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body p-0">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#evoStones">Evolution Stones</a></li>
                    <li class="nav-item"><a data-toggle='tab' class='nav-link' href="#itemBag">Item Bag</a></li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#keyItems">Key Items</a></li>
                </ul>
                <div class="tab-content">
                    <div id="evoStones" class="tab-pane active p-3">
                        <h3 data-bind="text: ItemList[ItemHandler.stoneSelected()].displayName"></h3>

                        <div class="row justify-content-sm-center">
                            <div class="row col-10" data-bind="foreach: Object.keys(GameConstants.StoneType).filter(stone => isNaN(stone) && stone !== 'None')">
                                <div class="col-2" style="cursor: pointer"
                                        data-bind="css:{'item-selected': ItemHandler.stoneSelected() === $data},
                                            click: function(){ ItemHandler.stoneSelected($data); ItemHandler.pokemonSelected('')}">
                                    <img data-bind="attr: {src: ItemList[$data].image }" style="max-width: 32px;">
                                    <div data-bind="text: player._itemList[$data]()"></div>
                                </div>
                            </div>
                        </div>

                        <hr/>

                        <div class="row justify-content-sm-center" >
                            <div class="row col-lg-10 col-md-12 offset-md-0 col-sm-12 offset-sm-0"
                                data-bind="foreach: PokemonHelper.getPokemonsWithEvolution(GameConstants.StoneType[ItemHandler.stoneSelected()])">
                                <div class="col-md-6 col-sm-10 col-lg-4 offset-sm-1 offset-md-0 offset-md-0 breedingListItem">
                                    <button class="btn btn-secondary smallButton list-group-item-action" style="padding-right:15px"
                                            data-bind="click: function() {ItemHandler.pokemonSelected(name)}, css:{ 'pokemon-selected': ItemHandler.pokemonSelected() === name}">
                                        <img class="smallImage" data-bind="attr:{src: 'assets/images/' + (App.game.party.alreadyCaughtPokemon($data.id, true) ? 'shiny' : '') + 'pokemon/' + id +'.png' }"/>
                                        <span data-bind="text: name" style="margin-left: 20px">Name</span>

                                        <span style="float:right; margin-top:8px" data-bind="template: { name: 'caughtStatusTemplate', data: {'status':
                                            PartyController.getEvolutionsCaughtStatus($data.id, GameConstants.StoneType[ItemHandler.stoneSelected()])
                                            }}"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <hr/>

                        <div class="row justify-content-center"
                             data-bind="template: { name:'multiOptionTemplate',
                                                    data: { observable: ItemHandler.amountSelected,
                                                            optionValues: [1,10,100,1000,Infinity]
                                                          }
                                                  }">
                        </div>
                        <p><i>Stops using evolution stones once a shiny is encountered</i></p>
                        <div class="row no-gutters justify-content-sm-center">
                            <div class="row justify-content-center" style="padding:15px;">
                                <button data-bind="click: function(){ItemHandler.useStones()}" class="btn btn-lg btn-success">Use evolution stones!</button>
                            </div>
                        </div>
                    </div>

                    <div id="itemBag" class="tab-pane p-3">
                        <div class="row justify-content-sm-center">
                            <div class="row col-10">
                                <div class="btn btn-primary col-2" data-bind="template: { name: 'otherItemTemplate', data: 'Protein'}, click: () => $('#pokemonSelectorModal').modal('show')"></div>
                            </div>
                        </div>
                    </div>

                    <div id="keyItems" class="tab-pane p-3">
                        <div class="m-0">
                            <div class="row no-gutters justify-content-sm-center"
                                data-bind="foreach: App.game.keyItems.itemList">
                                <div class="col-2">
                                    <img class="clickable key-item" src=""
                                        data-bind="attr:{
                                        src: 'assets/images/keyitems/' + KeyItems.KeyItem[$data.name] + '.png'},
                                css: {'key-item-locked': !App.game.keyItems.hasKeyItem($data.name),
                                'key-item-selected': KeyItemController.inspectedItem == $data.name
                                },
                                event: {
                                    mouseover: function(){KeyItemController.hover($data.name)},
                                    mouseout : function(){KeyItemController.hoverRelease()}
                                    }">
                                </div>
                            </div>

                            <div class="oak-item-info">
                                <div class="row justify-content-sm-center">
                                    <div class="col-xs-10">
                                        <b><span data-bind="text: App.game.keyItems.itemList[KeyItemController.inspectedItem].displayName"></span></b>
                                    </div>
                                </div>
                                <div class="row justify-content-sm-center">
                                    <div class="col-xs-10">
                                        <knockout data-bind="if: App.game.keyItems.hasKeyItem(KeyItemController.inspectedItem)">
                                            <p data-bind="html: App.game.keyItems.itemList[KeyItemController.inspectedItem].description"></p>
                                        </knockout>
                                        <knockout data-bind="ifnot: App.game.keyItems.hasKeyItem(KeyItemController.inspectedItem)">
                                            <p>?????</p>
                                        </knockout>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/html" id="otherItemTemplate">
    <div data-container="body" data-bind="tooltip: {
        title: ItemList[$data] ? `<u>${ItemList[$data].displayName}</u><br/>${ItemList[$data].description || ''}` : '',
        trigger: 'hover',
        placement:'top',
        html: true,
        boundary: document.getElementById('showItemsModal'),
    }">
        <img data-bind="attr: {src: ItemList[$data].image }" style="max-width: 32px;">
        <div data-bind="text: player._itemList[$data]()"></div>
    </div>
</script>


<!--Templates -->
<script type="text/html" id="currencyTemplate">
    <span style="display: inline;">
        <!-- ko if: $data.currency == GameConstants.Currency.money -->
        <img alt="Money" src="assets/images/currency/money.svg" data-bind="style: {height: $data.height || '24px', width: $data.width || $data.height || '24px'}"/>
        <!-- /ko -->
        <!-- ko if: $data.currency == GameConstants.Currency.dungeonToken -->
        <img alt="Dungeon Tokens" src="assets/images/currency/dungeonToken.svg" data-bind="style: {height: $data.height || '24px', width: $data.width || $data.height || '24px'}"/>
        <!-- /ko -->
        <!-- ko if: $data.currency == GameConstants.Currency.questPoint -->
        <img alt="Quest Points" src="assets/images/currency/questPoint.svg" data-bind="style: {height: $data.height || '24px', width: $data.width || $data.height || '24px'}"/>
        <!-- /ko -->
        <!-- ko if: $data.currency == GameConstants.Currency.diamond -->
        <img alt="Diamonds" src="assets/images/underground/diamond.svg" data-bind="style: {height: $data.height || '24px', width: $data.width || $data.height || '24px'}"/>
        <!-- /ko -->
        <!-- ko if: $data.currency == GameConstants.Currency.farmPoint -->
        <img alt="Farm Points" src="assets/images/currency/farmPoint.svg" data-bind="style: {height: $data.height || '24px', width: $data.width || $data.height || '24px'}"/>
        <!-- /ko -->
        <!-- ko if: $data.currency == GameConstants.Currency.battlePoint -->
        <img alt="Battle Points" src="assets/images/currency/battlePoint.svg" data-bind="style: {height: $data.height || '24px', width: $data.width || $data.height || '24px'}"/>
        <!-- /ko -->

        <span data-bind="text: ($data.reduced || ($data.amount > $data.reducedThreshold)) ? GameConstants.formatNumber($data.amount) : $data.amount.toLocaleString('en-US')">0</span>
    </span>
</script>

<script type="text/html" id="amountTemplate">
    <span data-bind="template: { name: 'currencyTemplate', data: {'amount': $data.amount, 'currency': $data.currency}}"></span>
</script>

<!-- Example usage -->
<!-- <span data-bind="template: { name: 'currencyTemplate', data: {'amount': FarmController.plotPrice(), 'currency': GameConstants.Currency.farmPoint}}"></span> -->

<script type="text/html" id="caughtStatusTemplate">
    <knockout style="display: inline;">
        <!-- ko if: $data.status == CaughtStatus.Caught -->
        <img title="You have captured this Pokémon!"
             class="pokeball-smallest"
             src="assets/images/pokeball/Pokeball.svg"
        />
        <!-- /ko -->
        <!-- ko if: $data.status == CaughtStatus.CaughtShiny -->
        <img title="You have captured this Pokémon shiny!"
             class="pokeball-smallest"
             src="assets/images/pokeball/Pokeball-shiny.svg"
        />
        <!-- /ko -->
    </knockout>
</script>

<!-- Example usage -->
<!-- <span data-bind="template: { name: 'caughtStatusTemplate', data: {'status': PartyController.getCaughtStatus(id)}}"></span> -->

<script type="text/html" id="eggSVGTemplate">
  <svg class="egg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126.7 126.7" data-bind="attr: {'data-type1': PokemonType[$data.pokemonType1], 'data-type2': PokemonType[$data.pokemonType2]}">
    <defs>
      <filter id="b" width="1.193" height="1.123" x="-.096" y="-.061" color-interpolation-filters="sRGB">
        <feGaussianBlur stdDeviation=".402"/>
      </filter>
      <filter id="a" width="1.067" height="1.045" x="-.034" y="-.023" color-interpolation-filters="sRGB">
        <feGaussianBlur stdDeviation="1.168"/>
      </filter>
    </defs>
    <path class="egg-main" d="M111.5 76.2a48.2 47.7 0 11-96.3 0c0-26.3 21.5-74.7 48.1-74.7s48.2 48.4 48.2 74.7z"/>
    <g data-bind="html: BreedingController.getEggSpots($data.pokemon)"></g>
    <path fill-opacity=".1" d="M63.3 1.5s34.377 56.31 22.684 83.558c-11.693 27.25-58.004 25.939-58.004 25.939 37.3 33.053 83.737 5.438 83.52-33.997-.147-26.6-21.6-75.5-48.2-75.5z" filter="url(#a)"/>
    <path fill="#fff" fill-opacity=".3" d="M47.106 33.508a4.8 8 0 01-4.284 7.952 4.8 8 0 01-5.204-6.246 4.8 8 0 013.167-9.293 4.8 8 0 015.884 4.252" filter="url(#b)" transform="rotate(13.2 42.307 33.508)"/>
    <path fill="#111" d="M63.3 126.7A49.7 49.7 0 0113.7 77c0-14 5.6-33 14.3-48.5C38.3 10.1 50.8 0 63.3 0c12.5 0 25 10.1 35.4 28.5A109 109 0 01113 77a49.7 49.7 0 01-49.7 49.7zM63.3 3C48 3 36.3 20 30.6 30a105 105 0 00-14 47 46.7 46.7 0 0093.4 0c0-13.5-5.5-32-14-47C90.5 20 78.8 3 63.4 3z"/>
  </svg>
</script>

<script type="text/html" id="multiOptionTemplate">
    <div class="btn-group" data-bind="foreach: $data.optionValues">
        <button class="btn btn-secondary amount-button list-group-item-action"
                data-bind="click: function() {$parent.observable($data)},
                          text: $data,
                          css:{ 'pokemon-selected': $parent.observable() === $data}">
        </button>
    </div>
</script>

<div id="game" class="container loading">
    <div class="row justify-content-center">
        <!--The id title is needed for a default marker for money animation to display when not in a wild battle where the playerMoney span is not visible-->
        <h1 id="gameTitle">Pokéclicker</h1>
    </div>
    <div class="row justify-content-lg-center" style="text-align: center">

        <!--The next two divs switch around on large screens. This way, battle screen/map is on top on smaller screens-->
        <!--left column-->
        <div id="left-column" class="col-lg-3 col-md-6 order-lg-first">

            <!-- pokeball selector -->
            <div id="pokeballSelector" class="card sortable border-secondary mb-3" data-bind="visible: player.starter() != GameConstants.Starter.None">
    <div class="card-header p-0" data-toggle="collapse" href="#pokeballSelectorBody">
        <span>Pokéballs</span>
    </div>
    <button type="button" class="btn btn-info"
            style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px; padding: 4px;"
            data-bind="tooltip: { title: 'Select which Pokéball to use on Pokémon depending on their status', trigger: 'hover', placement:'left' }">
        ?
    </button>
    <div id="pokeballSelectorBody" class="card-body p-0 show table-responsive">
        <table class="table table-sm m-0">
            <thead>
                <tr>
                    <th width="20%" data-toggle="tooltip" title="Previously captured Pokémon will use this ball selection">Caught</th>
                    <th width="20%" data-toggle="tooltip" title="Previously captured Shiny Pokémon will use this ball selection" style="filter: grayscale(80%);">✨</th>
                    <th width="20%" data-toggle="tooltip" title="Uncaptured Pokémon will use this ball selection">New</th>
                    <th width="20%" data-toggle="tooltip" title="Uncaptured Shiny Pokémon will use this ball selection">✨</th>
                </tr>
                <tr>
                    <td data-bind="template: {name: 'selectedPokeballDisplayTemplate', data: { 'value': App.game.pokeballs.alreadyCaughtSelection, 'field': App.game.pokeballs._alreadyCaughtSelection, 'title': 'Already Caught Pokémon'}}"></td>
                    <td data-bind="template: {name: 'selectedPokeballDisplayTemplate', data: { 'value': App.game.pokeballs.alreadyCaughtShinySelection, 'field': App.game.pokeballs._alreadyCaughtShinySelection, 'title': 'Already Caught Shiny Pokémon'}}"></td>
                    <td data-bind="template: {name: 'selectedPokeballDisplayTemplate', data: { 'value': App.game.pokeballs.notCaughtSelection, 'field': App.game.pokeballs._notCaughtSelection, 'title': 'New Pokémon'}}"></td>
                    <td data-bind="template: {name: 'selectedPokeballDisplayTemplate', data: { 'value': App.game.pokeballs.notCaughtShinySelection, 'field': App.game.pokeballs._notCaughtShinySelection, 'title': 'New Shiny Pokémon'}}"></td>
                </tr>
                <tr>
                    <td data-bind="template: {name: 'selectedPokeballCountTemplate', data: App.game.pokeballs.getBallQuantity(App.game.pokeballs.alreadyCaughtSelection)}"></td>
                    <td data-bind="template: {name: 'selectedPokeballCountTemplate', data: App.game.pokeballs.getBallQuantity(App.game.pokeballs.alreadyCaughtShinySelection)}"></td>
                    <td data-bind="template: {name: 'selectedPokeballCountTemplate', data: App.game.pokeballs.getBallQuantity(App.game.pokeballs.notCaughtSelection)}"></td>
                    <td data-bind="template: {name: 'selectedPokeballCountTemplate', data: App.game.pokeballs.getBallQuantity(App.game.pokeballs.notCaughtShinySelection)}"></td>
                </tr>
            </thead>
        </table>
    </div>

    <script type="text/html" id="selectedPokeballDisplayTemplate">
        <img class="pokeball-small clickable pokeball-selected" 
            data-bind="attr: {src: 'assets/images/pokeball/' + GameConstants.Pokeball[$data.value] + '.svg'}, click: function() {App.game.pokeballs.selectedSelection($data.field); App.game.pokeballs.selectedTitle($data.title); $('#pokeballSelectorModal').modal('show')}"/>
    </script>

    <script type="text/html" id="selectedPokeballCountTemplate">
        <span data-bind="text: $data ? GameConstants.formatNumber($data) : '-', tooltip: $data && {title: $data.toLocaleString('en-US'), trigger: 'hover', animation: false}"></span>
    </script>
</div>


            <!-- Battle Item container-->
            <div id="battleItemContainer" class="card sortable border-secondary mb-3">
    <div class="card-header p-0" data-toggle="collapse" href="#battleItemContainerBody">
      <span>Battle Items</span>
    </div>
    <button type="button" class="btn btn-sm btn-primary"
            style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;"
            data-bind="text: EffectEngineRunner.multipliers[EffectEngineRunner.multIndex()]"
            onclick="EffectEngineRunner.incrementMultiplier()"
            oncontextmenu="EffectEngineRunner.decrementMultiplier(); return false"
            title="Controls"
            data-toggle="popover"
            data-html="true"
            data-content="Left/right click to cycle amount<br/>Click on item image to use"
            data-placement="right"
            data-trigger="hover">1
    </button>
    <div id="battleItemContainerBody" class="card-body p-0 show">
      <p data-bind="visible: App.game.challenges.list.disableBattleItems.active()" class="bg-danger my-0">
          Battle Items are disabled.
      </p>
      <table class="table table-bordered m-0">
        <tbody>
          <tr data-bind="foreach: Object.keys(ItemList).filter(i=>ItemList[i].constructor.name == 'BattleItem')">
            <td class="amount p-0" data-bind="text: GameHelper.formatAmount(player.itemList[$data]()),tooltip:{title:player.itemList[$data](),trigger:'hover',placement:'top',animation:false}"></td>
          </tr>
          <tr data-bind="foreach: Object.keys(ItemList).filter(i=>ItemList[i].constructor.name == 'BattleItem')">
            <td class="p-0" data-bind="attr: {
                                disabled: !player.itemList[$data]()
                            },
                            css: {
                                'bg-primary': EffectEngineRunner.getEffect($data) > 5,
                                'bg-warning': EffectEngineRunner.getEffect($data) <= 5 && EffectEngineRunner.getEffect($data) > 0,
                                'bg-secondary': !EffectEngineRunner.isActive($data)()
                            },
                            event: {
                                click: function(){ItemHandler.useItem($data, EffectEngineRunner.amountToUse())}
                            },
                            tooltip: {
                              title: ItemList[$data].displayName + '<br/>' + ItemList[$data].description,
                              trigger: 'hover',
                              placement:'bottom',
                              html: true
                            }">
                <img src="" class="clickable" data-bind="attr: { src: ItemList[$data].image }" width="26px">

            </td>
          </tr>
          <tr data-bind="foreach: Object.keys(ItemList).filter(i=>ItemList[i].constructor.name == 'BattleItem')">
            <td class="text-light p-0">
              <!-- ko if: EffectEngineRunner.getEffect($data) > 0 -->
                <code data-bind="text: player.effectTimer[$data](),tooltip: {title:GameConstants.formatSecondsToTime(player.effectList[$data]()),trigger:'hover',placement:'bottom',html:true}"></code>
              <!-- /ko -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>

</div>


            <!-- Pokémon List container-->
            <script type="text/html" id="PartySortSettingTemplate">
    <div class="row no-gutters" style="align-items: center">
        <div class="input-group">
            <select
                class="custom-select"
                onchange="Settings.setSettingByName(this.name, SortOptions[SortOptions[this.value]])"
                data-bind="foreach: $data.options, attr: {name}"
            >
                <option data-bind="text: $data.text, value: $data.value, attr:{ selected: $parent.observableValue() == $data.value}"></option>
            </select>
            <div class="input-group-append bg-primary text-light">
                <label
                    for="partySortDirection"
                    class="clickable m-0 pl-2 pr-2"
                    style="font-size: 22px;"
                    data-bind="text: Settings.getSetting('partySortDirection').observableValue() ? '⥄' : '⥂'"
                >⥂</label>
                <input
                    id="partySortDirection"
                    style="vertical-align: middle"
                    class="hidden"
                    type="checkbox"
                    data-bind="checked: Settings.getSetting('partySortDirection').observableValue()"
                    onchange="Settings.setSettingByName('partySortDirection', this.checked)"
                />
            </div>
        </div>
    </div>
</script>
<div id="pokemonListContainer" class="card sortable border-secondary mb-3" data-bind="visible: player.starter() != GameConstants.Starter.None">
    <div class="card-header p-0" data-toggle="collapse" href="#pokemonListBody">
        <span>Pokémon List</span>
    </div>
    <div id="pokemonListBody" class="card-body p-0 show table-responsive">
        <div data-bind="template: { name: 'PartySortSettingTemplate', data: Settings.getSetting('partySort')}"></div>

        <table
            id="pokemonList"
            class="table table-striped table-hover table-sm m-0"
        >
            <thead>
                <tr>
                    <td></td>
                    <td>
                        <div>
                            <div class="pokemonName">
                                <span>Name</span>
                            </div>
                            <div class="pokemonAttack">Attack</div>
                            <div class="pokemonLevel">Level</div>
                        </div>
                    </td>
                </tr>
            </thead>
            <tbody data-bind="foreach: PartyController.getSortedList()">
                <tr data-bind="hidden: $data.breeding">
                    <td>
                        <img
                            class="smallImage"
                            data-bind="attr: { src: PokemonHelper.getImage($data, App.game.party.alreadyCaughtPokemon($data.id, true)) }"
                            src=""
                            alt=""
                        />
                    </td>
                    <td>
                        <div>
                            <div class="pokemonName">
                                <span data-bind="text: name">Name</span>
                                <sup data-bind="visible: App.game.party.alreadyCaughtPokemon($data.id, true)">✨</sup>
                            </div>
                            <div class="pokemonAttack" data-bind="text: attack.toLocaleString()"></div>
                            <div class="pokemonLevel" data-bind="text: level"></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


        </div>

        <!--Middle column-->
        <div id="middle-column" class="col-lg-6 col-md-12 order-md-first">
            <div id="middle-top-sort-column">
                <!-- Achievement Tracker -->
                <div
  id="achivementTrackerContainer"
  class="card sortable border-secondary mb-3"
  data-bind="visible: App.game.achievementTracker.canAccess()"
>
  <div class="card-header p-0" data-toggle="collapse" href="#achievementTrackerBody">
    <span style="text-align: center">Achievement Tracker</span>
  </div>
  <button
    class="btn btn-sm btn-primary"
    style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;"
    data-toggle="modal"
    href="#achievementsModal"
  >
    List
  </button>
  <div
    id="achievementTrackerBody"
    class="card-body show p-0"
  >
    <!-- ko if: !App.game.achievementTracker.hasTrackedAchievement() -->
    <div
      class="clickable table-warning text-light p-2"
      href="#achievementsModal"
      data-toggle="modal"
    >
      Select an achievement to track!
    </div>
    <!-- /ko -->

    <!-- ko if: App.game.achievementTracker.hasTrackedAchievement()-->
    <table class="table table-sm m-0">
      <tbody>
        <tr>
          <td colspan="2" data-bind="text: App.game.achievementTracker.trackedAchievement().description">
            Achievement Description
          </td>
        </tr>
        <tr>
          <td class="p-0">
            <div class="progress p-0">
              <div
                class="progress-bar bg-primary"
                role="progressbar"
                aria-valuemin="0"
                aria-valuemax="100"
                data-bind="attr:{ style: 'width:' + App.game.achievementTracker.trackedAchievement().getProgressPercentage() + '%'}, css: {
                           'bg-success': App.game.achievementTracker.trackedAchievement().isCompleted(),
                           'bg-primary': !App.game.achievementTracker.trackedAchievement().isCompleted()
                         }">
                <span data-bind="text: App.game.achievementTracker.trackedAchievement().getProgressText">0 / 1000</span>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- /ko -->
  </div>
 </div>

            </div>

            <div id="battleContainer" class="card sortable-disabled border-secondary mb-3">

                <div class="card-header p-0" data-bind="visible: (App.game.gameState === GameConstants.GameState.fighting ||
                                     App.game.gameState === GameConstants.GameState.dungeon ||
                                     App.game.gameState === GameConstants.GameState.paused ||
                                     App.game.gameState === GameConstants.GameState.town ||
                                     App.game.gameState === GameConstants.GameState.shop ||
                                     App.game.gameState === GameConstants.GameState.gym ||
                                     App.game.gameState == GameConstants.GameState.battleFrontier)">
                    <table width="100%">
                        <tr>
                            <td width="33.33%">
                                <span style="display: inline; position: relative;">
                                    <img title="Money" src="assets/images/currency/money.svg" height="25px">
                                    <span id="animateCurrency-money" data-bind="text: App.game.wallet.currencies[GameConstants.Currency.money]().toLocaleString('en-US')">0</span>
                                </span>
                            </td>
                            <td width="33.33%">
                                <span style="display: inline; position: relative;">
                                    <img title="Dungeon Tokens&#013;&#010;Gained by capturing Pokémon" src="assets/images/currency/dungeonToken.svg" height="25px">
                                    <span id="animateCurrency-dungeonToken" data-bind="text: App.game.wallet.currencies[GameConstants.Currency.dungeonToken]().toLocaleString('en-US')">0</span>
                                </span>
                            </td>
                            <td width="33.33%">
                                <span style="display: inline; position: relative;">
                                    <img title="Quest points" src="assets/images/currency/questPoint.svg" height="25px">
                                    <span id="animateCurrency-questPoint" data-bind="text: App.game.wallet.currencies[GameConstants.Currency.questPoint]().toLocaleString('en-US')">0</span>
                                </span>
                            </td>
                        </tr>
                    </table>
                </div>

                <!--RouteBattleView-->
                <!--Use the base battle layout for fighting, dungeons and battle frontier.-->

                <div class="battle-view card-body p-0 justify-content-center no-gutters no-select"
                    data-bind="if: (App.game.gameState === GameConstants.GameState.fighting || App.game.gameState === GameConstants.GameState.dungeon || App.game.gameState === GameConstants.GameState.paused || App.game.gameState === GameConstants.GameState.town || App.game.gameState === GameConstants.GameState.gym || App.game.gameState == GameConstants.GameState.battleFrontier),
                        class: MapHelper.calculateBattleCssClass()">

                    <!-- Route Battles -->
                    <div class="row justify-content-center no-gutters" data-bind="if: App.game.gameState === GameConstants.GameState.fighting">
                        <div class="col no-gutters clickable" data-bind="click: function() {Battle.clickAttack()}" style="height: 220px; display: block;">
                            <h2 class="pageItemTitle" style="display: block;">

                                <!-- ko if: App.game.statistics.routeKills[player.region][player.route()]() < GameConstants.ROUTE_KILLS_NEEDED -->
                                <knockout class="right" data-bind="text: App.game.statistics.routeKills[player.region][player.route()]() + ' / ' + GameConstants.ROUTE_KILLS_NEEDED">0/10</knockout>
                                <!-- /ko -->

                                <knockout class="left">
                                    <knockout data-bind="text: Routes.getName(player.route(), player.region)"></knockout>
                                    <!--If all Pokémon on the route are caught-->
                                    <knockout data-bind="if: (!RouteHelper.routeCompleted(player.route(), player.region, true) && RouteHelper.routeCompleted(player.route(), player.region, false))">
                                        <img title="You have captured all Pokémon on this route!" class="pokeball-smallest"
                                             src="assets/images/pokeball/Pokeball.svg"/>
                                    </knockout>

                                    <!--If all Pokémon on the route are caught shiny-->
                                    <knockout data-bind="if: RouteHelper.routeCompleted(player.route(), player.region, true)">
                                        <img title="You have captured all Pokémon shiny on this route!" class="pokeball-smallest"
                                             src="assets/images/pokeball/Pokeball-shiny.svg"/>
                                    </knockout>
                                </knockout>

                                <knockout>
                                    <knockout data-bind="text: Battle.enemyPokemon().name">Pokémon name</knockout>
                                    <knockout data-bind="template: { name: 'caughtStatusTemplate', data: {'status': PartyController.getCaughtStatus(Battle.enemyPokemon().id)}}"></knockout>
                                </knockout>

                            </h2>

                            <div>
                                <div data-bind="visible: !Battle.catching()">
                                    <img class="enemy"
                                         data-bind="attr:{ src: PokemonHelper.getImage(Battle.enemyPokemon(), Battle.enemyPokemon().shiny) }"
                                         src=""/>
                                </div>
                                <div data-bind="visible: Battle.catching()" class="catchChance">
                                    <img class="pokeball-animated"
                                         data-bind="attr:{ src: 'assets/images/pokeball/' + GameConstants.Pokeball[Battle.pokeball()] + '.svg'}"
                                         src=""/>
                                    <br>
                                    Catch Chance:
                                    <knockout data-bind="text: Math.floor(Battle.catchRateActual()) + '%'">Catch Rate</knockout>
                                </div>
                            </div>
                            <div class="progress hitpoints" style="height: 20px;">
                                <div class="progress-bar bg-danger" role="progressbar"
                                     data-bind="attr:{ style: 'width:' + Battle.enemyPokemon().healthPercentage() + '%' }"
                                     aria-valuemin="0" aria-valuemax="100">
                                     <span data-bind="text: Battle.enemyPokemon().health() + ' / ' + Battle.enemyPokemon().maxHealth()" style="font-size: 12px;"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dungeon Battles -->
                    <div class="row justify-content-center no-gutters" data-bind="if: App.game.gameState === GameConstants.GameState.dungeon">
    <div class="col no-gutters clickable" style="height: 220px; display: block;"
        data-bind="click: function() { DungeonRunner.handleClick() }">
        <h2 class="pageItemTitle" style="display: block;">
            <knockout data-bind="if: DungeonBattle.enemyPokemon() && DungeonBattle.enemyPokemon().health()">
                <knockout data-bind="text: DungeonBattle.enemyPokemon().name">Pokémon name</knockout>
                <!-- ko if: !DungeonBattle.trainer() -->
                <knockout data-bind="template: { name: 'caughtStatusTemplate', data: {'status': PartyController.getCaughtStatus(DungeonBattle.enemyPokemon().id)}}"></knockout>
                <!-- /ko -->
            </knockout>
            <knockout data-bind="if: !DungeonBattle.enemyPokemon() || !DungeonBattle.enemyPokemon().health()">
                &nbsp;
            </knockout>

            <knockout class="left">
                <!-- ko if: !DungeonBattle.trainer() -->
                <knockout data-bind="text: DungeonRunner.dungeon.name">Dungeon name</knockout>
                <!-- /ko -->
                <!-- ko if: DungeonBattle.trainer() -->
                <knockout data-bind="text: DungeonBattle.trainer().name">Trainer name</knockout>
                <!-- /ko -->

                <!-- ko if: !DungeonBattle.trainer() -->

                <!--If all Pokémon in the dungeon are caught-->
                <knockout data-bind="if: (!DungeonRunner.dungeonCompleted(DungeonRunner.dungeon, true) && DungeonRunner.dungeonCompleted(DungeonRunner.dungeon, false))">
                    <img title="You have captured all Pokémon on this route!" class="pokeball-smallest"
                         src="assets/images/pokeball/Pokeball.svg"/>
                </knockout>

                <!--If all Pokémon in the dungeon are caught shiny-->
                <knockout data-bind="if: DungeonRunner.dungeonCompleted(DungeonRunner.dungeon, true)">
                    <img title="You have captured all Pokémon shiny on this route!"
                         class="pokeball-smallest"
                         src="assets/images/pokeball/Pokeball-shiny.svg"/>
                </knockout>

                <!-- /ko -->
            </knockout>

            <!-- ko ifnot: DungeonBattle.trainer() -->
            <knockout class="right" data-bind="css: { 'text-danger': DungeonRunner.timeLeftSeconds() < 20, 'text-primary': DungeonRunner.timeLeftSeconds() >= 20 }">
                <h4><strong data-bind="text: DungeonRunner.timeLeftSeconds() + 's'"></strong></h4>
            </knockout>
            <!-- /ko -->
            <!-- ko if: DungeonBattle.trainer() -->
            <knockout class="right">
                <span data-bind="foreach: new Array(DungeonBattle.defeatedTrainerPokemon())">
                    <img src="assets/images/pokeball/Pokeball.svg" class="pokeball-smallest pokeball-defeated"/>
                </span>
                <span data-bind="foreach: new Array(DungeonBattle.remainingTrainerPokemon())">
                    <img src="assets/images/pokeball/Pokeball.svg" class="pokeball-smallest"/>
                </span>
            </knockout>
            <!-- /ko -->
            <div class="progress timer">
                <div class="progress-bar bg-danger" role="progressbar"
                     data-bind="attr:{ style: 'width:' + DungeonRunner.timeLeftPercentage() + '%' },
                     css: { 'bg-danger': DungeonRunner.timeLeftSeconds() < 20, 'bg-primary': DungeonRunner.timeLeftSeconds() >= 20 }"
                     aria-valuemin="0" aria-valuemax="100">
                     <span data-bind="text: DungeonRunner.timeLeftSeconds() + 's'" style="font-size: 12px;"></span>
                </div>
            </div>
        </h2>

        <!-- ko if: (DungeonRunner.fighting() || DungeonBattle.catching)  -->
        <div data-bind="if: DungeonBattle.enemyPokemon">
            <div style="position:absolute; left:65%;" data-bind="if: DungeonBattle.trainer()">
                <img data-bind="attr:{ src: DungeonBattle.trainer().image }" onerror="this.src='assets/images/trainers/Mysterious Trainer.png';"/>
            </div>
            <div>
                <div data-bind="ifnot: DungeonBattle.catching">
                    <img class="enemy"
                         data-bind="attr:{ src: PokemonHelper.getImage(DungeonBattle.enemyPokemon(), DungeonBattle.enemyPokemon().shiny) }"
                         src=""/>
                </div>
                <div data-bind="if: DungeonBattle.catching" class="catchChance">
                    <img class="pokeball-animated"
                         data-bind="attr:{ src: 'assets/images/pokeball/' + GameConstants.Pokeball[DungeonBattle.pokeball()] + '.svg' }"
                         src=""/>
                    <br>
                    Catch Chance:
                    <knockout data-bind="text: Math.floor(DungeonBattle.catchRateActual()) + '%'">Catch Rate</knockout>
                </div>
            </div>
            <div class="progress hitpoints" style="height: 20px;">
                <div class="progress-bar bg-danger" role="progressbar"
                     data-bind="attr:{ style: 'width:' + DungeonBattle.enemyPokemon().healthPercentage() + '%'}, css: { 'healthbar-boss': DungeonRunner.fightingBoss(), 'bg-danger': !DungeonRunner.fightingBoss()}"
                     aria-valuemin="0" aria-valuemax="100">
                     <span data-bind="text: DungeonBattle.enemyPokemon().health() + ' / ' + DungeonBattle.enemyPokemon().maxHealth()" style="font-size: 12px;"></span>
                </div>
            </div>
        </div>
        <!-- /ko -->
        <!-- ko if: DungeonRunner.map.currentTile().type() === GameConstants.DungeonTile.chest -->
        <div>
            <img class="dungeon-chest" src="assets/images/dungeons/chest.png"/>
        </div>
        <!-- /ko -->
        <!-- ko if: (DungeonRunner.map.currentTile().type() === GameConstants.DungeonTile.boss && !DungeonRunner.fightingBoss()) -->
        <div>
            <button class="btn btn-danger dungeon-button">Start Bossfight</button>
        </div>
        <!-- /ko -->
        <!-- ko if: DungeonRunner.map.currentTile().type() === GameConstants.DungeonTile.entrance && DungeonRunner.map.playerMoved() -->
        <div>
            <button class="btn btn-warning dungeon-button">Leave Dungeon</button>
        </div>
        <!-- /ko -->
    </div>
</div>


                    <!-- Gym Battles -->
                    
<div class="row justify-content-center no-gutters" data-bind="if: App.game.gameState === GameConstants.GameState.gym">
    <div class="col no-gutters clickable" data-bind="click: function() {GymBattle.clickAttack()}" style="height: 220px; display: block;">
        <h2 class="pageItemTitle" style="display: block;">

            <knockout class="left">
                <knockout data-bind="text: GymBattle.gym.leaderName.replace(/\d/g,'')"></knockout>
            </knockout>

            <knockout>
                <knockout data-bind="text: GymBattle.enemyPokemon().name">Pokémon name</knockout>
            </knockout>

            <knockout class="right">
                <span data-bind="foreach: new Array(GymBattle.pokemonsDefeatedComputable())">
                    <img src="assets/images/pokeball/Pokeball.svg" class="pokeball-smallest pokeball-defeated"/>
                </span>
                <span data-bind="foreach: new Array(GymBattle.pokemonsUndefeatedComputable())">
                    <img src="assets/images/pokeball/Pokeball.svg" class="pokeball-smallest"/>
                </span>
            </knockout>

            <div class="progress timer">
                <div class="progress-bar bg-danger" role="progressbar"
                     data-bind="attr:{ style: 'width:' + GymRunner.timeLeftPercentage() + '%' },
                     css: { 'bg-danger': GymRunner.timeLeftSeconds() < 10, 'bg-primary': GymRunner.timeLeftSeconds() >= 10 }"
                     aria-valuemin="0" aria-valuemax="100">
                     <span data-bind="text: GymRunner.timeLeftSeconds() + 's'" style="font-size: 12px;"></span>
                </div>
            </div>
        </h2>

        <div id="gymCountdown">
          <div class="row" style="display: inline-block; vertical-align: middle;">
            <div class="col-sm-6 offset-sm-3">
              <img style="width:100%" id="gymGo" src="assets/gifs/go.gif">
            </div>
          </div>
        </div>

        <div>
            <!-- TODO: HLXII - Add after all Gym Leader images are formatted correctly
            <div style="position:absolute; left:65%;">
                <img height=80px data-bind="attr:{ src: GymBattle.gym.imagePath }"/>
            </div>
            -->
            <img class="enemy" data-bind="attr:{ src: PokemonHelper.getImage(GymBattle.enemyPokemon(), GymBattle.enemyPokemon().shiny) }" src=""/>
        </div>

        <div class="progress hitpoints" style="height: 20px;">
            <div class="progress-bar bg-danger" role="progressbar"
                    data-bind="attr:{ style: 'width:' + GymBattle.enemyPokemon().healthPercentage() + '%' }"
                    aria-valuemin="0" aria-valuemax="100">
                <span data-bind="text: GymBattle.enemyPokemon().health() + ' / ' + GymBattle.enemyPokemon().maxHealth()" style="font-size: 12px;"></span>
            </div>
        </div>
    </div>
</div>


                    <!-- Battle Frontier Battles -->
                    
<div class="row justify-content-center no-gutters" data-bind="if: App.game.gameState == GameConstants.GameState.battleFrontier">
    <div class="col no-gutters" data-bind="if: BattleFrontierBattle.enemyPokemon" style="height: 220px; display: block;">
        <h2 class="pageItemTitle" style="display: block;">

            <knockout class="left">
                Stage <knockout data-bind="text: BattleFrontierRunner.stage">0</knockout>
            </knockout>

            <knockout>
                <knockout data-bind="text: BattleFrontierBattle.enemyPokemon().name">Pokémon name</knockout>
            </knockout>

            <knockout class="right" data-bind="html: BattleFrontierRunner.pokemonLeftImages">
            </knockout>

            <div class="progress timer">
                <div class="progress-bar bg-danger" role="progressbar"
                        data-bind="attr:{ style: 'width:' + BattleFrontierRunner.timeLeftPercentage() + '%' },
                        css: { 'bg-danger': BattleFrontierRunner.timeLeftSeconds() < 20, 'bg-primary': BattleFrontierRunner.timeLeftSeconds() >= 20 }"
                        aria-valuemin="0" aria-valuemax="100">
                        <span data-bind="text: BattleFrontierRunner.timeLeftSeconds() + 's'" style="font-size: 12px;"></span>
                </div>
            </div>

        </h2>

        <div>
            <img class="enemy"
                    data-bind="attr:{ src: PokemonHelper.getImage(BattleFrontierBattle.enemyPokemon(), BattleFrontierBattle.enemyPokemon().shiny) }"
                    src=""/>
        </div>
        <div class="progress hitpoints" style="height: 20px;">
            <div class="progress-bar bg-danger" role="progressbar"
                    data-bind="attr:{ style: 'width:' + BattleFrontierBattle.enemyPokemon().healthPercentage() + '%' }"
                    aria-valuemin="0" aria-valuemax="100">
                    <span data-bind="text: BattleFrontierBattle.enemyPokemon().health() + ' / ' + BattleFrontierBattle.enemyPokemon().maxHealth()" style="font-size: 12px;"></span>
            </div>
        </div>
    </div>
</div>

                    <!--TownView-->
                    <knockout data-bind="if: App.game.gameState === GameConstants.GameState.town">
<div id="townView" data-bind="style: { backgroundImage: 'url(\'assets/images/towns/' + player.town().name + '.png\')' }"
     class="justify-content-center no-gutters no-select">
    <div class="row justify-content-center no-gutters">
        <div class="col no-gutters">
            <button type="button" class="btn btn-outline-info" style="float: right;"
            data-bind="visible: player.town().gym || player.town().shop, tooltip: { title: 'In towns you can battle gymleaders to earn badges, or visit shops to buy items.', trigger: 'hover', placement:'left' }">?</button>
            <button type="button" class="btn btn-outline-info" style="float: right;"
            data-bind="visible: player.town() instanceof DungeonTown, tooltip: { title: 'Capture Pokémon to gain Dungeon Tokens in order to battle dungeons.', trigger: 'hover', placement:'left' }">?</button>
            <h2 class="pageItemTitle">
              <knockout data-bind="text: player.town().name">Town Name</knockout>

              <knockout data-bind="if: player.town() instanceof DungeonTown && player.town().dungeon">
                  <!--If all Pokémon in the dungeon are caught-->
                  <knockout data-bind="if: (!DungeonRunner.dungeonCompleted(player.town().dungeon, true) && DungeonRunner.dungeonCompleted(player.town().dungeon, false))">
                      <img title="You have captured all Pokémon on this route!" class="pokeball-smallest"
                           src="assets/images/pokeball/Pokeball.svg"/>
                  </knockout>

                  <!--If all Pokémon in the dungeon are caught shiny-->
                  <knockout data-bind="if: DungeonRunner.dungeonCompleted(player.town().dungeon, true)">
                      <img title="You have captured all Pokémon shiny on this route!"
                           class="pokeball-smallest"
                           src="assets/images/pokeball/Pokeball-shiny.svg"/>
                  </knockout>
              </knockout>
            </h2>
        </div>
    </div>
    <div class="row no-gutters">
       <div class="col-3 no-gutters">
           <div class="list-group" data-bind="if: player.town() instanceof PokemonLeague">
              <!-- ko foreach: player.town().gymList -->
                   <button
                           data-bind="text: $data.leaderName.replace(/\d/g,''),
                                      disable: !Gym.isUnlocked($data),
                                      click: function() {GymRunner.startGym($data)},
                                      attr: { class: Gym.calculateCssClass($data)}">
                       E4 Leader
                   </button>
               <!-- /ko -->
           </div>
           <div class="list-group">
               <button data-bind="visible: player.town().gym, attr: { class: player.town().gym ? Gym.calculateCssClass(player.town().gym) : '' }"
                       onclick="GymRunner.startGym(player.town().gym)">
                   Gym
               </button>
               <a class="btn btn-secondary" href="#shopModal" data-bind="visible: player.town().shop" data-toggle="modal" onclick="ShopHandler.showShop(player.town().shop)">Shop</a>
               <a class="btn btn-secondary" href="#berryMasterModal" data-bind="visible: player.town().berryMaster" data-toggle="modal" onclick="ShopHandler.showShop(player.town().berryMaster)">Berry Master</a>
               <button class="btn btn-warning"
                       href="#nextRegionModal" data-toggle="modal"
                       data-bind="visible: MapHelper.ableToTravel() && GameConstants.StartingTowns.includes(player.town().name), text: `Travel to ${GameConstants.camelCaseToString(GameConstants.Region[player.highestRegion() + 1])}`">
                     Travel To Next Region
               </button>
               <button class="btn btn-info" onclick="MapHelper.openShipModal();" data-bind="visible: player.highestRegion() > 0 && GameConstants.DockTowns.includes(player.town().name)">
                     Dock
               </button>
               <button class="btn btn-secondary p-0"
                       onclick="DungeonRunner.initializeDungeon(player.town().dungeon)"
                       data-bind="visible: player.town() instanceof DungeonTown, if: player.town().dungeon, attr: { class: player.town().dungeon && App.game.wallet.currencies[GameConstants.Currency.dungeonToken]() >= player.town().dungeon.tokenCost ? 'btn btn-success p-0' : 'btn btn-secondary p-0' }">
                   Start<br/>
                   <span data-bind="template: { name: 'currencyTemplate', data: {'amount': player.town().dungeon.tokenCost, 'currency': GameConstants.Currency.dungeonToken}}"></span>
               </button>
               <button class="btn btn-secondary"
                       onclick="MapHelper.moveToTown(player.town().dungeon.name)"
                       data-bind="visible: player.town().dungeon && (!(player.town() instanceof DungeonTown) && player.town() instanceof Town), if: player.town().dungeon">
                   <span data-bind="text: player.town().dungeon.name"></span>
               </button>
               <button class="btn btn-primary"
                       onclick="BattleFrontier.enter()"
                       data-bind="visible: player.town().name == 'Battle Frontier'">
                   Enter Battle Frontier
               </button>
           </div>
       </div>
       <div class="col-6"></div>
       <div class="col-3 no-gutters">
           <div class="list-group" data-bind="foreach: player.town().npcs">
               <!-- ko if: $data.isVisible() -->
                <button class="btn btn-info"
                        data-bind="text: $data.name, click: $data.openDialog">
                    NPC
                </button>
                <!-- /ko -->
           </div>
        </div>

    </div>
    <div style="flex-grow: 1;"></div>
    <knockout data-bind="if: (player.town().dungeon && player.town() instanceof DungeonTown)">
      <div id="dungeonPokemonList" class="card">
        <!--Display all available Pokémon in this dungeon-->
        <ul class="list-inline" data-bind="foreach: player.town().dungeon.encounterList">
          <li class="list-inline-item">
            <img class="dungeon-pokemon-preview" src="" data-bind="attr:{ src: $data.image },
            css: { 'dungeon-pokemon-locked': $data.hidden }" onerror="this.src='assets/images/trainers/Mysterious Trainer.png';"/>
            <sup class="shiny" data-bind="visible: $data.shiny">✨</sup>
            <img class="lock" src="assets/images/breeding/lock.svg" data-bind="hidden: !$data.lock">
          </li>
        </ul>
      </div>
    </knockout>
</div>
</knockout>

                </div>


                <!-- Display Pokémon Attack, Click Attack damge values-->
                <div class="card-footer p-0" data-bind="hidden: App.game.gameState === GameConstants.GameState.town">
                    <table width="100%">
                        <tr>
                            <!-- ko ifnot: App.game.gameState === GameConstants.GameState.battleFrontier -->
                            <td width="50%">
                                <span style="display: inline;">
                                    Pokémon Attack:
                                    <span data-bind="
                                        text: App.game.party.pokemonAttackObservable().toLocaleString('en-US'),
                                        tooltip: {
                                            title: Battle.enemyPokemon()
                                                ? `${App.game.party.calculatePokemonAttack(
                                                    Battle.enemyPokemon().type1,
                                                    Battle.enemyPokemon().type2
                                                ).toLocaleString('en-US')} against ${Battle.enemyPokemon().name}`
                                                : '',
                                            trigger: 'hover',
                                        }
                                    "></span>
                                </span>
                            </td>
                            <td width="50%" data-bind="css: { 'text-muted': App.game.challenges.list.disableClickAttack.active() }">
                                <span style="display: inline;">Click Attack:
                                    <span data-bind="text: App.game.party.calculateClickAttack().toLocaleString('en-US')"></span>
                                </span>
                            </td>
                            <!-- /ko -->
                            <!-- ko if: App.game.gameState === GameConstants.GameState.battleFrontier -->
                            <td width="100%">
                                <span style="display: inline;">
                                    Pokémon Attack:
                                    <span data-bind="
                                        text: App.game.party.calculatePokemonAttack(
                                            PokemonType.None,
                                            PokemonType.None,
                                            true,
                                        ).toLocaleString('en-US'),
                                        tooltip: {
                                            title: Battle.enemyPokemon()
                                                ? `${App.game.party.calculatePokemonAttack(
                                                    Battle.enemyPokemon().type1,
                                                    Battle.enemyPokemon().type2
                                                ).toLocaleString('en-US')} against ${Battle.enemyPokemon().name}`
                                                : '',
                                            trigger: 'hover',
                                        }
                                    "></span>
                                </span>
                            </td>
                            <!-- /ko -->
                        </tr>
                    </table>
                </div>
            </div>

            <!-- ko if: App.game.gameState === GameConstants.GameState.dungeon -->
            <div id="dungeonMap" class="card sortable-disabled border-secondary mb-3 dungeon no-select">
                <div class="card-header p-0">
                    <span data-bind="text: DungeonRunner.dungeon.name"></span>
                </div>
                <div class="card-body p-0 text-center">
                    <table class="dungeon-board">
                      <tbody data-bind="foreach: DungeonRunner.map.board()">
                        <tr data-bind="foreach: $data">
                            <td data-bind=" click: function(){DungeonRunner.map.moveToCoordinates($context.$index(), $parentContext.$index()) }, attr: { class: $data.cssClass}"></td>
                        </tr>
                      </tbody>
                    </table>
                </div>
            </div>
            <!-- /ko -->

            <!-- Battle Frontier Information Container  -->
            
<!-- ko if: App.game.gameState === GameConstants.GameState.battleFrontier -->
<div id="battleFrontierInformation" class="card sortable-disabled border-secondary mb-3 battle-frontier no-select">
    <div class="card-header p-0">
        <span>Battle Frontier</span>
    </div>
    <!-- ko ifnot: BattleFrontierRunner.started -->
    <div class="card-body text-center">
        <h5>Welcome to the Battle Frontier!</h5>
        <p>
            Here you will be battling through many stages to earn Battle Points.<br/>
            But be aware, if you leave early, You will not earn anything.<br/>
            You'll get special items if you reach special milestone stages.<br/>
            When you are ready, click Start!<br/>
            <i>Note: there is no click damage in the Battle Frontier</i>
        </p>
        <a class="btn btn-block btn-success text-light" onclick="BattleFrontierRunner.start()">Start</a>
        <a class="btn btn-block btn-danger text-light" onclick="BattleFrontier.leave()">Leave</a>
    </div>
    <!-- /ko -->
    <!-- ko if: BattleFrontierRunner.started -->
    <div class="card-body text-center p-0">
        <table class="table table-hover table-striped table-bordered table-sm m-0">
            <thead>
                <tr>
                    <th colspan="2">Upcoming Rewards</th>
                </tr>
                <tr>
                    <th>Stage</th>
                    <th class="text-left">Reward</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: BattleFrontierMilestones.availableMilestones().slice(0, 4)">
                <tr>
                    <th class="tight" data-bind="text: $data.stage"></td>
                    <td class="text-left">
                        <img width="28px" data-bind="attr:{ src: $data.image }" />
                        <knockout data-bind="text: $data.description"></knockout>
                    </td>
                </tr>
            </tbody>
        </table>
        <a class="btn btn-block btn-danger text-light" onclick="BattleFrontierRunner.battleQuit()">Quit Battle</a>
    </div>
    <!-- /ko -->
</div>
<!-- /ko -->


            <div id="middle-bottom-sort-column">
                <div id="townMap" class="card sortable border-secondary mb-3" data-bind="visible: App.game.keyItems.hasKeyItem(KeyItems.KeyItem.Town_map) && (App.game.gameState === GameConstants.GameState.fighting || App.game.gameState === GameConstants.GameState.gym || App.game.gameState === GameConstants.GameState.town||
                    App.game.gameState === GameConstants.GameState.shop || App.game.gameState === GameConstants.GameState.farm || App.game.gameState === GameConstants.GameState.paused)">
                    <div class="card-header p-0" data-toggle="collapse" href="#mapBody">
                        <span data-bind="text: `Town Map (${GameConstants.camelCaseToString(GameConstants.Region[player.region])})`">Town Map</span>
                    </div>
                    <button class='btn btn-sm' style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;"
                    data-bind='style: { background: Weather.color() },
                        tooltip: {
                            title: Weather.tooltip(),
                            html: true,
                            placement: "bottom",
                            trigger: "hover"
                        }'>
                        <img width=30px src="" data-bind="attr: { src: Weather.image() }"/>
                    </button>
                    <div id="mapBody" class="card-body p-0 show">
                        <p id="mapTooltip" class="btn btn-secondary" style="visibility: hidden;"></p>
                        <svg id="map" viewBox="0 0 1600 960" preserveAspectRatio="xMaxYMax meet">
                            <defs>
                                <lineargradient id="mx-gradient-f8cecc-1-ea583b-1-s-0" x1="0%" x2="0%" y1="0%"
                                                y2="100%">
                                    <stop offset="0%" style="stop-color:#909090"></stop>
                                    <stop offset="100%" style="stop-color:#c1c1c1"></stop>
                                </lineargradient>
                                <lineargradient id="mx-gradient-dae8fc-1-7ea6e0-1-s-0" x1="0%" x2="0%" y1="0%"
                                                y2="100%">
                                    <stop offset="0%" style="stop-color:#DAE8FC"></stop>
                                    <stop offset="100%" style="stop-color:#7EA6E0"></stop>
                                </lineargradient>
                            </defs>

                            <g data-bind='visible: player.region == GameConstants.Region.kanto'>
    <image width="1600" height="960" xlink:href="assets/images/kanto.png" href="assets/images/kanto.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 1-->
    

<g

    transform="rotate(90 ,304, 528)"

    data-bind="click:function(){ MapHelper.moveToRoute(1, 0); } ">
    <rect data-route='1'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(1, 0) }"
        height="48"
        width="104"
        x="304" y="480">
    </rect>

    <text style="font-size: 32px" x="348" y="514">1</text>

</g>


    <!--Route 2-->
    

<g

    transform="rotate(90 ,304, 416)"

    data-bind="click:function(){ MapHelper.moveToRoute(2, 0); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 0) }"
        height="48"
        width="48"
        x="304" y="368">
    </rect>

    <text style="font-size: 32px" x="320" y="402">2</text>

</g>

    <!--Extra bit of Route 2-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(2, 0); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 0) }"
        height="16"
        width="48"
        x="304" y="352">
    </rect>

</g>

    <!--Extra bit of Route 2-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(2, 0); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 0) }"
        height="32"
        width="48"
        x="304" y="272">
    </rect>

</g>


    <!--Route 3-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(3, 0); } ">
    <rect data-route='3'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(3, 0) }"
        height="48"
        width="192"
        x="352" y="224">
    </rect>

    <text style="font-size: 32px" x="440" y="258">3</text>

</g>

    <!--Extra bit of Route 3-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(3, 0); } ">
    <rect data-route='3'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(3, 0) }"
        height="32"
        width="64"
        x="544" y="240">
    </rect>

</g>


    <!--Route 4-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(4, 0); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 0) }"
        height="48"
        width="320"
        x="624" y="176">
    </rect>

    <text style="font-size: 32px" x="776" y="210">4</text>

</g>

    <!--Extra bit of Route 4-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(4, 0); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 0) }"
        height="16"
        width="64"
        x="560" y="176">
    </rect>

</g>


    <!--Route 5-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 0); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 0) }"
        height="16"
        width="48"
        x="960" y="320">
    </rect>

</g>

    <!--Extra bit of Route 5-->
    

<g

    transform="rotate(90 ,960, 224)"

    data-bind="click:function(){ MapHelper.moveToRoute(5, 0); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 0) }"
        height="48"
        width="40"
        x="960" y="176">
    </rect>

    <text style="font-size: 32px" x="972" y="210">5</text>

</g>


    <!--Route 6-->
    

<g

    transform="rotate(90 ,960, 400)"

    data-bind="click:function(){ MapHelper.moveToRoute(6, 0); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 0) }"
        height="48"
        width="112"
        x="960" y="352">
    </rect>

    <text style="font-size: 32px" x="1008" y="386">6</text>

</g>


    <!--Route 7-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(7, 0); } ">
    <rect data-route='7'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(7, 0) }"
        height="48"
        width="144"
        x="800" y="352">
    </rect>

    <text style="font-size: 32px" x="864" y="386">7</text>

</g>


    <!--Route 8-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(8, 0); } ">
    <rect data-route='8'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(8, 0) }"
        height="48"
        width="208"
        x="1008" y="352">
    </rect>

    <text style="font-size: 32px" x="1104" y="386">8</text>

</g>


    <!--Route 9-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(9, 0); } ">
    <rect data-route='9'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(9, 0) }"
        height="48"
        width="224"
        x="1008" y="176">
    </rect>

    <text style="font-size: 32px" x="1112" y="210">9</text>

</g>


    <!--Route 10-->
    

<g

    transform="rotate(90 ,1232, 272)"

    data-bind="click:function(){ MapHelper.moveToRoute(10, 0); } ">
    <rect data-route='10'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(10, 0) }"
        height="48"
        width="64"
        x="1232" y="224">
    </rect>

    <text style="font-size: 32px" x="1248" y="258">10</text>

</g>

    <!--Extra bit of Route 10-->
    

<g

    transform="rotate(90 ,1232, 192)"

    data-bind="click:function(){ MapHelper.moveToRoute(10, 0); } ">
    <rect data-route='10'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(10, 0) }"
        height="48"
        width="32"
        x="1232" y="144">
    </rect>

</g>


    <!--Route 11-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(11, 0); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 0) }"
        height="48"
        width="144"
        x="1008" y="528">
    </rect>

    <text style="font-size: 32px" x="1064" y="562">11</text>

</g>

    <!--Extra bit of Route 11-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(11, 0); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 0) }"
        height="16"
        width="48"
        x="1152" y="560">
    </rect>

</g>

    <!--Extra bit of Route 11-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(11, 0); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 0) }"
        height="48"
        width="32"
        x="1200" y="528">
    </rect>

</g>


    <!--Route 12-->
    

<g

    transform="rotate(90 ,1232, 400)"

    data-bind="click:function(){ MapHelper.moveToRoute(12, 0); } ">
    <rect data-route='12'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(12, 0) }"
        height="48"
        width="128"
        x="1232" y="352">
    </rect>

    <text style="font-size: 32px" x="1280" y="386">12</text>

</g>


    <!--Route 13-->
    

<g

    transform="rotate(90 ,1232, 528)"

    data-bind="click:function(){ MapHelper.moveToRoute(13, 0); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 0) }"
        height="48"
        width="176"
        x="1232" y="480">
    </rect>

    <text style="font-size: 32px" x="1304" y="514">13</text>

</g>


    <!--Route 14-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 0); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 0) }"
        height="48"
        width="160"
        x="1072" y="656">
    </rect>

    <text style="font-size: 32px" x="1136" y="690">14</text>

</g>


    <!--Route 15-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 0); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 0) }"
        height="48"
        width="192"
        x="880" y="720">
    </rect>

    <text style="font-size: 32px" x="960" y="754">15</text>

</g>

    <!--Extra bit of Route 15-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 0); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 0) }"
        height="16"
        width="48"
        x="1024" y="704">
    </rect>

</g>


    <!--Route 16-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(16, 0); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 0) }"
        height="48"
        width="240"
        x="496" y="352">
    </rect>

    <text style="font-size: 32px" x="600" y="386">16</text>

</g>


    <!--Route 17-->
    

<g

    transform="rotate(90 ,496, 400)"

    data-bind="click:function(){ MapHelper.moveToRoute(17, 0); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 0) }"
        height="48"
        width="320"
        x="496" y="352">
    </rect>

    <text style="font-size: 32px" x="640" y="386">17</text>

</g>


    <!--Route 18-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(18, 0); } ">
    <rect data-route='18'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(18, 0) }"
        height="48"
        width="320"
        x="496" y="720">
    </rect>

    <text style="font-size: 32px" x="640" y="754">18</text>

</g>


    <!--Route 19-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 0); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 0) }"
        height="48"
        width="256"
        x="624" y="832">
    </rect>

    <text style="font-size: 32px" x="736" y="866">19</text>

</g>

    <!--Extra bit of Route 19-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 0); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 0) }"
        height="64"
        width="48"
        x="832" y="768">
    </rect>

</g>

    <!--Extra bit of Route 19-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 0); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 0) }"
        height="16"
        width="64"
        x="560" y="864">
    </rect>

</g>


    <!--Route 20-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(20, 0); } ">
    <rect data-route='20'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(20, 0) }"
        height="48"
        width="208"
        x="352" y="832">
    </rect>

    <text style="font-size: 32px" x="440" y="866">20</text>

</g>


    <!--Route 21-->
    

<g

    transform="rotate(90 ,304, 704)"

    data-bind="click:function(){ MapHelper.moveToRoute(21, 0); } ">
    <rect data-route='21'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(21, 0) }"
        height="48"
        width="112"
        x="304" y="656">
    </rect>

    <text style="font-size: 32px" x="344" y="690">21</text>

</g>


    <!--Route 22-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(22, 0); } ">
    <rect data-route='22'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(22, 0) }"
        height="48"
        width="128"
        x="160" y="480">
    </rect>

    <text style="font-size: 32px" x="208" y="514">22</text>

</g>


    <!--Route 23-->
    

<g

    transform="rotate(90 ,160, 256)"

    data-bind="click:function(){ MapHelper.moveToRoute(23, 0); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 0) }"
        height="48"
        width="224"
        x="160" y="208">
    </rect>

    <text style="font-size: 32px" x="256" y="242">23</text>

</g>

    <!--Extra bit of Route 23-->
    

<g

    transform="rotate(90 ,160, 128)"

    data-bind="click:function(){ MapHelper.moveToRoute(23, 0); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 0) }"
        height="48"
        width="48"
        x="160" y="80">
    </rect>

</g>


    <!--Route 24-->
    

<g

    transform="rotate(90 ,960, 96)"

    data-bind="click:function(){ MapHelper.moveToRoute(24, 0); } ">
    <rect data-route='24'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(24, 0) }"
        height="48"
        width="64"
        x="960" y="48">
    </rect>

    <text style="font-size: 32px" x="976" y="82">24</text>

</g>


    <!--Route 25-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(25, 0); } ">
    <rect data-route='25'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(25, 0) }"
        height="48"
        width="192"
        x="960" y="48">
    </rect>

    <text style="font-size: 32px" x="1040" y="82">25</text>

</g>





    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--Pallet Town-->
    

<rect class="city"
    data-town="Pallet Town" 
    x="288"
    y="632"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Pallet Town')},
        attr: { class: MapHelper.calculateTownCssClass('Pallet Town') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Viridian City-->
    

<rect class="city"
    data-town="Viridian City" 
    x="288"
    y="464"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Viridian City')},
        attr: { class: MapHelper.calculateTownCssClass('Viridian City') },
        ">
</rect>

    <!--Pewter City-->
    

<rect class="city"
    data-town="Pewter City" 
    x="288"
    y="208"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pewter City')},
        attr: { class: MapHelper.calculateTownCssClass('Pewter City') },
        ">
</rect>

    <!--Cerulean City-->
    

<rect class="city"
    data-town="Cerulean City" 
    x="944"
    y="160"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Cerulean City')},
        attr: { class: MapHelper.calculateTownCssClass('Cerulean City') },
        ">
</rect>

    <!--Vermilion City-->
    

<rect class="city"
    data-town="Vermilion City" 
    x="944"
    y="512"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Vermilion City')},
        attr: { class: MapHelper.calculateTownCssClass('Vermilion City') },
        ">
</rect>

    <!--Lavender Town-->
    

<rect class="city"
    data-town="Lavender Town" 
    x="1216"
    y="336"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Lavender Town')},
        attr: { class: MapHelper.calculateTownCssClass('Lavender Town') },
        ">
</rect>

    <!--Celadon City-->
    

<rect class="city"
    data-town="Celadon City" 
    x="736"
    y="336"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Celadon City')},
        attr: { class: MapHelper.calculateTownCssClass('Celadon City') },
        ">
</rect>

    <!--Saffron City-->
    

<rect class="city"
    data-town="Saffron City" 
    x="944"
    y="336"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Saffron City')},
        attr: { class: MapHelper.calculateTownCssClass('Saffron City') },
        ">
</rect>

    <!--Fuchsia City-->
    

<rect class="city"
    data-town="Fuchsia City" 
    x="816"
    y="704"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Fuchsia City')},
        attr: { class: MapHelper.calculateTownCssClass('Fuchsia City') },
        ">
</rect>

    <!--Cinnabar Island-->
    

<rect class="city"
    data-town="Cinnabar Island" 
    x="288"
    y="816"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Cinnabar Island')},
        attr: { class: MapHelper.calculateTownCssClass('Cinnabar Island') },
        ">
</rect>

    <!--Indigo Plateau Kanto-->
    

<rect class="city"
    data-town="Indigo Plateau Kanto" 
    x="96"
    y="0"
    height="128"
    width="176"
    data-bind="
        click:function(){MapHelper.moveToTown('Indigo Plateau Kanto')},
        attr: { class: MapHelper.calculateTownCssClass('Indigo Plateau Kanto') },
        ">
</rect>




    <!-- -------- -->
    <!-- DUNGEONS -->
    <!-- -------- -->

    <!--Viridian Forest-->
    

<rect class="city"
    data-town="Viridian Forest" 
    x="288"
    y="368"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Viridian Forest')},
        attr: { class: MapHelper.calculateTownCssClass('Viridian Forest') }">
</rect>

    <!--Digletts Cave-->
    

<rect class="city"
    data-town="Digletts Cave" 
    x="288"
    y="304"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Digletts Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Digletts Cave') }">
</rect>

    <!--Mt. Moon-->
    

<rect class="city"
    data-town="Mt. Moon" 
    x="544"
    y="192"
    height="48"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Moon')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Moon') }">
</rect>

    <!--Rock Tunnel-->
    

<rect class="city"
    data-town="Rock Tunnel" 
    x="1232"
    y="144"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Rock Tunnel')},
        attr: { class: MapHelper.calculateTownCssClass('Rock Tunnel') }">
</rect>

    <!--Power Plant-->
    

<rect class="city"
    data-town="Power Plant" 
    x="1232"
    y="224"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Power Plant')},
        attr: { class: MapHelper.calculateTownCssClass('Power Plant') }">
</rect>

    <!--Pokémon Tower-->
    

<rect class="city"
    data-town="Pokemon Tower" 
    x="1280"
    y="272"
    height="128"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Pokemon Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Pokemon Tower') }">
</rect>
    <!--Pokémon Tower Extension-->
    

<rect class="city"
    data-town="Pokemon Tower" 
    x="1296"
    y="256"
    height="16"
    width="32"
    data-bind="click:function(){MapHelper.moveToTown('Pokemon Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Pokemon Tower') }">
</rect>

    <!--Seafoam Islands-->
    

<rect class="city"
    data-town="Seafoam Islands" 
    x="560"
    y="816"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Seafoam Islands')},
        attr: { class: MapHelper.calculateTownCssClass('Seafoam Islands') }">
</rect>

    <!--Pokémon Mansion-->
    

<rect class="city"
    data-town="Pokemon Mansion" 
    x="208"
    y="800"
    height="80"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Pokemon Mansion')},
        attr: { class: MapHelper.calculateTownCssClass('Pokemon Mansion') }">
</rect>

    <!--Victory Road-->
    

<rect class="city"
    data-town="Victory Road" 
    x="144"
    y="176"
    height="80"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Victory Road')},
        attr: { class: MapHelper.calculateTownCssClass('Victory Road') }">
</rect>

    <!--Cerulean Cave-->
    

<rect class="city"
    data-town="Cerulean Cave" 
    x="880"
    y="128"
    height="32"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Cerulean Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Cerulean Cave') }">
</rect>
    <!--Cerulean Cave Extension-->
    

<rect class="city"
    data-town="Cerulean Cave" 
    x="880"
    y="160"
    height="16"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Cerulean Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Cerulean Cave') }">
</rect>




    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->

    

<rect class="city"
    data-town="Pokemon Day Care" 
    x="928"
    y="264"
    height="56"
    width="80"
    data-bind="click:function(){BreedingController.openBreedingModal()}, attr: { class: App.game.breeding.canAccess() ? &#39;city unlockedTown&#39; : &#39;city lockedTown&#39; }">
</rect>

    

<rect class="city"
    data-town="Safari Zone" 
    x="880"
    y="640"
    height="80"
    width="80"
    data-bind="click:function(){Safari.openModal()}, attr: { class: Safari.canAccess() ? &#39;city unlockedTown&#39; : &#39;city lockedTown&#39; }">
</rect>

    

<rect class="city"
    data-town="Underground Entrance" 
    x="1152"
    y="496"
    height="64"
    width="48"
    data-bind="click:function(){App.game.underground.openUndergroundModal()}, attr: { class: App.game.underground.canAccess() ? &#39;city unlockedTown&#39; : &#39;city lockedTown&#39; }">
</rect>

    

<rect class="city"
    data-town="Farm" 
    x="1024"
    y="656"
    height="48"
    width="48"
    data-bind="click:function(){FarmController.openFarmModal()}, attr: { class: App.game.farming.canAccess() ? &#39;city unlockedTown&#39; : &#39;city lockedTown&#39; }">
</rect>

    

<rect class="city"
    data-town="Dock" 
    x="880"
    y="544"
    height="32"
    width="64"
    data-bind="click:function(){MapHelper.openShipModal()}, css:{ unlockedTown: player.highestRegion() &gt;= 1}">
</rect>

    

<image href="/assets/images/ship.png" xlink:href="/assets/images/ship.png"
    x="800"
    y="560"
    height="48"
    width="128"
    data-bind="visible: player.highestRegion() &gt;= 1"/>
<rect class="city"
    data-town="SS-Anne" 
    x="800"
    y="560"
    height="48"
    width="128"
    data-bind="visible: player.highestRegion() &gt;= 1, click:function(){MapHelper.openShipModal()}, css:{ unlockedTown: player.highestRegion() &gt;= 1}">
</rect>
</g>
                            <g data-bind='visible: player.region == GameConstants.Region.johto'>
    <image width="1600" height="960" xlink:href="assets/images/johto.png" href="assets/images/johto.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 27-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(27, 1); } ">
    <rect data-route='27'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(27, 1) }"
        height="48"
        width="304"
        x="1232" y="672">
    </rect>

    <text style="font-size: 32px" x="1368" y="706">27</text>

</g>


    <!--Route 26-->
    

<g

    transform="rotate(90 ,1488, 176)"

    data-bind="click:function(){ MapHelper.moveToRoute(26, 1); } ">
    <rect data-route='26'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(26, 1) }"
        height="48"
        width="496"
        x="1488" y="128">
    </rect>

    <text style="font-size: 32px" x="1720" y="162">26</text>

</g>


    <!--Route 28-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(28, 1); } ">
    <rect data-route='28'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(28, 1) }"
        height="48"
        width="192"
        x="1296" y="528">
    </rect>

    <text style="font-size: 32px" x="1376" y="562">28</text>

</g>


    <!--Route 29-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(29, 1); } ">
    <rect data-route='29'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(29, 1) }"
        height="48"
        width="288"
        x="864" y="672">
    </rect>

    <text style="font-size: 32px" x="992" y="706">29</text>

</g>


    <!--Route 30-->
    

<g

    transform="rotate(90 ,816, 352)"

    data-bind="click:function(){ MapHelper.moveToRoute(30, 1); } ">
    <rect data-route='30'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(30, 1) }"
        height="48"
        width="304"
        x="816" y="304">
    </rect>

    <text style="font-size: 32px" x="952" y="338">30</text>

</g>


    <!--Route 31-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(31, 1); } ">
    <rect data-route='31'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(31, 1) }"
        height="48"
        width="144"
        x="720" y="304">
    </rect>

    <text style="font-size: 32px" x="776" y="338">31</text>

</g>


    <!--Route 32-->
    

<g

    transform="rotate(90 ,672, 464)"

    data-bind="click:function(){ MapHelper.moveToRoute(32, 1); } ">
    <rect data-route='32'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(32, 1) }"
        height="48"
        width="288"
        x="672" y="416">
    </rect>

    <text style="font-size: 32px" x="800" y="450">32</text>

</g>

     <!--Extra bit of Route 32-->
     

<g

    transform="rotate(90 ,672, 352)"

    data-bind="click:function(){ MapHelper.moveToRoute(32, 1); } ">
    <rect data-route='32'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(32, 1) }"
        height="48"
        width="48"
        x="672" y="304">
    </rect>

</g>

      <!--Extra bit of Route 32-->
      

<g

    transform="rotate(90 ,672, 816)"

    data-bind="click:function(){ MapHelper.moveToRoute(32, 1); } ">
    <rect data-route='32'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(32, 1) }"
        height="48"
        width="64"
        x="672" y="768">
    </rect>

</g>


    <!--Route 33-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(33, 1); } ">
    <rect data-route='33'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(33, 1) }"
        height="48"
        width="208"
        x="512" y="880">
    </rect>

    <text style="font-size: 32px" x="600" y="914">33</text>

</g>


    <!--Route 34-->
    

<g

    transform="rotate(90 ,384, 656)"

    data-bind="click:function(){ MapHelper.moveToRoute(34, 1); } ">
    <rect data-route='34'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(34, 1) }"
        height="48"
        width="144"
        x="384" y="608">
    </rect>

    <text style="font-size: 32px" x="440" y="642">34</text>

</g>

     <!--Extra bit of Route 34-->
     

<g

    transform="rotate(90 ,384, 848)"

    data-bind="click:function(){ MapHelper.moveToRoute(34, 1); } ">
    <rect data-route='34'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(34, 1) }"
        height="48"
        width="80"
        x="384" y="800">
    </rect>

</g>

      <!--Extra bit of Route 34-->
      

<g

    transform="rotate(90 ,432, 880)"

    data-bind="click:function(){ MapHelper.moveToRoute(34, 1); } ">
    <rect data-route='34'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(34, 1) }"
        height="16"
        width="48"
        x="432" y="864">
    </rect>

</g>


    <!--Route 35-->
    

<g

    transform="rotate(90 ,384, 352)"

    data-bind="click:function(){ MapHelper.moveToRoute(35, 1); } ">
    <rect data-route='35'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(35, 1) }"
        height="48"
        width="152"
        x="384" y="304">
    </rect>

    <text style="font-size: 32px" x="444" y="338">35</text>

</g>


    <!--Route 36-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(36, 1); } ">
    <rect data-route='36'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(36, 1) }"
        height="48"
        width="272"
        x="384" y="304">
    </rect>

    <text style="font-size: 32px" x="504" y="338">36</text>

</g>


    <!--Route 37-->
    

<g

    transform="rotate(90 ,528, 208)"

    data-bind="click:function(){ MapHelper.moveToRoute(37, 1); } ">
    <rect data-route='37'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(37, 1) }"
        height="48"
        width="96"
        x="528" y="160">
    </rect>

    <text style="font-size: 32px" x="560" y="194">37</text>

</g>


    <!--Route 38-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(38, 1); } ">
    <rect data-route='38'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(38, 1) }"
        height="48"
        width="224"
        x="288" y="160">
    </rect>

    <text style="font-size: 32px" x="384" y="194">38</text>

</g>


    <!--Route 39-->
    

<g

    transform="rotate(90 ,240, 160)"

    data-bind="click:function(){ MapHelper.moveToRoute(39, 1); } ">
    <rect data-route='39'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(39, 1) }"
        height="48"
        width="144"
        x="240" y="112">
    </rect>

    <text style="font-size: 32px" x="296" y="146">39</text>

</g>


    <!--Route 40-->
    

<g

    transform="rotate(90 ,176, 368)"

    data-bind="click:function(){ MapHelper.moveToRoute(40, 1); } ">
    <rect data-route='40'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(40, 1) }"
        height="48"
        width="160"
        x="176" y="320">
    </rect>

    <text style="font-size: 32px" x="240" y="354">40</text>

</g>


    <!--Route 41-->
    

<g

    transform="rotate(90 ,176, 528)"

    data-bind="click:function(){ MapHelper.moveToRoute(41, 1); } ">
    <rect data-route='41'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(41, 1) }"
        height="48"
        width="96"
        x="176" y="480">
    </rect>

    <text style="font-size: 32px" x="208" y="514">41</text>

</g>

     <!--Extra bit of Route 41-->
     

<g

    transform="rotate(90 ,176, 624)"

    data-bind="click:function(){ MapHelper.moveToRoute(41, 1); } ">
    <rect data-route='41'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(41, 1) }"
        height="16"
        width="48"
        x="176" y="608">
    </rect>

</g>

    <!--Extra bit of Route 41-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(41, 1); } ">
    <rect data-route='41'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(41, 1) }"
        height="48"
        width="96"
        x="128" y="672">
    </rect>

</g>


    <!--Route 42-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(42, 1); } ">
    <rect data-route='42'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(42, 1) }"
        height="48"
        width="192"
        x="576" y="160">
    </rect>

    <text style="font-size: 32px" x="656" y="194">42</text>

</g>

     <!--Extra bit of Route 42-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(42, 1); } ">
    <rect data-route='42'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(42, 1) }"
        height="32"
        width="64"
        x="768" y="176">
    </rect>

</g>

     <!--Extra bit of Route 42-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(42, 1); } ">
    <rect data-route='42'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(42, 1) }"
        height="48"
        width="48"
        x="832" y="160">
    </rect>

</g>


    <!--Route 43-->
    

<g

    transform="rotate(90 ,896, 0)"

    data-bind="click:function(){ MapHelper.moveToRoute(43, 1); } ">
    <rect data-route='43'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(43, 1) }"
        height="48"
        width="144"
        x="896" y="-48">
    </rect>

    <text style="font-size: 32px" x="952" y="-14">43</text>

</g>


    <!--Route 44-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(44, 1); } ">
    <rect data-route='44'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(44, 1) }"
        height="48"
        width="160"
        x="944" y="160">
    </rect>

    <text style="font-size: 32px" x="1008" y="194">44</text>

</g>

     <!--Extra bit of Route 44-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(44, 1); } ">
    <rect data-route='44'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(44, 1) }"
        height="16"
        width="16"
        x="1104" y="192">
    </rect>

</g>


    <!--Route 45-->
    

<g

    transform="rotate(90 ,1120, 288)"

    data-bind="click:function(){ MapHelper.moveToRoute(45, 1); } ">
    <rect data-route='45'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(45, 1) }"
        height="48"
        width="144"
        x="1120" y="240">
    </rect>

    <text style="font-size: 32px" x="1176" y="274">45</text>

</g>

     <!--Extra bit of Route 45-->
    

<g

    transform="rotate(90 ,1120, 192)"

    data-bind="click:function(){ MapHelper.moveToRoute(45, 1); } ">
    <rect data-route='45'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(45, 1) }"
        height="48"
        width="32"
        x="1120" y="144">
    </rect>

</g>

    <!--Extra bit of Route 45-->
   

<g

    transform="rotate(90 ,1136, 432)"

    data-bind="click:function(){ MapHelper.moveToRoute(45, 1); } ">
    <rect data-route='45'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(45, 1) }"
        height="32"
        width="64"
        x="1136" y="400">
    </rect>

</g>


    <!--Route 46-->
    

<g

    transform="rotate(90 ,1040, 480)"

    data-bind="click:function(){ MapHelper.moveToRoute(46, 1); } ">
    <rect data-route='46'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(46, 1) }"
        height="48"
        width="192"
        x="1040" y="432">
    </rect>

    <text style="font-size: 32px" x="1120" y="466">46</text>

</g>

    <!--Extra bit of Route 46-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(46, 1); } ">
    <rect data-route='46'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(46, 1) }"
        height="16"
        width="32"
        x="1088" y="480">
    </rect>

</g>

    <!--Extra bit of Route 46-->
    

<g

    transform="rotate(90 ,1040, 448)"

    data-bind="click:function(){ MapHelper.moveToRoute(46, 1); } ">
    <rect data-route='46'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(46, 1) }"
        height="32"
        width="32"
        x="1040" y="416">
    </rect>

</g>


     <!--Route 47-->
    

<g

    transform="rotate(90 ,16, 608)"

    data-bind="click:function(){ MapHelper.moveToRoute(47, 1); } ">
    <rect data-route='47'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(47, 1) }"
        height="48"
        width="112"
        x="16" y="560">
    </rect>

    <text style="font-size: 32px" x="56" y="594">47</text>

</g>


    <!--Route 48-->
    

<g

    transform="rotate(90 ,16, 400)"

    data-bind="click:function(){ MapHelper.moveToRoute(48, 1); } ">
    <rect data-route='48'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(48, 1) }"
        height="48"
        width="208"
        x="16" y="352">
    </rect>

    <text style="font-size: 32px" x="104" y="386">48</text>

</g>





    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--New Bark Town-->
    

<rect class="city"
    data-town="New Bark Town" 
    x="1152"
    y="648"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('New Bark Town')},
        attr: { class: MapHelper.calculateTownCssClass('New Bark Town') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Cherrygrove City-->
    

<rect class="city"
    data-town="Cherrygrove City" 
    x="800"
    y="656"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Cherrygrove City')},
        attr: { class: MapHelper.calculateTownCssClass('Cherrygrove City') },
        ">
</rect>

    <!--Violet City-->
    

<rect class="city"
    data-town="Violet City" 
    x="656"
    y="288"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Violet City')},
        attr: { class: MapHelper.calculateTownCssClass('Violet City') },
        ">
</rect>

    <!--Azalea Town-->
    

<rect class="city"
    data-town="Azalea Town" 
    x="448"
    y="864"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Azalea Town')},
        attr: { class: MapHelper.calculateTownCssClass('Azalea Town') },
        ">
</rect>

    <!--Goldenrod City-->
    

<rect class="city"
    data-town="Goldenrod City" 
    x="368"
    y="504"
    height="152"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Goldenrod City')},
        attr: { class: MapHelper.calculateTownCssClass('Goldenrod City') },
        ">
</rect>

    <!--Ecruteak City-->
    

<rect class="city"
    data-town="Ecruteak City" 
    x="512"
    y="144"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Ecruteak City')},
        attr: { class: MapHelper.calculateTownCssClass('Ecruteak City') },
        ">
</rect>

    <!--Olivine City-->
    

<rect class="city"
    data-town="Olivine City" 
    x="144"
    y="296"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Olivine City')},
        attr: { class: MapHelper.calculateTownCssClass('Olivine City') },
        ">
</rect>
     <!--Olivine City Extension-->
     

<rect class="city"
    data-town="Olivine City" 
    x="224"
    y="304"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Olivine City')},
        attr: { class: MapHelper.calculateTownCssClass('Olivine City') },
        ">
</rect>

    <!--Cianwood City-->
    

<rect class="city"
    data-town="Cianwood City" 
    x="64"
    y="656"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Cianwood City')},
        attr: { class: MapHelper.calculateTownCssClass('Cianwood City') },
        ">
</rect>

    <!--Mahogany Town-->
    

<rect class="city"
    data-town="Mahogany Town" 
    x="880"
    y="144"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Mahogany Town')},
        attr: { class: MapHelper.calculateTownCssClass('Mahogany Town') },
        ">
</rect>

    <!--Blackthorn City-->
    

<rect class="city"
    data-town="Blackthorn City" 
    x="1104"
    y="224"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Blackthorn City')},
        attr: { class: MapHelper.calculateTownCssClass('Blackthorn City') },
        ">
</rect>

    <!--Indigo Plateau 2.0-->
    

<rect class="city"
    data-town="Indigo Plateau Johto" 
    x="1424"
    y="48"
    height="128"
    width="176"
    data-bind="
        click:function(){MapHelper.moveToTown('Indigo Plateau Johto')},
        attr: { class: MapHelper.calculateTownCssClass('Indigo Plateau Johto') },
        ">
</rect>




    <!-- -------- -->
    <!-- DUNGEONS -->
    <!-- -------- -->

    <!--Sprout Tower-->
    

<rect class="city"
    data-town="Sprout Tower" 
    x="704"
    y="216"
    height="72"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Sprout Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Sprout Tower') }">
</rect>
    <!--Sprout Tower Extension-->
    

<rect class="city"
    data-town="Sprout Tower" 
    x="720"
    y="288"
    height="16"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Sprout Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Sprout Tower') }">
</rect>

    <!--Ruins of Alph-->
    

<rect class="city"
    data-town="Ruins of Alph" 
    x="656"
    y="400"
    height="64"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Ruins of Alph')},
        attr: { class: MapHelper.calculateTownCssClass('Ruins of Alph') }">
</rect>

    <!--Union Cave-->
    

<rect class="city"
    data-town="Union Cave" 
    x="656"
    y="752"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Union Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Union Cave') }">
</rect>

    <!--Slowpoke Well-->
    

<rect class="city"
    data-town="Slowpoke Well" 
    x="496"
    y="912"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Azalea Town')},
        attr: { class: MapHelper.calculateTownCssClass('Slowpoke Well') }">
</rect>

    <!--Ilex Forest-->
    

<rect class="city"
    data-town="Ilex Forest" 
    x="384"
    y="800"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ilex Forest')},
        attr: { class: MapHelper.calculateTownCssClass('Ilex Forest') }">
</rect>

    <!--Burned Tower-->
    

<rect class="city"
    data-town="Burned Tower" 
    x="416"
    y="32"
    height="112"
    width="112"
    data-bind="click:function(){MapHelper.moveToTown('Burned Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Burned Tower') }">
</rect>
     <!--Burned Tower Extension-->
     

<rect class="city"
    data-town="Burned Tower" 
    x="416"
    y="144"
    height="16"
    width="96"
    data-bind="click:function(){MapHelper.moveToTown('Burned Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Burned Tower') }">
</rect>

    <!--Tin Tower-->
    

<rect class="city"
    data-town="Tin Tower" 
    x="560"
    y="0"
    height="144"
    width="112"
    data-bind="click:function(){MapHelper.moveToTown('Tin Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Tin Tower') }">
</rect>
     <!--Tin Tower Extension-->
     

<rect class="city"
    data-town="Tin Tower" 
    x="576"
    y="144"
    height="16"
    width="96"
    data-bind="click:function(){MapHelper.moveToTown('Tin Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Tin Tower') }">
</rect>

    <!--Whirl Islands-->
    

<rect class="city"
    data-town="Whirl Islands" 
    x="192"
    y="624"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Whirl Islands')},
        attr: { class: MapHelper.calculateTownCssClass('Whirl Islands') }">
</rect>

    <!--Mt Mortar-->
    

<rect class="city"
    data-town="Mt Mortar" 
    x="768"
    y="128"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Mt Mortar')},
        attr: { class: MapHelper.calculateTownCssClass('Mt Mortar') }">
</rect>
     <!--Mt Mortar Extension-->
     

<rect class="city"
    data-town="Mt Mortar" 
    x="832"
    y="96"
    height="64"
    width="32"
    data-bind="click:function(){MapHelper.moveToTown('Mt Mortar')},
        attr: { class: MapHelper.calculateTownCssClass('Mt Mortar') }">
</rect>

    <!--Ice Path-->
    

<rect class="city"
    data-town="Ice Path" 
    x="1104"
    y="144"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ice Path')},
        attr: { class: MapHelper.calculateTownCssClass('Ice Path') }">
</rect>
     <!--Ice Path Extension-->
     

<rect class="city"
    data-town="Ice Path" 
    x="1168"
    y="176"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Ice Path')},
        attr: { class: MapHelper.calculateTownCssClass('Ice Path') }">
</rect>

    <!--Dark Cave-->
    

<rect class="city"
    data-town="Dark Cave" 
    x="1072"
    y="432"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Dark Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Dark Cave') }">
</rect>
     <!--Dark Cave Extension-->
     

<rect class="city"
    data-town="Dark Cave" 
    x="1120"
    y="480"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Dark Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Dark Cave') }">
</rect>

    <!--Mt Silver-->
    

<rect class="city"
    data-town="Mt Silver" 
    x="1184"
    y="496"
    height="80"
    width="112"
    data-bind="click:function(){MapHelper.moveToTown('Mt Silver')},
        attr: { class: MapHelper.calculateTownCssClass('Mt Silver') }">
</rect>
     <!--Mt Silver Extension-->
     

<rect class="city"
    data-town="Mt Silver" 
    x="1248"
    y="576"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Mt Silver')},
        attr: { class: MapHelper.calculateTownCssClass('Mt Silver') }">
</rect>




    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->

    

<rect class="city"
    data-town="Dock" 
    x="240"
    y="368"
    height="64"
    width="48"
    data-bind="click:function(){MapHelper.openShipModal()}, attr: { class: MapHelper.calculateTownCssClass(&#39;Olivine City&#39;) }">
</rect>

</g>

                            <g data-bind='visible: player.region == GameConstants.Region.hoenn'>
    <image width="1600" height="960" xlink:href="assets/images/hoenn.png" href="assets/images/hoenn.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 101-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(101, 2); } ">
    <rect data-route='101'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(101, 2) }"
        height="40"
        width="48"
        x="240" y="656">
    </rect>

    <text style="font-size: 32px" x="240" y="686">101</text>

</g>


    <!--Route 102-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(102, 2); } ">
    <rect data-route='102'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(102, 2) }"
        height="48"
        width="96"
        x="128" y="608">
    </rect>

    <text style="font-size: 32px" x="152" y="642">102</text>

</g>


    <!--Route 103-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(103, 2); } ">
    <rect data-route='103'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(103, 2) }"
        height="48"
        width="224"
        x="240" y="544">
    </rect>

    <text style="font-size: 32px" x="328" y="578">103</text>

</g>


     <!--Route 104-->
     

<g

    transform="rotate(90 ,16, 512)"

    data-bind="click:function(){ MapHelper.moveToRoute(104, 2); } ">
    <rect data-route='104'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(104, 2) }"
        height="48"
        width="144"
        x="16" y="464">
    </rect>

    <text style="font-size: 32px" x="64" y="498">104</text>

</g>

    <!--Route 104 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(104, 2); } ">
    <rect data-route='104'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(104, 2) }"
        height="16"
        width="48"
        x="16" y="448">
    </rect>

</g>


    <!--Route 105-->
    

<g

    transform="rotate(90 ,16, 656)"

    data-bind="click:function(){ MapHelper.moveToRoute(105, 2); } ">
    <rect data-route='105'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(105, 2) }"
        height="48"
        width="160"
        x="16" y="608">
    </rect>

    <text style="font-size: 32px" x="72" y="642">105</text>

</g>


    <!--Route 106-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(106, 2); } ">
    <rect data-route='106'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(106, 2) }"
        height="48"
        width="176"
        x="16" y="816">
    </rect>

    <text style="font-size: 32px" x="80" y="850">106</text>

</g>


    <!--Route 107-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(107, 2); } ">
    <rect data-route='107'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(107, 2) }"
        height="48"
        width="160"
        x="192" y="880">
    </rect>

    <text style="font-size: 32px" x="248" y="914">107</text>

</g>


    <!--Route 108-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(108, 2); } ">
    <rect data-route='108'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(108, 2) }"
        height="48"
        width="160"
        x="352" y="880">
    </rect>

    <text style="font-size: 32px" x="408" y="914">108</text>

</g>


    <!--Route 109-->
    

<g

    transform="rotate(90 ,464, 768)"

    data-bind="click:function(){ MapHelper.moveToRoute(109, 2); } ">
    <rect data-route='109'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(109, 2) }"
        height="48"
        width="112"
        x="464" y="720">
    </rect>

    <text style="font-size: 32px" x="496" y="754">109</text>

</g>


    <!--Route 110-->
    

<g

    transform="rotate(90 ,464, 432)"

    data-bind="click:function(){ MapHelper.moveToRoute(110, 2); } ">
    <rect data-route='110'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(110, 2) }"
        height="48"
        width="184"
        x="464" y="384">
    </rect>

    <text style="font-size: 32px" x="532" y="418">110</text>

</g>


    <!--Route 111-->
    

<g

    transform="rotate(90 ,464, 64)"

    data-bind="click:function(){ MapHelper.moveToRoute(111, 2); } ">
    <rect data-route='111'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(111, 2) }"
        height="48"
        width="296"
        x="464" y="16">
    </rect>

    <text style="font-size: 32px" x="588" y="50">111</text>

</g>


    <!--Route 112-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(112, 2); } ">
    <rect data-route='112'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(112, 2) }"
        height="48"
        width="112"
        x="352" y="272">
    </rect>

    <text style="font-size: 32px" x="384" y="306">112</text>

</g>


    <!--Route 113-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(113, 2); } ">
    <rect data-route='113'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(113, 2) }"
        height="48"
        width="224"
        x="240" y="64">
    </rect>

    <text style="font-size: 32px" x="328" y="98">113</text>

</g>


    <!--Route 114-->
    

<g

    transform="rotate(90 ,112, 64)"

    data-bind="click:function(){ MapHelper.moveToRoute(114, 2); } ">
    <rect data-route='114'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(114, 2) }"
        height="48"
        width="144"
        x="112" y="16">
    </rect>

    <text style="font-size: 32px" x="160" y="50">114</text>

</g>

    <!--Route 114 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(114, 2); } ">
    <rect data-route='114'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(114, 2) }"
        height="48"
        width="16"
        x="160" y="64">
    </rect>

</g>


    <!--Route 115-->
    

<g

    transform="rotate(90 ,16, 208)"

    data-bind="click:function(){ MapHelper.moveToRoute(115, 2); } ">
    <rect data-route='115'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(115, 2) }"
        height="48"
        width="88"
        x="16" y="160">
    </rect>

    <text style="font-size: 32px" x="36" y="194">115</text>

</g>

     <!--Route 115 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(115, 2); } ">
    <rect data-route='115'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(115, 2) }"
        height="48"
        width="32"
        x="16" y="160">
    </rect>

</g>


    <!--Route 116-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(116, 2); } ">
    <rect data-route='116'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(116, 2) }"
        height="48"
        width="128"
        x="80" y="336">
    </rect>

    <text style="font-size: 32px" x="120" y="370">116</text>

</g>

     <!--Route 116 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(116, 2); } ">
    <rect data-route='116'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(116, 2) }"
        height="16"
        width="16"
        x="208" y="368">
    </rect>

</g>


    <!--Route 117-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(117, 2); } ">
    <rect data-route='117'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(117, 2) }"
        height="48"
        width="144"
        x="288" y="384">
    </rect>

    <text style="font-size: 32px" x="336" y="418">117</text>

</g>


    <!--Route 118-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(118, 2); } ">
    <rect data-route='118'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(118, 2) }"
        height="48"
        width="96"
        x="576" y="384">
    </rect>

    <text style="font-size: 32px" x="600" y="418">118</text>

</g>


    <!--Route 119-->
    

<g

    transform="rotate(90 ,624, 64)"

    data-bind="click:function(){ MapHelper.moveToRoute(119, 2); } ">
    <rect data-route='119'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(119, 2) }"
        height="48"
        width="320"
        x="624" y="16">
    </rect>

    <text style="font-size: 32px" x="760" y="50">119</text>

</g>


    <!--Route 120-->
    

<g

    transform="rotate(90 ,736, 64)"

    data-bind="click:function(){ MapHelper.moveToRoute(120, 2); } ">
    <rect data-route='120'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(120, 2) }"
        height="48"
        width="208"
        x="736" y="16">
    </rect>

    <text style="font-size: 32px" x="816" y="50">120</text>

</g>


    <!--Route 121-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(121, 2); } ">
    <rect data-route='121'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(121, 2) }"
        height="48"
        width="256"
        x="784" y="224">
    </rect>

    <text style="font-size: 32px" x="888" y="258">121</text>

</g>


    <!--Route 122-->
    

<g

    transform="rotate(90 ,880, 272)"

    data-bind="click:function(){ MapHelper.moveToRoute(122, 2); } ">
    <rect data-route='122'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(122, 2) }"
        height="48"
        width="112"
        x="880" y="224">
    </rect>

    <text style="font-size: 32px" x="912" y="258">122</text>

</g>

    <!--Route 122 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(122, 2); } ">
    <rect data-route='122'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(122, 2) }"
        height="16"
        width="48"
        x="928" y="272">
    </rect>

</g>

    <!--Route 122 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(122, 2); } ">
    <rect data-route='122'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(122, 2) }"
        height="32"
        width="48"
        x="928" y="352">
    </rect>

</g>


    <!--Route 123-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(123, 2); } ">
    <rect data-route='123'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(123, 2) }"
        height="48"
        width="336"
        x="672" y="384">
    </rect>

    <text style="font-size: 32px" x="816" y="418">123</text>

</g>


    <!--Route 124-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(124, 2); } ">
    <rect data-route='124'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(124, 2) }"
        height="160"
        width="144"
        x="1184" y="224">
    </rect>

    <text style="font-size: 32px" x="1232" y="314">124</text>

</g>

     <!--Route 124 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(124, 2); } ">
    <rect data-route='124'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(124, 2) }"
        height="64"
        width="80"
        x="1248" y="160">
    </rect>

</g>

     <!--Route 124 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(124, 2); } ">
    <rect data-route='124'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(124, 2) }"
        height="96"
        width="16"
        x="1168" y="288">
    </rect>

</g>


    <!--Route 125-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(125, 2); } ">
    <rect data-route='125'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(125, 2) }"
        height="48"
        width="160"
        x="1328" y="160">
    </rect>

    <text style="font-size: 32px" x="1384" y="194">125</text>

</g>

    <!--Route 125 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(125, 2); } ">
    <rect data-route='125'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(125, 2) }"
        height="48"
        width="64"
        x="1328" y="208">
    </rect>

</g>

    <!--Route 125 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(125, 2); } ">
    <rect data-route='125'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(125, 2) }"
        height="48"
        width="32"
        x="1456" y="208">
    </rect>

</g>

    <!--Route 125 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(125, 2); } ">
    <rect data-route='125'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(125, 2) }"
        height="40"
        width="80"
        x="1328" y="256">
    </rect>

</g>

    <!--Route 125 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(125, 2); } ">
    <rect data-route='125'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(125, 2) }"
        height="48"
        width="80"
        x="1408" y="256">
    </rect>

</g>


    <!--Route 126-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(126, 2); } ">
    <rect data-route='126'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(126, 2) }"
        height="128"
        width="128"
        x="1200" y="384">
    </rect>

    <text style="font-size: 32px" x="1240" y="458">126</text>

</g>

     <!--Route 126 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(126, 2); } ">
    <rect data-route='126'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(126, 2) }"
        height="48"
        width="32"
        x="1168" y="384">
    </rect>

</g>

     <!--Route 126 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(126, 2); } ">
    <rect data-route='126'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(126, 2) }"
        height="64"
        width="32"
        x="1168" y="480">
    </rect>

</g>

     <!--Route 126 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(126, 2); } ">
    <rect data-route='126'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(126, 2) }"
        height="96"
        width="64"
        x="1264" y="512">
    </rect>

</g>

     <!--Route 126 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(126, 2); } ">
    <rect data-route='126'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(126, 2) }"
        height="32"
        width="64"
        x="1200" y="576">
    </rect>

</g>


    <!--Route 127-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(127, 2); } ">
    <rect data-route='127'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(127, 2) }"
        height="224"
        width="112"
        x="1328" y="384">
    </rect>

    <text style="font-size: 32px" x="1360" y="506">127</text>

</g>

     <!--Route 127 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(127, 2); } ">
    <rect data-route='127'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(127, 2) }"
        height="32"
        width="48"
        x="1440" y="384">
    </rect>

</g>

     <!--Route 127 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(127, 2); } ">
    <rect data-route='127'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(127, 2) }"
        height="80"
        width="32"
        x="1440" y="528">
    </rect>

</g>

     <!--Route 127 Extension-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(127, 2); } ">
    <rect data-route='127'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(127, 2) }"
        height="16"
        width="16"
        x="1472" y="544">
    </rect>

</g>


    <!--Route 128-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(128, 2); } ">
    <rect data-route='128'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(128, 2) }"
        height="48"
        width="80"
        x="1392" y="608">
    </rect>

    <text style="font-size: 32px" x="1408" y="642">128</text>

</g>


    <!--Route 129-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(129, 2); } ">
    <rect data-route='129'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(129, 2) }"
        height="48"
        width="144"
        x="1344" y="656">
    </rect>

    <text style="font-size: 32px" x="1392" y="690">129</text>

</g>


    <!--Route 130-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(130, 2); } ">
    <rect data-route='130'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(130, 2) }"
        height="48"
        width="144"
        x="1200" y="656">
    </rect>

    <text style="font-size: 32px" x="1248" y="690">130</text>

</g>


    <!--Route 131-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(131, 2); } ">
    <rect data-route='131'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(131, 2) }"
        height="48"
        width="144"
        x="1056" y="656">
    </rect>

    <text style="font-size: 32px" x="1104" y="690">131</text>

</g>


    <!--Route 132-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(132, 2); } ">
    <rect data-route='132'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(132, 2) }"
        height="48"
        width="160"
        x="832" y="656">
    </rect>

    <text style="font-size: 32px" x="888" y="690">132</text>

</g>


    <!--Route 133-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(133, 2); } ">
    <rect data-route='133'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(133, 2) }"
        height="48"
        width="144"
        x="688" y="656">
    </rect>

    <text style="font-size: 32px" x="736" y="690">133</text>

</g>


    <!--Route 134-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(134, 2); } ">
    <rect data-route='134'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(134, 2) }"
        height="48"
        width="160"
        x="528" y="656">
    </rect>

    <text style="font-size: 32px" x="584" y="690">134</text>

</g>





    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--Littleroot Town-->
    

<rect class="city"
    data-town="Littleroot Town" 
    x="224"
    y="696"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Littleroot Town')},
        attr: { class: MapHelper.calculateTownCssClass('Littleroot Town') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Oldale Town-->
    

<rect class="city"
    data-town="Oldale Town" 
    x="224"
    y="592"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Oldale Town')},
        attr: { class: MapHelper.calculateTownCssClass('Oldale Town') },
        ">
</rect>

    <!--Petalburg City-->
    

<rect class="city"
    data-town="Petalburg City" 
    x="64"
    y="592"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Petalburg City')},
        attr: { class: MapHelper.calculateTownCssClass('Petalburg City') },
        ">
</rect>

    <!--Rustboro City-->
    

<rect class="city"
    data-town="Rustboro City" 
    x="0"
    y="296"
    height="152"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Rustboro City')},
        attr: { class: MapHelper.calculateTownCssClass('Rustboro City') },
        ">
</rect>

    <!--Dewford Town-->
    

<rect class="city"
    data-town="Dewford Town" 
    x="128"
    y="864"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Dewford Town')},
        attr: { class: MapHelper.calculateTownCssClass('Dewford Town') },
        ">
</rect>

    <!--Slateport City-->
    

<rect class="city"
    data-town="Slateport City" 
    x="448"
    y="616"
    height="152"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Slateport City')},
        attr: { class: MapHelper.calculateTownCssClass('Slateport City') },
        ">
</rect>

    <!--Mauville City-->
    

<rect class="city"
    data-town="Mauville City" 
    x="432"
    y="360"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Mauville City')},
        attr: { class: MapHelper.calculateTownCssClass('Mauville City') },
        ">
</rect>
    <!--Mauville City Extension-->
    

<rect class="city"
    data-town="Mauville City" 
    x="512"
    y="368"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Mauville City')},
        attr: { class: MapHelper.calculateTownCssClass('Mauville City') },
        ">
</rect>

    <!--Verdanturf Town-->
    

<rect class="city"
    data-town="Verdanturf Town" 
    x="224"
    y="368"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Verdanturf Town')},
        attr: { class: MapHelper.calculateTownCssClass('Verdanturf Town') },
        ">
</rect>

    <!--Fallarbor Town-->
    

<rect class="city"
    data-town="Fallarbor Town" 
    x="176"
    y="48"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Fallarbor Town')},
        attr: { class: MapHelper.calculateTownCssClass('Fallarbor Town') },
        ">
</rect>

    <!--Lavaridge Town-->
    

<rect class="city"
    data-town="Lavaridge Town" 
    x="288"
    y="256"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Lavaridge Town')},
        attr: { class: MapHelper.calculateTownCssClass('Lavaridge Town') },
        ">
</rect>

    <!--Fortree City-->
    

<rect class="city"
    data-town="Fortree City" 
    x="672"
    y="48"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Fortree City')},
        attr: { class: MapHelper.calculateTownCssClass('Fortree City') },
        ">
</rect>

    <!--LilyCove City-->
    

<rect class="city"
    data-town="LilyCove City" 
    x="1040"
    y="200"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('LilyCove City')},
        attr: { class: MapHelper.calculateTownCssClass('LilyCove City') },
        ">
</rect>
    <!--LilyCove City Extension-->
    

<rect class="city"
    data-town="LilyCove City" 
    x="1120"
    y="208"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('LilyCove City')},
        attr: { class: MapHelper.calculateTownCssClass('LilyCove City') },
        ">
</rect>

    <!--Mossdeep City-->
    

<rect class="city"
    data-town="Mossdeep City" 
    x="1328"
    y="296"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Mossdeep City')},
        attr: { class: MapHelper.calculateTownCssClass('Mossdeep City') },
        ">
</rect>
    <!--Mossdeep City Extension-->
    

<rect class="city"
    data-town="Mossdeep City" 
    x="1408"
    y="304"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Mossdeep City')},
        attr: { class: MapHelper.calculateTownCssClass('Mossdeep City') },
        ">
</rect>

    <!--Sootopolis City-->
    

<rect class="city"
    data-town="Sootopolis City" 
    x="1200"
    y="512"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Sootopolis City')},
        attr: { class: MapHelper.calculateTownCssClass('Sootopolis City') },
        ">
</rect>

    <!--Pacifidlog Town-->
    

<rect class="city"
    data-town="Pacifidlog Town" 
    x="992"
    y="640"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pacifidlog Town')},
        attr: { class: MapHelper.calculateTownCssClass('Pacifidlog Town') },
        ">
</rect>

    <!--Ever Grande City-->
    

<rect class="city"
    data-town="Ever Grande City" 
    x="1488"
    y="640"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Ever Grande City')},
        attr: { class: MapHelper.calculateTownCssClass('Ever Grande City') },
        ">
</rect>

    <!--Pokémon League Hoenn-->
    

<rect class="city"
    data-town="Pokémon League Hoenn" 
    x="1440"
    y="416"
    height="128"
    width="160"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Hoenn')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Hoenn') },
        ">
</rect>

     <!--Battle Frontier-->
     

<rect class="city"
    data-town="Battle Frontier" 
    x="1232"
    y="744"
    height="72"
    width="112"
    data-bind="
        click:function(){MapHelper.moveToTown('Battle Frontier')},
        attr: { class: MapHelper.calculateTownCssClass('Battle Frontier') },
        ">
</rect>
    <!--Battle Frontier Extension-->
    

<rect class="city"
    data-town="Battle Frontier" 
    x="1272"
    y="736"
    height="8"
    width="32"
    data-bind="
        click:function(){MapHelper.moveToTown('Battle Frontier')},
        attr: { class: MapHelper.calculateTownCssClass('Battle Frontier') },
        ">
</rect>




    <!-- -------- -->
    <!-- DUNGEONS -->
    <!-- -------- -->

    <!--Petalburg Woods-->
    

<rect class="city"
    data-town="Petalburg Woods" 
    x="16"
    y="464"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Petalburg Woods')},
        attr: { class: MapHelper.calculateTownCssClass('Petalburg Woods') }">
</rect>

    <!--Rusturf Tunnel-->
    

<rect class="city"
    data-town="Rusturf Tunnel" 
    x="208"
    y="320"
    height="48"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Rusturf Tunnel')},
        attr: { class: MapHelper.calculateTownCssClass('Rusturf Tunnel') }">
</rect>

    <!--Granite Cave-->
    

<rect class="city"
    data-town="Granite Cave" 
    x="64"
    y="864"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Granite Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Granite Cave') }">
</rect>

    <!--New Mauville-->
    

<rect class="city"
    data-town="New Mauville" 
    x="512"
    y="432"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('New Mauville')},
        attr: { class: MapHelper.calculateTownCssClass('New Mauville') }">
</rect>

    <!--Meteor Falls-->
    

<rect class="city"
    data-town="Meteor Falls" 
    x="48"
    y="160"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Meteor Falls')},
        attr: { class: MapHelper.calculateTownCssClass('Meteor Falls') }">
</rect>

    <!--Fiery Path-->
    

<rect class="city"
    data-town="Fiery Path" 
    x="400"
    y="224"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Fiery Path')},
        attr: { class: MapHelper.calculateTownCssClass('Fiery Path') }">
</rect>

    <!--Jagged Pass-->
    

<rect class="city"
    data-town="Jagged Pass" 
    x="336"
    y="224"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Jagged Pass')},
        attr: { class: MapHelper.calculateTownCssClass('Jagged Pass') }">
</rect>

    <!--Mt. Chimney-->
    

<rect class="city"
    data-town="Mt. Chimney" 
    x="336"
    y="176"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Chimney')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Chimney') }">
</rect>
    
    <!--Weather Institute-->
    

<rect class="city"
    data-town="Weather Institute" 
    x="560"
    y="96"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Weather Institute')},
        attr: { class: MapHelper.calculateTownCssClass('Weather Institute') }">
</rect>

    <!--Mt. Pyre-->
    

<rect class="city"
    data-town="Mt. Pyre" 
    x="928"
    y="288"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Pyre')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Pyre') }">
</rect>
    <!--Mt. Pyre Extension-->
    

<rect class="city"
    data-town="Mt. Pyre" 
    x="992"
    y="304"
    height="48"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Pyre')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Pyre') }">
</rect>

    <!--Magma Hideout-->
    

<rect class="city"
    data-town="Magma Hideout" 
    x="400"
    y="176"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Magma Hideout')},
        attr: { class: MapHelper.calculateTownCssClass('Magma Hideout') }">
</rect>
     
    <!--Aqua Hideout-->
    

<rect class="city"
    data-town="Aqua Hideout" 
    x="1184"
    y="176"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Aqua Hideout')},
        attr: { class: MapHelper.calculateTownCssClass('Aqua Hideout') }">
</rect>
     
    <!--Aqua Hideout Extension-->
    

<rect class="city"
    data-town="Aqua Hideout" 
    x="1168"
    y="176"
    height="32"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Aqua Hideout')},
        attr: { class: MapHelper.calculateTownCssClass('Aqua Hideout') }">
</rect>

    <!--Shoal Cave-->
    

<rect class="city"
    data-town="Shoal Cave" 
    x="1392"
    y="208"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Shoal Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Shoal Cave') }">
</rect>

    <!--Seafloor Cavern-->
    

<rect class="city"
    data-town="Seafloor Cavern" 
    x="1328"
    y="608"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Seafloor Cavern')},
        attr: { class: MapHelper.calculateTownCssClass('Seafloor Cavern') }">
</rect>

    <!--Sky Pillar-->
    

<rect class="city"
    data-town="Sky Pillar" 
    x="1152"
    y="544"
    height="96"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Sky Pillar')},
        attr: { class: MapHelper.calculateTownCssClass('Sky Pillar') }">
</rect>

    <!--Cave of Origin-->
    

<rect class="city"
    data-town="Cave of Origin" 
    x="1136"
    y="432"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Cave of Origin')},
        attr: { class: MapHelper.calculateTownCssClass('Cave of Origin') }">
</rect>

    <!--Hoenn Victory Road-->
    

<rect class="city"
    data-town="Victory Road Hoenn" 
    x="1472"
    y="560"
    height="64"
    width="112"
    data-bind="click:function(){MapHelper.moveToTown('Victory Road Hoenn')},
        attr: { class: MapHelper.calculateTownCssClass('Victory Road Hoenn') }">
</rect>
    <!--Hoenn Victory Road Extension-->
    

<rect class="city"
    data-town="Victory Road Hoenn" 
    x="1520"
    y="544"
    height="16"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Victory Road Hoenn')},
        attr: { class: MapHelper.calculateTownCssClass('Victory Road Hoenn') }">
</rect>

    <!--Sealed Chamber-->
    

<rect class="city"
    data-town="Sealed Chamber" 
    x="608"
    y="560"
    height="80"
    width="96"
    data-bind="click:function(){MapHelper.moveToTown('Sealed Chamber')},
        attr: { class: MapHelper.calculateTownCssClass('Sealed Chamber') }">
</rect>




    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->

    

<rect class="city"
    data-town="Dock" 
    x="528"
    y="720"
    height="32"
    width="48"
    data-bind="click:function(){MapHelper.openShipModal()}, attr: { class: MapHelper.calculateTownCssClass(&#39;Slateport City&#39;) }">
</rect>



</g>

                            <g data-bind='visible: player.region == GameConstants.Region.sinnoh'>
    <image width="1600" height="960" xlink:href="assets/images/sinnoh.png" href="assets/images/sinnoh.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 201 extra (behind because of text)-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(201, 3); } ">
    <rect data-route='201'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(201, 3) }"
        height="40"
        width="80"
        x="112" y="800">
    </rect>

</g>

    <!--Route 201-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(201, 3); } ">
    <rect data-route='201'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(201, 3) }"
        height="48"
        width="80"
        x="192" y="800">
    </rect>

    <text style="font-size: 32px" x="168" y="834">201</text>

</g>


    <!--Route 202-->
    

<g

    transform="rotate(90 ,288, 720)"

    data-bind="click:function(){ MapHelper.moveToRoute(202, 3); } ">
    <rect data-route='202'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(202, 3) }"
        height="48"
        width="64"
        x="288" y="672">
    </rect>

    <text style="font-size: 32px" x="296" y="706">202</text>

</g>


    <!--Route 203-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(203, 3); } ">
    <rect data-route='203'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(203, 3) }"
        height="48"
        width="80"
        x="368" y="672">
    </rect>

    <text style="font-size: 32px" x="384" y="706">203</text>

</g>


    <!--Route 204-->
    

<g

    transform="rotate(90 ,288, 576)"

    data-bind="click:function(){ MapHelper.moveToRoute(204, 3); } ">
    <rect data-route='204'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(204, 3) }"
        height="48"
        width="72"
        x="288" y="528">
    </rect>

    <text style="font-size: 32px" x="300" y="562">204</text>

</g>

    <!--Route 204 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(204, 3); } ">
    <rect data-route='204'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(204, 3) }"
        height="8"
        width="32"
        x="304" y="648">
    </rect>

</g>


    <!--Route 205-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(205, 3); } ">
    <rect data-route='205'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(205, 3) }"
        height="48"
        width="144"
        x="352" y="432">
    </rect>

    <text style="font-size: 32px" x="400" y="466">205</text>

</g>

    <!--Route 205 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(205, 3); } ">
    <rect data-route='205'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(205, 3) }"
        height="32"
        width="96"
        x="288" y="480">
    </rect>

</g>

    <!--Route 205 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(205, 3); } ">
    <rect data-route='205'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(205, 3) }"
        height="64"
        width="48"
        x="336" y="512">
    </rect>

</g>

     <!--Route 205 Extension-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(205, 3); } ">
    <rect data-route='205'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(205, 3) }"
        height="48"
        width="32"
        x="384" y="528">
    </rect>

</g>


    <!--Route 206-->
    

<g

    transform="rotate(90 ,512, 480)"

    data-bind="click:function(){ MapHelper.moveToRoute(206, 3); } ">
    <rect data-route='206'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(206, 3) }"
        height="48"
        width="64"
        x="512" y="432">
    </rect>

    <text style="font-size: 32px" x="520" y="466">206</text>

</g>

    <!--Route 206 Extension-->
    

<g

    transform="rotate(90 ,512, 592)"

    data-bind="click:function(){ MapHelper.moveToRoute(206, 3); } ">
    <rect data-route='206'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(206, 3) }"
        height="48"
        width="64"
        x="512" y="544">
    </rect>

</g>


    <!--Route 207-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(207, 3); } ">
    <rect data-route='207'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(207, 3) }"
        height="48"
        width="96"
        x="512" y="656">
    </rect>

    <text style="font-size: 32px" x="536" y="690">207</text>

</g>


    <!--Route 208-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(208, 3); } ">
    <rect data-route='208'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(208, 3) }"
        height="48"
        width="96"
        x="608" y="656">
    </rect>

    <text style="font-size: 32px" x="632" y="690">208</text>

</g>


    <!--Route 208 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(208, 3); } ">
    <rect data-route='208'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(208, 3) }"
        height="16"
        width="48"
        x="704" y="688">
    </rect>

</g>


    <!--Route 209-->
    

<g

    transform="rotate(90 ,864, 608)"

    data-bind="click:function(){ MapHelper.moveToRoute(209, 3); } ">
    <rect data-route='209'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(209, 3) }"
        height="48"
        width="96"
        x="864" y="560">
    </rect>

    <text style="font-size: 32px" x="888" y="594">209</text>

</g>


    <!--Route 209 extra bit-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(209, 3); } ">
    <rect data-route='209'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(209, 3) }"
        height="48"
        width="16"
        x="848" y="656">
    </rect>

</g>


    <!--Route 209 extra 1-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(209, 3); } ">
    <rect data-route='209'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(209, 3) }"
        height="16"
        width="48"
        x="800" y="688">
    </rect>

</g>


    <!--Route 210 extra-->
    

<g

    transform="rotate(90 ,864, 480)"

    data-bind="click:function(){ MapHelper.moveToRoute(210, 3); } ">
    <rect data-route='210'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(210, 3) }"
        height="48"
        width="64"
        x="864" y="432">
    </rect>

</g>


    <!--Route 210-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(210, 3); } ">
    <rect data-route='210'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(210, 3) }"
        height="48"
        width="96"
        x="816" y="432">
    </rect>

    <text style="font-size: 32px" x="840" y="466">210</text>

</g>


    <!--Route 211-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(211, 3); } ">
    <rect data-route='211'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(211, 3) }"
        height="48"
        width="64"
        x="560" y="432">
    </rect>

    <text style="font-size: 32px" x="568" y="466">211</text>

</g>


    <!--Route 211 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(211, 3); } ">
    <rect data-route='211'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(211, 3) }"
        height="48"
        width="48"
        x="704" y="432">
    </rect>

</g>


    <!--Route 212-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(212, 3); } ">
    <rect data-route='212'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(212, 3) }"
        height="48"
        width="192"
        x="752" y="816">
    </rect>

    <text style="font-size: 32px" x="824" y="850">212</text>

</g>


    <!--Route 212 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(212, 3); } ">
    <rect data-route='212'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(212, 3) }"
        height="128"
        width="48"
        x="752" y="688">
    </rect>

</g>


    <!--Route 213-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(213, 3); } ">
    <rect data-route='213'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(213, 3) }"
        height="48"
        width="160"
        x="1008" y="816">
    </rect>

    <text style="font-size: 32px" x="1064" y="850">213</text>

</g>


    <!--Route 214-->
    

<g

    transform="rotate(90 ,1120, 528)"

    data-bind="click:function(){ MapHelper.moveToRoute(214, 3); } ">
    <rect data-route='214'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(214, 3) }"
        height="48"
        width="288"
        x="1120" y="480">
    </rect>

    <text style="font-size: 32px" x="1240" y="514">214</text>

</g>


    <!--Route 214 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(214, 3); } ">
    <rect data-route='214'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(214, 3) }"
        height="64"
        width="16"
        x="1168" y="640">
    </rect>

</g>


    <!--Route 215-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(215, 3); } ">
    <rect data-route='215'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(215, 3) }"
        height="48"
        width="112"
        x="912" y="480">
    </rect>

    <text style="font-size: 32px" x="944" y="514">215</text>

</g>


    <!--Route 216-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(216, 3); } ">
    <rect data-route='216'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(216, 3) }"
        height="48"
        width="160"
        x="480" y="272">
    </rect>

    <text style="font-size: 32px" x="536" y="306">216</text>

</g>


    <!--Route 216 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(216, 3); } ">
    <rect data-route='216'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(216, 3) }"
        height="16"
        width="64"
        x="640" y="272">
    </rect>

</g>


    <!--Route 217-->
    

<g

    transform="rotate(90 ,480, 80)"

    data-bind="click:function(){ MapHelper.moveToRoute(217, 3); } ">
    <rect data-route='217'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(217, 3) }"
        height="48"
        width="192"
        x="480" y="32">
    </rect>

    <text style="font-size: 32px" x="552" y="66">217</text>

</g>


    <!--Route 217 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(217, 3); } ">
    <rect data-route='217'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(217, 3) }"
        height="16"
        width="128"
        x="528" y="96">
    </rect>

</g>


    <!--Route 217 extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(217, 3); } ">
    <rect data-route='217'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(217, 3) }"
        height="32"
        width="16"
        x="464" y="80">
    </rect>

</g>


    <!--Route 218-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(218, 3); } ">
    <rect data-route='218'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(218, 3) }"
        height="48"
        width="80"
        x="144" y="672">
    </rect>

    <text style="font-size: 32px" x="160" y="706">218</text>

</g>


    <!--Route 219-->
    

<g

    transform="rotate(90 ,288, 848)"

    data-bind="click:function(){ MapHelper.moveToRoute(219, 3); } ">
    <rect data-route='219'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(219, 3) }"
        height="48"
        width="80"
        x="288" y="800">
    </rect>

    <text style="font-size: 32px" x="304" y="834">219</text>

</g>


    <!--Route 220-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(220, 3); } ">
    <rect data-route='220'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(220, 3) }"
        height="48"
        width="96"
        x="336" y="880">
    </rect>

    <text style="font-size: 32px" x="360" y="914">220</text>

</g>


    <!--Route 221-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(221, 3); } ">
    <rect data-route='221'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(221, 3) }"
        height="48"
        width="96"
        x="432" y="880">
    </rect>

    <text style="font-size: 32px" x="456" y="914">221</text>

</g>


    <!--Route 222-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(222, 3); } ">
    <rect data-route='222'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(222, 3) }"
        height="48"
        width="80"
        x="1168" y="784">
    </rect>

    <text style="font-size: 32px" x="1184" y="818">222</text>

</g>


    <!--Route 223-->
    

<g

    transform="rotate(90 ,1344, 544)"

    data-bind="click:function(){ MapHelper.moveToRoute(223, 3); } ">
    <rect data-route='223'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(223, 3) }"
        height="48"
        width="224"
        x="1344" y="496">
    </rect>

    <text style="font-size: 32px" x="1432" y="530">223</text>

</g>


    <!--Route 224-->
    

<g

    transform="rotate(90 ,1456, 384)"

    data-bind="click:function(){ MapHelper.moveToRoute(224, 3); } ">
    <rect data-route='224'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(224, 3) }"
        height="48"
        width="80"
        x="1456" y="336">
    </rect>

    <text style="font-size: 32px" x="1472" y="370">224</text>

</g>

    <!--Route 224 Extension-->
    

<g

    transform="rotate(90 ,1448, 416)"

    data-bind="click:function(){ MapHelper.moveToRoute(224, 3); } ">
    <rect data-route='224'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(224, 3) }"
        height="8"
        width="48"
        x="1448" y="408">
    </rect>

</g>

    <!--Route 224 Extension (Flower Path)-->
    

<g

    transform="rotate(90 ,1456, 48)"

    data-bind="click:function(){ MapHelper.moveToRoute(224, 3); } ">
    <rect data-route='224'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(224, 3) }"
        height="48"
        width="336"
        x="1456" y="0">
    </rect>

</g>


    <!--Route 225-->
    

<g

    transform="rotate(90 ,960, 112)"

    data-bind="click:function(){ MapHelper.moveToRoute(225, 3); } ">
    <rect data-route='225'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(225, 3) }"
        height="48"
        width="104"
        x="960" y="64">
    </rect>

    <text style="font-size: 32px" x="988" y="98">225</text>

</g>

    <!--Route 225 extra-->
    

<g

    transform="rotate(90 ,1008, 112)"

    data-bind="click:function(){ MapHelper.moveToRoute(225, 3); } ">
    <rect data-route='225'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(225, 3) }"
        height="16"
        width="48"
        x="1008" y="96">
    </rect>

</g>


    <!--Route 226-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(226, 3); } ">
    <rect data-route='226'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(226, 3) }"
        height="48"
        width="144"
        x="1088" y="112">
    </rect>

    <text style="font-size: 32px" x="1136" y="146">226</text>

</g>


    <!--Route 227-->
    

<g

    transform="rotate(90 ,1184, 48)"

    data-bind="click:function(){ MapHelper.moveToRoute(227, 3); } ">
    <rect data-route='227'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(227, 3) }"
        height="48"
        width="64"
        x="1184" y="0">
    </rect>

    <text style="font-size: 32px" x="1192" y="34">227</text>

</g>


    <!--Route 228-->
    

<g

    transform="rotate(90 ,1232, 112)"

    data-bind="click:function(){ MapHelper.moveToRoute(228, 3); } ">
    <rect data-route='228'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(228, 3) }"
        height="48"
        width="128"
        x="1232" y="64">
    </rect>

    <text style="font-size: 32px" x="1272" y="98">228</text>

</g>


    <!--Route 229-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(229, 3); } ">
    <rect data-route='229'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(229, 3) }"
        height="48"
        width="96"
        x="1232" y="240">
    </rect>

    <text style="font-size: 32px" x="1256" y="274">229</text>

</g>


    <!--Route 230-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(230, 3); } ">
    <rect data-route='230'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(230, 3) }"
        height="48"
        width="192"
        x="1040" y="240">
    </rect>

    <text style="font-size: 32px" x="1112" y="274">230</text>

</g>


    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--Twinleaf Town-->
    

<rect class="city"
    data-town="Twinleaf Town" 
    x="112"
    y="840"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Twinleaf Town')},
        attr: { class: MapHelper.calculateTownCssClass('Twinleaf Town') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Sandgem Town-->
    

<rect class="city"
    data-town="Sandgem Town" 
    x="272"
    y="784"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Sandgem Town')},
        attr: { class: MapHelper.calculateTownCssClass('Sandgem Town') },
        ">
</rect>

    <!--Canalave City-->
    

<rect class="city"
    data-town="Canalave City" 
    x="80"
    y="656"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Canalave City')},
        attr: { class: MapHelper.calculateTownCssClass('Canalave City') },
        ">
</rect>

    <!--Jubilife City-->
    

<rect class="city"
    data-town="Jubilife City" 
    x="224"
    y="656"
    height="64"
    width="144"
    data-bind="
        click:function(){MapHelper.moveToTown('Jubilife City')},
        attr: { class: MapHelper.calculateTownCssClass('Jubilife City') },
        ">
</rect>
    <!--Jubilife City extra-->
    

<rect class="city"
    data-town="Jubilife City" 
    x="224"
    y="648"
    height="8"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Jubilife City')},
        attr: { class: MapHelper.calculateTownCssClass('Jubilife City') },
        ">
</rect>

    <!--Oreburgh City-->
    

<rect class="city"
    data-town="Oreburgh City" 
    x="448"
    y="656"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Oreburgh City')},
        attr: { class: MapHelper.calculateTownCssClass('Oreburgh City') },
        ">
</rect>

    <!--Floaroma Town-->
    

<rect class="city"
    data-town="Floaroma Town" 
    x="272"
    y="512"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Floaroma Town')},
        attr: { class: MapHelper.calculateTownCssClass('Floaroma Town') },
        ">
</rect>

    <!--Eterna City-->
    

<rect class="city"
    data-town="Eterna City" 
    x="496"
    y="416"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Eterna City')},
        attr: { class: MapHelper.calculateTownCssClass('Eterna City') },
        ">
</rect>

    <!--Hearthome City-->
    

<rect class="city"
    data-town="Hearthome City" 
    x="704"
    y="624"
    height="64"
    width="144"
    data-bind="
        click:function(){MapHelper.moveToTown('Hearthome City')},
        attr: { class: MapHelper.calculateTownCssClass('Hearthome City') },
        ">
</rect>

    <!--Hearthome City extra-->
    

<rect class="city"
    data-town="Hearthome City" 
    x="704"
    y="616"
    height="8"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Hearthome City')},
        attr: { class: MapHelper.calculateTownCssClass('Hearthome City') },
        ">
</rect>

    <!--Celestic Town-->
    

<rect class="city"
    data-town="Celestic Town" 
    x="752"
    y="416"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Celestic Town')},
        attr: { class: MapHelper.calculateTownCssClass('Celestic Town') },
        ">
</rect>

    <!--Veilstone City-->
    

<rect class="city"
    data-town="Veilstone City" 
    x="1024"
    y="464"
    height="64"
    width="144"
    data-bind="
        click:function(){MapHelper.moveToTown('Veilstone City')},
        attr: { class: MapHelper.calculateTownCssClass('Veilstone City') },
        ">
</rect>

    <!--Veilstone City extra-->
    

<rect class="city"
    data-town="Veilstone City" 
    x="1024"
    y="456"
    height="8"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Veilstone City')},
        attr: { class: MapHelper.calculateTownCssClass('Veilstone City') },
        ">
</rect>

    <!--Solaceon Town-->
    

<rect class="city"
    data-town="Solaceon Town" 
    x="848"
    y="544"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Solaceon Town')},
        attr: { class: MapHelper.calculateTownCssClass('Solaceon Town') },
        ">
</rect>

    <!--Pastoria City-->
    

<rect class="city"
    data-town="Pastoria City" 
    x="944"
    y="800"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pastoria City')},
        attr: { class: MapHelper.calculateTownCssClass('Pastoria City') },
        ">
</rect>

    <!--Sunyshore City-->
    

<rect class="city"
    data-town="Sunyshore City" 
    x="1248"
    y="768"
    height="64"
    width="144"
    data-bind="
        click:function(){MapHelper.moveToTown('Sunyshore City')},
        attr: { class: MapHelper.calculateTownCssClass('Sunyshore City') },
        ">
</rect>

    <!--Sunyshore City extra-->
    

<rect class="city"
    data-town="Sunyshore City" 
    x="1248"
    y="760"
    height="8"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Sunyshore City')},
        attr: { class: MapHelper.calculateTownCssClass('Sunyshore City') },
        ">
</rect>

    <!--Snowpoint City-->
    

<rect class="city"
    data-town="Snowpoint City" 
    x="528"
    y="24"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Snowpoint City')},
        attr: { class: MapHelper.calculateTownCssClass('Snowpoint City') },
        ">
</rect>

    <!--Fight Area-->
    

<rect class="city"
    data-town="Fight Area" 
    x="960"
    y="216"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Fight Area')},
        attr: { class: MapHelper.calculateTownCssClass('Fight Area') },
        ">
</rect>

    <!--Survival Area-->
    

<rect class="city"
    data-town="Survival Area" 
    x="1024"
    y="96"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Survival Area')},
        attr: { class: MapHelper.calculateTownCssClass('Survival Area') },
        ">
</rect>

    <!--Resort Area-->
    

<rect class="city"
    data-town="Resort Area" 
    x="1264"
    y="288"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Resort Area')},
        attr: { class: MapHelper.calculateTownCssClass('Resort Area') },
        ">
</rect>

    <!--Pal Park-->
    

<rect class="city"
    data-town="Pal Park" 
    x="528"
    y="864"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pal Park')},
        attr: { class: MapHelper.calculateTownCssClass('Pal Park') },
        ">
</rect>

    <!--Pokémon League Sinnoh-->
    

<rect class="city"
    data-town="Pokémon League Sinnoh" 
    x="1288"
    y="387.2"
    height="108.8"
    width="160"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Sinnoh')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Sinnoh') },
        ">
</rect>

    <!-- -------- -->
    <!-- DUNGEONS -->
    <!-- -------- -->

    <!--Lake Verity-->
    

<rect class="city"
    data-town="Lake Verity" 
    x="48"
    y="784"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lake Verity')},
        attr: { class: MapHelper.calculateTownCssClass('Lake Verity') }">
</rect>

    <!--Ravaged Path-->
    

<rect class="city"
    data-town="Ravaged Path" 
    x="224"
    y="592"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ravaged Path')},
        attr: { class: MapHelper.calculateTownCssClass('Ravaged Path') }">
</rect>

    <!--Eterna Forest-->
    

<rect class="city"
    data-town="Eterna Forest" 
    x="288"
    y="432"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Eterna Forest')},
        attr: { class: MapHelper.calculateTownCssClass('Eterna Forest') }">
</rect>

    <!--Old Chateau-->
    

<rect class="city"
    data-town="Old Chateau" 
    x="224"
    y="464"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Old Chateau')},
        attr: { class: MapHelper.calculateTownCssClass('Old Chateau') }">
</rect>

    <!--Oreburgh Gate-->
    

<rect class="city"
    data-town="Oreburgh Gate" 
    x="384"
    y="624"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Oreburgh Gate')},
        attr: { class: MapHelper.calculateTownCssClass('Oreburgh Gate') }">
</rect>

    <!--Wayward Cave-->
    

<rect class="city"
    data-town="Wayward Cave" 
    x="512"
    y="544"
    height="48"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Wayward Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Wayward Cave') }">
</rect>

    <!--Mt. Coronet North-->
    

<rect class="city"
    data-town="Mt. Coronet North" 
    x="640"
    y="352"
    height="64"
    width="96"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Coronet North')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Coronet North') }">
</rect>

    <!--Mt. Coronet North extra-->
    

<rect class="city"
    data-town="Mt. Coronet North" 
    x="704"
    y="416"
    height="16"
    width="32"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Coronet North')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Coronet North') }">
</rect>

    <!--Mt. Coronet North extra 2-->
    

<rect class="city"
    data-town="Mt. Coronet North" 
    x="640"
    y="288"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Coronet North')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Coronet North') }">
</rect>

    <!--Spear Pillar-->
    

<rect class="city"
    data-town="Spear Pillar" 
    x="640"
    y="496"
    height="96"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Spear Pillar')},
        attr: { class: MapHelper.calculateTownCssClass('Spear Pillar') }">
</rect>

    <!--Hall of Origin-->
    

<rect class="city"
    data-town="Hall of Origin" 
    x="624"
    y="416"
    height="80"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Hall of Origin')},
        attr: { class: MapHelper.calculateTownCssClass('Hall of Origin') }">
</rect>

    <!--Mt. Coronet South-->
    

<rect class="city"
    data-town="Mt. Coronet South" 
    x="592"
    y="528"
    height="128"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Coronet South')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Coronet South') }">
</rect>

    <!--Mt. Coronet South extra-->
    

<rect class="city"
    data-town="Mt. Coronet South" 
    x="640"
    y="592"
    height="64"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Mt. Coronet South')},
        attr: { class: MapHelper.calculateTownCssClass('Mt. Coronet South') }">
</rect>
    <!--Solaceon Ruins-->
    

<rect class="city"
    data-town="Solaceon Ruins" 
    x="912"
    y="560"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Solaceon Ruins')},
        attr: { class: MapHelper.calculateTownCssClass('Solaceon Ruins') }">
</rect>
    <!--Lake Valor-->
    

<rect class="city"
    data-town="Lake Valor" 
    x="1056"
    y="752"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lake Valor')},
        attr: { class: MapHelper.calculateTownCssClass('Lake Valor') }">
</rect>

    <!--Distortion World-->
    

<rect class="city"
    data-town="Distortion World" 
    x="1184"
    y="624"
    height="80"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Distortion World')},
        attr: { class: MapHelper.calculateTownCssClass('Distortion World') }">
</rect>

    <!--Lake Acuity-->
    

<rect class="city"
    data-town="Lake Acuity" 
    x="464"
    y="16"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lake Acuity')},
        attr: { class: MapHelper.calculateTownCssClass('Lake Acuity') }">
</rect>

    <!--Snowpoint Temple-->
    

<rect class="city"
    data-town="Snowpoint Temple" 
    x="608"
    y="0"
    height="96"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Snowpoint Temple')},
        attr: { class: MapHelper.calculateTownCssClass('Snowpoint Temple') }">
</rect>

    <!--Fullmoon Island-->
    

<rect class="city"
    data-town="Fullmoon Island" 
    x="64"
    y="96"
    height="48"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Fullmoon Island')},
        attr: { class: MapHelper.calculateTownCssClass('Fullmoon Island') }">
</rect>

    <!--Newmoon Island-->
    

<rect class="city"
    data-town="Newmoon Island" 
    x="240"
    y="96"
    height="48"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Newmoon Island')},
        attr: { class: MapHelper.calculateTownCssClass('Newmoon Island') }">
</rect>

    <!--Iron Island-->
    

<rect class="city"
    data-town="Iron Island" 
    x="160"
    y="384"
    height="48"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Iron Island')},
        attr: { class: MapHelper.calculateTownCssClass('Iron Island') }">
</rect>

    <!--Flower Paradise-->
    

<rect class="city"
    data-town="Flower Paradise" 
    x="1456"
    y="0"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Flower Paradise')},
        attr: { class: MapHelper.calculateTownCssClass('Flower Paradise') }">
</rect>

    <!--Stark Mountain-->
    

<rect class="city"
    data-town="Stark Mountain" 
    x="1104"
    y="0"
    height="48"
    width="160"
    data-bind="click:function(){MapHelper.moveToTown('Stark Mountain')},
        attr: { class: MapHelper.calculateTownCssClass('Stark Mountain') }">
</rect>

    <!--Victory Road Sinnoh-->
    

<rect class="city"
    data-town="Victory Road Sinnoh" 
    x="1344"
    y="496"
    height="48"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Victory Road Sinnoh')},
        attr: { class: MapHelper.calculateTownCssClass('Victory Road Sinnoh') }">
</rect>

    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->

    

<rect class="city"
    data-town="Dock" 
    x="96"
    y="592"
    height="64"
    width="48"
    data-bind="click: function(){MapHelper.openShipModal()}, attr: { class: MapHelper.calculateTownCssClass(&#39;Canalave City&#39;) }">
</rect>
</g>

                            <g data-bind='visible: player.region == GameConstants.Region.unova'>
    <image width="1600" height="960" xlink:href="assets/images/unova.png" href="assets/images/unova.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 1-->
    

<g

    transform="rotate(90 ,1392, 816)"

    data-bind="click:function(){ MapHelper.moveToRoute(1, 4); } ">
    <rect data-route='1'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(1, 4) }"
        height="48"
        width="48"
        x="1392" y="768">
    </rect>

    <text style="font-size: 32px" x="1408" y="802">1</text>

</g>


    <!--Route 2-->
    

<g

    transform="rotate(90 ,1392, 688)"

    data-bind="click:function(){ MapHelper.moveToRoute(2, 4); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 4) }"
        height="48"
        width="64"
        x="1392" y="640">
    </rect>

    <text style="font-size: 32px" x="1416" y="674">2</text>

</g>


    <!--Route 3-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(3, 4); } ">
    <rect data-route='3'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(3, 4) }"
        height="48"
        width="96"
        x="1280" y="640">
    </rect>

    <text style="font-size: 32px" x="1320" y="674">3</text>

</g>


    <!--Route 4-->
    

<g

    transform="rotate(90 ,816, 560)"

    data-bind="click:function(){ MapHelper.moveToRoute(4, 4); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 4) }"
        height="48"
        width="216"
        x="816" y="512">
    </rect>

    <text style="font-size: 32px" x="916" y="546">4</text>

</g>

    <!--extra Route 4-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(4, 4); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 4) }"
        height="8"
        width="16"
        x="848" y="776">
    </rect>

</g>


    <!--Desert Resort-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(25, 4); } ">
    <rect data-route='25'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(25, 4) }"
        height="48"
        width="64"
        x="752" y="608">
    </rect>

    <text style="font-size: 32px" x="752" y="642">D.R.</text>

</g>


    <!--Route 5-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 4); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 4) }"
        height="48"
        width="208"
        x="544" y="512">
    </rect>

    <text style="font-size: 32px" x="640" y="546">5</text>

</g>


    <!--Route 6-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(6, 4); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 4) }"
        height="48"
        width="112"
        x="288" y="464">
    </rect>

    <text style="font-size: 32px" x="336" y="498">6</text>

</g>

    <!--Extra bit of Route 6-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(6, 4); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 4) }"
        height="48"
        width="48"
        x="352" y="512">
    </rect>

</g>


    <!--Route 7-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(7, 4); } ">
    <rect data-route='7'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(7, 4) }"
        height="48"
        width="96"
        x="288" y="256">
    </rect>

    <text style="font-size: 32px" x="328" y="290">7</text>

</g>

     <!--Extra bit of Route 7-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(7, 4); } ">
    <rect data-route='7'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(7, 4) }"
        height="48"
        width="48"
        x="288" y="304">
    </rect>

</g>


    <!--Route 8-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(8, 4); } ">
    <rect data-route='8'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(8, 4) }"
        height="48"
        width="112"
        x="544" y="208">
    </rect>

    <text style="font-size: 32px" x="592" y="242">8</text>

</g>


    <!--Route 9-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(9, 4); } ">
    <rect data-route='9'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(9, 4) }"
        height="48"
        width="96"
        x="656" y="208">
    </rect>

    <text style="font-size: 32px" x="696" y="242">9</text>

</g>


    <!--Route 11-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(11, 4); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 4) }"
        height="48"
        width="112"
        x="896" y="208">
    </rect>

    <text style="font-size: 32px" x="936" y="242">11</text>

</g>


    <!--Route 12-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(12, 4); } ">
    <rect data-route='12'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(12, 4) }"
        height="48"
        width="112"
        x="1008" y="208">
    </rect>

    <text style="font-size: 32px" x="1048" y="242">12</text>

</g>


    <!--Route 13-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 4); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 4) }"
        height="48"
        width="112"
        x="1184" y="208">
    </rect>

    <text style="font-size: 32px" x="1224" y="242">13</text>

</g>

    <!--Extra bit of Route 13-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 4); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 4) }"
        height="16"
        width="48"
        x="1248" y="256">
    </rect>

</g>

    <!--Extra bit of Route 13-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 4); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 4) }"
        height="40"
        width="144"
        x="1248" y="272">
    </rect>

</g>

    <!--Extra bit of Route 13-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 4); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 4) }"
        height="8"
        width="16"
        x="1248" y="312">
    </rect>

</g>

    <!--Extra bit of Route 13-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 4); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 4) }"
        height="8"
        width="48"
        x="1344" y="312">
    </rect>

</g>


    <!--Route 14-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 4); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 4) }"
        height="48"
        width="208"
        x="1184" y="400">
    </rect>

    <text style="font-size: 32px" x="1272" y="434">14</text>

</g>

    <!--Extra bit of Route 14-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 4); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 4) }"
        height="16"
        width="48"
        x="1344" y="384">
    </rect>

</g>

    <!--Extra bit of Route 14-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 4); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 4) }"
        height="48"
        width="48"
        x="1184" y="448">
    </rect>

</g>


    <!--Route 15-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 4); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 4) }"
        height="48"
        width="96"
        x="992" y="512">
    </rect>

    <text style="font-size: 32px" x="1024" y="546">15</text>

</g>


    <!--Route 16-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(16, 4); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 4) }"
        height="48"
        width="96"
        x="896" y="512">
    </rect>

    <text style="font-size: 32px" x="928" y="546">16</text>

</g>


    <!--Route 17-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(17, 4); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 4) }"
        height="48"
        width="240"
        x="1120" y="880">
    </rect>

    <text style="font-size: 32px" x="1224" y="914">17</text>

</g>

    <!--Extra bit of Route 17-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(17, 4); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 4) }"
        height="48"
        width="64"
        x="1312" y="832">
    </rect>

</g>

    <!--Extra bit of Route 17-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(17, 4); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 4) }"
        height="32"
        width="16"
        x="1376" y="832">
    </rect>

</g>


    <!--Route 18-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(18, 4); } ">
    <rect data-route='18'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(18, 4) }"
        height="48"
        width="128"
        x="1120" y="832">
    </rect>

    <text style="font-size: 32px" x="1168" y="866">18</text>

</g>


    <!--Route 19-->
    

<g

    transform="rotate(90 ,112, 688)"

    data-bind="click:function(){ MapHelper.moveToRoute(19, 4); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 4) }"
        height="48"
        width="136"
        x="112" y="640">
    </rect>

    <text style="font-size: 32px" x="164" y="674">19</text>

</g>

     <!--Extra bit of Route 19-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 4); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 4) }"
        height="48"
        width="16"
        x="160" y="688">
    </rect>

</g>


    <!--Route 20-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(20, 4); } ">
    <rect data-route='20'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(20, 4) }"
        height="48"
        width="208"
        x="240" y="688">
    </rect>

    <text style="font-size: 32px" x="328" y="722">20</text>

</g>


    <!--Route 21-->
    

<g

    transform="rotate(90 ,1456, 160)"

    data-bind="click:function(){ MapHelper.moveToRoute(21, 4); } ">
    <rect data-route='21'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(21, 4) }"
        height="48"
        width="96"
        x="1456" y="112">
    </rect>

    <text style="font-size: 32px" x="1488" y="146">21</text>

</g>


    <!--Undella Bay-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(24, 4); } ">
    <rect data-route='24'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(24, 4) }"
        height="48"
        width="96"
        x="1408" y="336">
    </rect>

    <text style="font-size: 32px" x="1424" y="370">U.B.</text>

</g>


    <!--Undella Bay extension-->
    

<g

    transform="rotate(90 ,1456, 304)"

    data-bind="click:function(){ MapHelper.moveToRoute(24, 4); } ">
    <rect data-route='24'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(24, 4) }"
        height="48"
        width="32"
        x="1456" y="256">
    </rect>

</g>


     <!--Route 22-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(22, 4); } ">
    <rect data-route='22'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(22, 4) }"
        height="48"
        width="112"
        x="1328" y="112">
    </rect>

    <text style="font-size: 32px" x="1368" y="146">22</text>

</g>


    <!--Route 23-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 4); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 4) }"
        height="32"
        width="48"
        x="1184" y="80">
    </rect>

    <text style="font-size: 32px" x="1192" y="106">23</text>

</g>

    <!--Extra bit of Route 23-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 4); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 4) }"
        height="48"
        width="112"
        x="1120" y="32">
    </rect>

</g>

    <!--Extra bit of Route 23-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 4); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 4) }"
        height="48"
        width="80"
        x="1184" y="112">
    </rect>

</g>

    <!--Extra bit of Route 23-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 4); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 4) }"
        height="48"
        width="8"
        x="1048" y="32">
    </rect>

</g>



    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--Nuvema Town-->
    

<rect class="city"
    data-town="Nuvema Town" 
    x="1376"
    y="864"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Nuvema Town')},
        attr: { class: MapHelper.calculateTownCssClass('Nuvema Town') },
        ">
</rect>

    <!--Accumula Town-->
    

<rect class="city"
    data-town="Accumula Town" 
    x="1376"
    y="752"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Accumula Town')},
        attr: { class: MapHelper.calculateTownCssClass('Accumula Town') },
        ">
</rect>

    <!--Striaton City-->
    

<rect class="city"
    data-town="Striaton City" 
    x="1376"
    y="624"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Striaton City')},
        attr: { class: MapHelper.calculateTownCssClass('Striaton City') },
        ">
</rect>

    <!--Nacrene City-->
    

<rect class="city"
    data-town="Nacrene City" 
    x="1216"
    y="624"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Nacrene City')},
        attr: { class: MapHelper.calculateTownCssClass('Nacrene City') },
        ">
</rect>

    <!--Castelia City-->
    

<rect class="city"
    data-town="Castelia City" 
    x="768"
    y="776"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Castelia City')},
        attr: { class: MapHelper.calculateTownCssClass('Castelia City') },
        ">
</rect>
    <!--Castelia City Extension-->
    

<rect class="city"
    data-town="Castelia City" 
    x="848"
    y="784"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Castelia City')},
        attr: { class: MapHelper.calculateTownCssClass('Castelia City') },
        ">
</rect>

    <!--Nimbasa City-->
    

<rect class="city"
    data-town="Nimbasa City" 
    x="752"
    y="488"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Nimbasa City')},
        attr: { class: MapHelper.calculateTownCssClass('Nimbasa City') },
        ">
</rect>
    <!--Nimbasa City Extension-->
    

<rect class="city"
    data-town="Nimbasa City" 
    x="832"
    y="496"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Nimbasa City')},
        attr: { class: MapHelper.calculateTownCssClass('Nimbasa City') },
        ">
</rect>

    <!--Driftveil City-->
    

<rect class="city"
    data-town="Driftveil City" 
    x="400"
    y="488"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Driftveil City')},
        attr: { class: MapHelper.calculateTownCssClass('Driftveil City') },
        ">
</rect>
    <!--Driftveil City Extension-->
    

<rect class="city"
    data-town="Driftveil City" 
    x="480"
    y="496"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Driftveil City')},
        attr: { class: MapHelper.calculateTownCssClass('Driftveil City') },
        ">
</rect>

    <!--Mistralton City-->
    

<rect class="city"
    data-town="Mistralton City" 
    x="192"
    y="344"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Mistralton City')},
        attr: { class: MapHelper.calculateTownCssClass('Mistralton City') },
        ">
</rect>
    <!--Mistralton City Extension-->
    

<rect class="city"
    data-town="Mistralton City" 
    x="272"
    y="352"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Mistralton City')},
        attr: { class: MapHelper.calculateTownCssClass('Mistralton City') },
        ">
</rect>

    <!--Icirrus City-->
    

<rect class="city"
    data-town="Icirrus City" 
    x="400"
    y="184"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Icirrus City')},
        attr: { class: MapHelper.calculateTownCssClass('Icirrus City') },
        ">
</rect>
    <!--Icirrus City Extension-->
    

<rect class="city"
    data-town="Icirrus City" 
    x="480"
    y="192"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Icirrus City')},
        attr: { class: MapHelper.calculateTownCssClass('Icirrus City') },
        ">
</rect>

    <!--Opelucid City-->
    

<rect class="city"
    data-town="Opelucid City" 
    x="752"
    y="184"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Opelucid City')},
        attr: { class: MapHelper.calculateTownCssClass('Opelucid City') },
        ">
</rect>
    <!--Opelucid City Extension-->
    

<rect class="city"
    data-town="Opelucid City" 
    x="832"
    y="192"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Opelucid City')},
        attr: { class: MapHelper.calculateTownCssClass('Opelucid City') },
        ">
</rect>

    <!--Lacunosa Town-->
    

<rect class="city"
    data-town="Lacunosa Town" 
    x="1120"
    y="192"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Lacunosa Town')},
        attr: { class: MapHelper.calculateTownCssClass('Lacunosa Town') },
        ">
</rect>

    <!--Undella Town-->
    

<rect class="city"
    data-town="Undella Town" 
    x="1264"
    y="312"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Undella Town')},
        attr: { class: MapHelper.calculateTownCssClass('Undella Town') },
        ">
</rect>
    <!--Undella Town Extension-->
    

<rect class="city"
    data-town="Undella Town" 
    x="1344"
    y="320"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Undella Town')},
        attr: { class: MapHelper.calculateTownCssClass('Undella Town') },
        ">
</rect>

    <!--Lentimas Town-->
    

<rect class="city"
    data-town="Lentimas Town" 
    x="1072"
    y="320"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Lentimas Town')},
        attr: { class: MapHelper.calculateTownCssClass('Lentimas Town') },
        ">
</rect>

    <!--Black and White Park-->
    

<rect class="city"
    data-town="Black and White Park" 
    x="1088"
    y="488"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Black and White Park')},
        attr: { class: MapHelper.calculateTownCssClass('Black and White Park') },
        ">
</rect>
    <!--Black and White Park-->
    

<rect class="city"
    data-town="Black and White Park" 
    x="1168"
    y="496"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Black and White Park')},
        attr: { class: MapHelper.calculateTownCssClass('Black and White Park') },
        ">
</rect>

    <!--Humilau City-->
    

<rect class="city"
    data-town="Humilau City" 
    x="1440"
    y="88"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Humilau City')},
        attr: { class: MapHelper.calculateTownCssClass('Humilau City') },
        ">
</rect>

    <!--Aspertia City-->
    

<rect class="city"
    data-town="Aspertia City" 
    x="96"
    y="824"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Aspertia City')},
        attr: { class: MapHelper.calculateTownCssClass('Aspertia City') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Floccesy Town-->
    

<rect class="city"
    data-town="Floccesy Town" 
    x="176"
    y="672"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Floccesy Town')},
        attr: { class: MapHelper.calculateTownCssClass('Floccesy Town') },
        ">
</rect>

    <!--Virbank City-->
    

<rect class="city"
    data-town="Virbank City" 
    x="448"
    y="672"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Virbank City')},
        attr: { class: MapHelper.calculateTownCssClass('Virbank City') },
        ">
</rect>

    <!--Anville Town-->
    

<rect class="city"
    data-town="Anville Town" 
    x="128"
    y="48"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Anville Town')},
        attr: { class: MapHelper.calculateTownCssClass('Anville Town') },
        ">
</rect>

    <!--Pokémon League Unova-->
    

<rect class="city"
    data-town="Pokémon League Unova" 
    x="888"
    y="4"
    height="108"
    width="160"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Unova')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Unova') },
        ">
</rect>

    <!-- -------- -->
    <!-- DUNGEONS -->
    <!-- -------- -->

    <!--P2 Laboratory-->
    

<rect class="city"
    data-town="P2 Laboratory" 
    x="1248"
    y="832"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('P2 Laboratory')},
        attr: { class: MapHelper.calculateTownCssClass('P2 Laboratory') }">
</rect>

    <!--Seaside Cave-->
    

<rect class="city"
    data-town="Seaside Cave" 
    x="1456"
    y="256"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Seaside Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Seaside Cave') }">
</rect>

    <!--Dreamyard-->
    

<rect class="city"
    data-town="Dreamyard" 
    x="1440"
    y="640"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Dreamyard')},
        attr: { class: MapHelper.calculateTownCssClass('Dreamyard') }">
</rect>

    <!--Pinwheel Forest-->
    

<rect class="city"
    data-town="Pinwheel Forest" 
    x="1152"
    y="640"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Pinwheel Forest')},
        attr: { class: MapHelper.calculateTownCssClass('Pinwheel Forest') }">
</rect>

    <!--Castelia Sewers-->
    

<rect class="city"
    data-town="Castelia Sewers" 
    x="896"
    y="832"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Castelia City')},
        attr: { class: MapHelper.calculateTownCssClass('Castelia Sewers') }">
</rect>

    <!-- Desert Resort
    

<rect class="city"
    data-town="Desert Resort" 
    x="752"
    y="656"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Desert Resort')},
        attr: { class: MapHelper.calculateTownCssClass('Desert Resort') }">
</rect> -->

    <!--Relic Castle-->
    

<rect class="city"
    data-town="Relic Castle" 
    x="688"
    y="608"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Relic Castle')},
        attr: { class: MapHelper.calculateTownCssClass('Relic Castle') }">
</rect>

    <!--Relic Passage-->
    

<rect class="city"
    data-town="Relic Passage" 
    x="592"
    y="640"
    height="48"
    width="96"
    data-bind="click:function(){MapHelper.moveToTown('Relic Passage')},
        attr: { class: MapHelper.calculateTownCssClass('Relic Passage') }">
</rect>

    <!--Mistralton Cave-->
    

<rect class="city"
    data-town="Mistralton Cave" 
    x="368"
    y="416"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Mistralton Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Mistralton Cave') }">
</rect>

    <!--Chargestone Cave-->
    

<rect class="city"
    data-town="Chargestone Cave" 
    x="272"
    y="416"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Chargestone Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Chargestone Cave') }">
</rect>

    <!--Celestial Tower-->
    

<rect class="city"
    data-town="Celestial Tower" 
    x="272"
    y="208"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Celestial Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Celestial Tower') }">
</rect>

    <!--Twist Mountain-->
    

<rect class="city"
    data-town="Twist Mountain" 
    x="336"
    y="208"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Twist Mountain')},
        attr: { class: MapHelper.calculateTownCssClass('Twist Mountain') }">
</rect>

    <!--Dragonspiral Tower-->
    

<rect class="city"
    data-town="Dragonspiral Tower" 
    x="416"
    y="128"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Dragonspiral Tower')},
        attr: { class: MapHelper.calculateTownCssClass('Dragonspiral Tower') }">
</rect>

    <!--Moor of Icirrus-->
    

<rect class="city"
    data-town="Moor of Icirrus" 
    x="544"
    y="160"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Moor of Icirrus')},
        attr: { class: MapHelper.calculateTownCssClass('Moor of Icirrus') }">
</rect>

    <!--Reversal Mountain-->
    

<rect class="city"
    data-town="Reversal Mountain" 
    x="1184"
    y="320"
    height="80"
    width="80"
    data-bind="click:function(){MapHelper.moveToTown('Reversal Mountain')},
        attr: { class: MapHelper.calculateTownCssClass('Reversal Mountain') }">
</rect>

    <!--Reversal Mountain extra-->
    

<rect class="city"
    data-town="Reversal Mountain" 
    x="1136"
    y="336"
    height="48"
    width="48"
    data-bind="click:function(){MapHelper.moveToTown('Reversal Mountain')},
        attr: { class: MapHelper.calculateTownCssClass('Reversal Mountain') }">
</rect>

    <!--Abundant Shrine-->
    

<rect class="city"
    data-town="Abundant Shrine" 
    x="1120"
    y="400"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Abundant Shrine')},
        attr: { class: MapHelper.calculateTownCssClass('Abundant Shrine') }">
</rect>

    <!--Lostlorn Forest-->
    

<rect class="city"
    data-town="Lostlorn Forest" 
    x="944"
    y="464"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lostlorn Forest')},
        attr: { class: MapHelper.calculateTownCssClass('Lostlorn Forest') }">
</rect>

    <!--Floccesy Ranch-->
    

<rect class="city"
    data-town="Floccesy Ranch" 
    x="272"
    y="640"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Floccesy Ranch')},
        attr: { class: MapHelper.calculateTownCssClass('Floccesy Ranch') }">
</rect>

    <!--Cave of Being-->
    

<rect class="city"
    data-town="Cave of Being" 
    x="272"
    y="736"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Cave of Being')},
        attr: { class: MapHelper.calculateTownCssClass('Cave of Being') }">
</rect>

    <!--Liberty Garden-->
    

<rect class="city"
    data-town="Liberty Garden" 
    x="448"
    y="832"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Liberty Garden')},
        attr: { class: MapHelper.calculateTownCssClass('Liberty Garden') }">
</rect>

    <!--Giant Chasm-->
    

<rect class="city"
    data-town="Giant Chasm" 
    x="1264"
    y="112"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Giant Chasm')},
        attr: { class: MapHelper.calculateTownCssClass('Giant Chasm') }">
</rect>

    <!--Victory Road Unova-->
    

<rect class="city"
    data-town="Victory Road Unova" 
    x="1056"
    y="32"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Victory Road Unova')},
        attr: { class: MapHelper.calculateTownCssClass('Victory Road Unova') }">
</rect>

    <!--Pledge Grove-->
    

<rect class="city"
    data-town="Pledge Grove" 
    x="176"
    y="624"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Pledge Grove')},
        attr: { class: MapHelper.calculateTownCssClass('Pledge Grove') }">
</rect>

    <!--Plasma Frigate-->
    

<rect class="city"
    data-town="Plasma Frigate" 
    x="1536"
    y="288"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Plasma Frigate')},
        attr: { class: MapHelper.calculateTownCssClass('Plasma Frigate') }">
</rect>
    <!--Plasma Frigate Extension-->
    

<rect class="city"
    data-town="Plasma Frigate" 
    x="1520"
    y="304"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Plasma Frigate')},
        attr: { class: MapHelper.calculateTownCssClass('Plasma Frigate') }">
</rect>

    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->
    

<rect class="city"
    data-town="Dock" 
    x="784"
    y="848"
    height="112"
    width="48"
    data-bind="click:function(){MapHelper.openShipModal()}, attr: { class: MapHelper.calculateTownCssClass(&#39;Castelia City&#39;) }">
</rect>

    <!--bridge-->
    

<rect class="city"
    data-town="Skyarrow Bridge" 
    x="912"
    y="784"
    height="48"
    width="160"
    data-bind="attr: { class: MapHelper.accessToRoute(4, GameConstants.Region.unova) ? &#39;unlockedRoute&#39; : &#39;lockedRoute&#39; },
            click: () =&gt; {
                Notifier.notify({message: &#39;What a lovely view&#39;});
            }">
</rect>
    <!--bridge-->
    

<rect class="city"
    data-town="Skyarrow Bridge" 
    x="1024"
    y="640"
    height="144"
    width="48"
    data-bind="attr: { class: MapHelper.accessToRoute(4, GameConstants.Region.unova) ? &#39;unlockedRoute&#39; : &#39;lockedRoute&#39; },
            click: () =&gt; {
                Notifier.notify({message: &#39;What a lovely view&#39;});
            }">
</rect>
    <!--bridge-->
    

<rect class="city"
    data-town="Skyarrow Bridge" 
    x="1072"
    y="640"
    height="48"
    width="80"
    data-bind="attr: { class: MapHelper.accessToRoute(4, GameConstants.Region.unova) ? &#39;unlockedRoute&#39; : &#39;lockedRoute&#39; },
            click: () =&gt; {
                Notifier.notify({message: &#39;What a lovely view&#39;});
            }">
</rect>
</g>

                            <g data-bind='visible: player.region == GameConstants.Region.kalos'>
    <image width="1600" height="960" xlink:href="assets/images/kalos.png" href="assets/images/kalos.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 1-->
    

<g

    transform="rotate(90 ,848, 752)"

    data-bind="click:function(){ MapHelper.moveToRoute(1, 5); } ">
    <rect data-route='1'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(1, 5) }"
        height="48"
        width="72"
        x="848" y="704">
    </rect>

    <text style="font-size: 32px" x="876" y="738">1</text>

</g>


    <!--Route 2-->
    

<g

    transform="rotate(90 ,848, 656)"

    data-bind="click:function(){ MapHelper.moveToRoute(2, 5); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 5) }"
        height="48"
        width="32"
        x="848" y="608">
    </rect>

    <text style="font-size: 32px" x="856" y="642">2</text>

</g>


    <!--Route 3-->
    

<g

    transform="rotate(90 ,800, 576)"

    data-bind="click:function(){ MapHelper.moveToRoute(3, 5); } ">
    <rect data-route='3'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(3, 5) }"
        height="48"
        width="80"
        x="800" y="528">
    </rect>

    <text style="font-size: 32px" x="832" y="562">3</text>

</g>


    <!--Route 4-->
    

<g

    transform="rotate(90 ,800, 416)"

    data-bind="click:function(){ MapHelper.moveToRoute(4, 5); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 5) }"
        height="48"
        width="96"
        x="800" y="368">
    </rect>

    <text style="font-size: 32px" x="840" y="402">4</text>

</g>


    <!--Route 5-->
    

<g

    transform="rotate(90 ,752, 416)"

    data-bind="click:function(){ MapHelper.moveToRoute(5, 5); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 5) }"
        height="48"
        width="64"
        x="752" y="368">
    </rect>

</g>

    <!--Route 5 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 5); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 5) }"
        height="16"
        width="16"
        x="752" y="400">
    </rect>

</g>

    <!--Route 5 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 5); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 5) }"
        height="48"
        width="96"
        x="656" y="432">
    </rect>

    <text style="font-size: 32px" x="696" y="466">5</text>

</g>

    <!--Route 5 extras-->
    

<g

    transform="rotate(90 ,656, 480)"

    data-bind="click:function(){ MapHelper.moveToRoute(5, 5); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 5) }"
        height="48"
        width="80"
        x="656" y="432">
    </rect>

</g>

    <!--Route 5 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 5); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 5) }"
        height="48"
        width="32"
        x="624" y="512">
    </rect>

</g>


    <!--Route 6-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(6, 5); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 5) }"
        height="64"
        width="48"
        x="560" y="432">
    </rect>

    <text style="font-size: 32px" x="576" y="474">6</text>

</g>

    <!--Route 6 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(6, 5); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 5) }"
        height="48"
        width="32"
        x="528" y="432">
    </rect>

</g>


    <!--Route 7-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(7, 5); } ">
    <rect data-route='7'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(7, 5) }"
        height="48"
        width="112"
        x="448" y="512">
    </rect>

    <text style="font-size: 32px" x="496" y="546">7</text>

</g>


    <!--Route 8-->
    

<g

    transform="rotate(90 ,384, 560)"

    data-bind="click:function(){ MapHelper.moveToRoute(8, 5); } ">
    <rect data-route='8'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(8, 5) }"
        height="48"
        width="96"
        x="384" y="512">
    </rect>

    <text style="font-size: 32px" x="424" y="546">8</text>

</g>


    <!--Route 9-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(9, 5); } ">
    <rect data-route='9'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(9, 5) }"
        height="48"
        width="112"
        x="384" y="720">
    </rect>

    <text style="font-size: 32px" x="432" y="754">9</text>

</g>


    <!--Route 10-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(10, 5); } ">
    <rect data-route='10'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(10, 5) }"
        height="48"
        width="208"
        x="112" y="464">
    </rect>

    <text style="font-size: 32px" x="200" y="498">10</text>

</g>

    <!--Route 10 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(10, 5); } ">
    <rect data-route='10'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(10, 5) }"
        height="32"
        width="64"
        x="320" y="464">
    </rect>

</g>


    <!--Route 11-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(11, 5); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 5) }"
        height="48"
        width="96"
        x="160" y="416">
    </rect>

    <text style="font-size: 32px" x="192" y="450">11</text>

</g>


    <!--Route 12-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(12, 5); } ">
    <rect data-route='12'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(12, 5) }"
        height="48"
        width="288"
        x="272" y="320">
    </rect>

    <text style="font-size: 32px" x="400" y="354">12</text>

</g>


    <!--Route 13-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 5); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 5) }"
        height="48"
        width="160"
        x="576" y="272">
    </rect>

    <text style="font-size: 32px" x="640" y="306">13</text>

</g>

    <!--Route 13 extras-->
    

<g

    transform="rotate(90 ,688, 320)"

    data-bind="click:function(){ MapHelper.moveToRoute(13, 5); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 5) }"
        height="48"
        width="80"
        x="688" y="272">
    </rect>

</g>

    <!--Route 13 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 5); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 5) }"
        height="48"
        width="32"
        x="736" y="352">
    </rect>

</g>


    <!--Route 14-->
    

<g

    transform="rotate(90 ,832, 112)"

    data-bind="click:function(){ MapHelper.moveToRoute(14, 5); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 5) }"
        height="48"
        width="232"
        x="832" y="64">
    </rect>

    <text style="font-size: 32px" x="932" y="98">14</text>

</g>

    <!--Route 14 extras-->
    

<g

    transform="rotate(90 ,848, 344)"

    data-bind="click:function(){ MapHelper.moveToRoute(14, 5); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 5) }"
        height="32"
        width="8"
        x="848" y="312">
    </rect>

</g>


    <!--Route 15-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 5); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 5) }"
        height="48"
        width="64"
        x="976" y="48">
    </rect>

</g>

    <!--Route 15 extras-->
    

<g

    transform="rotate(90 ,992, 96)"

    data-bind="click:function(){ MapHelper.moveToRoute(15, 5); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 5) }"
        height="48"
        width="192"
        x="992" y="48">
    </rect>

    <text style="font-size: 32px" x="1072" y="82">15</text>

</g>

    <!--Route 15 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 5); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 5) }"
        height="32"
        width="160"
        x="1040" y="240">
    </rect>

</g>

    <!--Route 15 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 5); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 5) }"
        height="16"
        width="32"
        x="1168" y="272">
    </rect>

</g>

    <!--Route 15 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 5); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 5) }"
        height="16"
        width="64"
        x="1040" y="272">
    </rect>

</g>


    <!--Route 16-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(16, 5); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 5) }"
        height="48"
        width="176"
        x="928" y="288">
    </rect>

    <text style="font-size: 32px" x="1000" y="322">16</text>

</g>

    <!--Route 16 extras-->
    

<g

    transform="rotate(90 ,928, 336)"

    data-bind="click:function(){ MapHelper.moveToRoute(16, 5); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 5) }"
        height="48"
        width="80"
        x="928" y="288">
    </rect>

</g>

    <!--Route 16 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(16, 5); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 5) }"
        height="48"
        width="16"
        x="912" y="368">
    </rect>

</g>


    <!--Route 17-->
    

<g

    transform="rotate(90 ,1120, 336)"

    data-bind="click:function(){ MapHelper.moveToRoute(17, 5); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 5) }"
        height="48"
        width="80"
        x="1120" y="288">
    </rect>

</g>

    <!--Route 17 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(17, 5); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 5) }"
        height="48"
        width="64"
        x="1168" y="368">
    </rect>

    <text style="font-size: 32px" x="1184" y="402">17</text>

</g>


    <!--Route 18-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(18, 5); } ">
    <rect data-route='18'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(18, 5) }"
        height="32"
        width="80"
        x="1296" y="368">
    </rect>

    <text style="font-size: 32px" x="1320" y="394">18</text>

</g>

    <!--Route 18 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(18, 5); } ">
    <rect data-route='18'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(18, 5) }"
        height="16"
        width="32"
        x="1296" y="400">
    </rect>

</g>


    <!--Route 19-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 5); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 5) }"
        height="48"
        width="80"
        x="1248" y="416">
    </rect>

</g>

    <!--Route 19 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 5); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 5) }"
        height="112"
        width="48"
        x="1248" y="464">
    </rect>

    <text style="font-size: 32px" x="1256" y="530">19</text>

</g>

    <!--Route 19 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 5); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 5) }"
        height="48"
        width="32"
        x="1216" y="528">
    </rect>

</g>


    <!--Route 20-->
    

<g

    transform="rotate(90 ,1152, 576)"

    data-bind="click:function(){ MapHelper.moveToRoute(20, 5); } ">
    <rect data-route='20'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(20, 5) }"
        height="48"
        width="96"
        x="1152" y="528">
    </rect>

    <text style="font-size: 32px" x="1184" y="562">20</text>

</g>

    <!--Route 20 extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(20, 5); } ">
    <rect data-route='20'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(20, 5) }"
        height="48"
        width="16"
        x="1136" y="624">
    </rect>

</g>


    <!--Route 21-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(21, 5); } ">
    <rect data-route='21'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(21, 5) }"
        height="48"
        width="144"
        x="1008" y="528">
    </rect>

    <text style="font-size: 32px" x="1064" y="562">21</text>

</g>


    <!--Route 22-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(22, 5); } ">
    <rect data-route='22'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(22, 5) }"
        height="48"
        width="160"
        x="848" y="528">
    </rect>

    <text style="font-size: 32px" x="912" y="562">22</text>

</g>


    <!--Azure Bay-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 5); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 5) }"
        height="48"
        width="64"
        x="448" y="272">
    </rect>

</g>

    <!--Azure Bay extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 5); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 5) }"
        height="48"
        width="160"
        x="336" y="208">
    </rect>

    <text style="font-size: 32px" x="384" y="242">A.B.</text>

</g>
<!--Azure Bay extras-->
    

<g

    transform="rotate(90 ,448, 256)"

    data-bind="click:function(){ MapHelper.moveToRoute(23, 5); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 5) }"
        height="48"
        width="16"
        x="448" y="208">
    </rect>

</g>



    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--Vaniville Town-->
    

<rect class="city"
    data-town="Vaniville Town" 
    x="832"
    y="824"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Vaniville Town')},
        attr: { class: MapHelper.calculateTownCssClass('Vaniville Town') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Aquacorde Town-->
    

<rect class="city"
    data-town="Aquacorde Town" 
    x="832"
    y="688"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Aquacorde Town')},
        attr: { class: MapHelper.calculateTownCssClass('Aquacorde Town') },
        ">
</rect>

    <!--Santalune City-->
    

<rect class="city"
    data-town="Santalune City" 
    x="784"
    y="512"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Santalune City')},
        attr: { class: MapHelper.calculateTownCssClass('Santalune City') },
        ">
</rect>

    <!--Lumiose City-->
    

<rect class="city"
    data-town="Lumiose City" 
    x="768"
    y="344"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Lumiose City')},
        attr: { class: MapHelper.calculateTownCssClass('Lumiose City') },
        ">
</rect>
    <!--Lumiose City extras-->
    

<rect class="city"
    data-town="Lumiose City" 
    x="848"
    y="352"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Lumiose City')},
        attr: { class: MapHelper.calculateTownCssClass('Lumiose City') },
        ">
</rect>

    <!--Camphrier Town-->
    

<rect class="city"
    data-town="Camphrier Town" 
    x="560"
    y="496"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Camphrier Town')},
        attr: { class: MapHelper.calculateTownCssClass('Camphrier Town') },
        ">
</rect>

    <!--Ambrette Town-->
    

<rect class="city"
    data-town="Ambrette Town" 
    x="368"
    y="656"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Ambrette Town')},
        attr: { class: MapHelper.calculateTownCssClass('Ambrette Town') },
        ">
</rect>

    <!--Cyllage City-->
    

<rect class="city"
    data-town="Cyllage City" 
    x="320"
    y="496"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Cyllage City')},
        attr: { class: MapHelper.calculateTownCssClass('Cyllage City') },
        ">
</rect>

    <!--Geosenge Town-->
    

<rect class="city"
    data-town="Geosenge Town" 
    x="96"
    y="400"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Geosenge Town')},
        attr: { class: MapHelper.calculateTownCssClass('Geosenge Town') },
        ">
</rect>

    <!--Shalour City-->
    

<rect class="city"
    data-town="Shalour City" 
    x="208"
    y="304"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Shalour City')},
        attr: { class: MapHelper.calculateTownCssClass('Shalour City') },
        ">
</rect>

    <!--Coumarine City-->
    

<rect class="city"
    data-town="Coumarine City" 
    x="512"
    y="256"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Coumarine City')},
        attr: { class: MapHelper.calculateTownCssClass('Coumarine City') },
        ">
</rect>

    <!--Laverre City-->
        

<rect class="city"
    data-town="Laverre City" 
    x="832"
    y="40"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Laverre City')},
        attr: { class: MapHelper.calculateTownCssClass('Laverre City') },
        ">
</rect>
    <!--Laverre City extras-->
    

<rect class="city"
    data-town="Laverre City" 
    x="912"
    y="48"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Laverre City')},
        attr: { class: MapHelper.calculateTownCssClass('Laverre City') },
        ">
</rect>

    <!--Dendemille Town-->
    

<rect class="city"
    data-town="Dendemille Town" 
    x="1104"
    y="272"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Dendemille Town')},
        attr: { class: MapHelper.calculateTownCssClass('Dendemille Town') },
        ">
</rect>

    <!--Anistar City-->
    

<rect class="city"
    data-town="Anistar City" 
    x="1232"
    y="352"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Anistar City')},
        attr: { class: MapHelper.calculateTownCssClass('Anistar City') },
        ">
</rect>

    <!--Couriway Town-->
    

<rect class="city"
    data-town="Couriway Town" 
    x="1328"
    y="400"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Couriway Town')},
        attr: { class: MapHelper.calculateTownCssClass('Couriway Town') },
        ">
</rect>

    <!--Snowbelle City-->
    

<rect class="city"
    data-town="Snowbelle City" 
    x="1152"
    y="512"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Snowbelle City')},
        attr: { class: MapHelper.calculateTownCssClass('Snowbelle City') },
        ">
</rect>

    <!--Pokémon League-->
    

<rect class="city"
    data-town="Pokémon League Kalos" 
    x="968"
    y="352"
    height="120"
    width="160"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Kalos')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Kalos') },
        ">
</rect>

    <!--Kiloude City-->
    

<rect class="city"
    data-town="Kiloude City" 
    x="1168"
    y="816"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Kiloude City')},
        attr: { class: MapHelper.calculateTownCssClass('Kiloude City') },
        ">
</rect>

    <!-- ----- -->
    <!--DUNGEONS-->
    <!-- ----- -->

    

<rect class="city"
    data-town="Santalune Forest" 
    x="848"
    y="608"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Santalune Forest')},
        attr: { class: MapHelper.calculateTownCssClass('Santalune Forest') }">
</rect>

    

<rect class="city"
    data-town="Parfum Palace" 
    x="464"
    y="432"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Parfum Palace')},
        attr: { class: MapHelper.calculateTownCssClass('Parfum Palace') }">
</rect>

    

<rect class="city"
    data-town="Connecting Cave" 
    x="384"
    y="512"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Connecting Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Connecting Cave') }">
</rect>

    

<rect class="city"
    data-town="Glittering Cave" 
    x="496"
    y="720"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Glittering Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Glittering Cave') }">
</rect>

    

<rect class="city"
    data-town="Reflection Cave" 
    x="208"
    y="368"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Reflection Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Reflection Cave') }">
</rect>

    

<rect class="city"
    data-town="Lost Hotel" 
    x="928"
    y="160"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lost Hotel')},
        attr: { class: MapHelper.calculateTownCssClass('Lost Hotel') }">
</rect>

    

<rect class="city"
    data-town="Frost Cavern" 
    x="1200"
    y="240"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Frost Cavern')},
        attr: { class: MapHelper.calculateTownCssClass('Frost Cavern') }">
</rect>

    

<rect class="city"
    data-town="Pokéball Factory" 
    x="912"
    y="0"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Pokéball Factory')},
        attr: { class: MapHelper.calculateTownCssClass('Pokéball Factory') }">
</rect>

    

<rect class="city"
    data-town="Kalos Power Plant" 
    x="592"
    y="320"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Kalos Power Plant')},
        attr: { class: MapHelper.calculateTownCssClass('Kalos Power Plant') }">
</rect>

    

<rect class="city"
    data-town="Team Flare Secret HQ" 
    x="1584"
    y="944"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Geosenge Town')},
        attr: { class: MapHelper.calculateTownCssClass('Team Flare Secret HQ') }">
</rect>

    

<rect class="city"
    data-town="Terminus Cave" 
    x="1376"
    y="336"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Terminus Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Terminus Cave') }">
</rect>

    

<rect class="city"
    data-town="Pokémon Village" 
    x="1072"
    y="624"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Pokémon Village')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon Village') }">
</rect>

    

<rect class="city"
    data-town="Victory Road Kalos" 
    x="976"
    y="480"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Victory Road Kalos')},
        attr: { class: MapHelper.calculateTownCssClass('Victory Road Kalos') }">
</rect>

    

<rect class="city"
    data-town="Sea Spirit&#39;s Den" 
    x="272"
    y="208"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Sea Spirit\&#39;s Den')},
        attr: { class: MapHelper.calculateTownCssClass('Sea Spirit\&#39;s Den') }">
</rect>

    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->

    

<rect class="city"
    data-town="Dock" 
    x="512"
    y="192"
    height="64"
    width="48"
    data-bind="click:function(){MapHelper.openShipModal()}, attr: { class: MapHelper.calculateTownCssClass(&#39;Coumarine City&#39;) }">
</rect>

</g>

                            <g data-bind='visible: player.region == GameConstants.Region.alola'>
    <image width="1600" height="960" xlink:href="assets/images/background.png" href="assets/images/background.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(1, 6); } ">
    <rect data-route='1'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(1, 6) }"
        height="48"
        width="192"
        x="0" y="0">
    </rect>

    <text style="font-size: 32px" x="88" y="34">1</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(18, 6); } ">
    <rect data-route='18'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(18, 6) }"
        height="48"
        width="192"
        x="0" y="48">
    </rect>

    <text style="font-size: 32px" x="80" y="82">18</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(2, 6); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 6) }"
        height="48"
        width="192"
        x="0" y="96">
    </rect>

    <text style="font-size: 32px" x="88" y="130">2</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(3, 6); } ">
    <rect data-route='3'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(3, 6) }"
        height="48"
        width="192"
        x="0" y="144">
    </rect>

    <text style="font-size: 32px" x="88" y="178">3</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(4, 6); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 6) }"
        height="48"
        width="192"
        x="0" y="192">
    </rect>

    <text style="font-size: 32px" x="88" y="226">4</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 6); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 6) }"
        height="48"
        width="192"
        x="0" y="240">
    </rect>

    <text style="font-size: 32px" x="88" y="274">5</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 6); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 6) }"
        height="48"
        width="192"
        x="0" y="288">
    </rect>

    <text style="font-size: 32px" x="80" y="322">19</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(20, 6); } ">
    <rect data-route='20'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(20, 6) }"
        height="48"
        width="192"
        x="0" y="336">
    </rect>

    <text style="font-size: 32px" x="80" y="370">20</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(6, 6); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 6) }"
        height="48"
        width="192"
        x="0" y="384">
    </rect>

    <text style="font-size: 32px" x="88" y="418">6</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(7, 6); } ">
    <rect data-route='7'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(7, 6) }"
        height="48"
        width="192"
        x="0" y="432">
    </rect>

    <text style="font-size: 32px" x="88" y="466">7</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(8, 6); } ">
    <rect data-route='8'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(8, 6) }"
        height="48"
        width="192"
        x="0" y="480">
    </rect>

    <text style="font-size: 32px" x="88" y="514">8</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(9, 6); } ">
    <rect data-route='9'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(9, 6) }"
        height="48"
        width="192"
        x="0" y="528">
    </rect>

    <text style="font-size: 32px" x="88" y="562">9</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(21, 6); } ">
    <rect data-route='21'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(21, 6) }"
        height="48"
        width="192"
        x="0" y="576">
    </rect>

    <text style="font-size: 32px" x="80" y="610">21</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(10, 6); } ">
    <rect data-route='10'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(10, 6) }"
        height="48"
        width="192"
        x="0" y="624">
    </rect>

    <text style="font-size: 32px" x="80" y="658">10</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(22, 6); } ">
    <rect data-route='22'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(22, 6) }"
        height="48"
        width="192"
        x="0" y="672">
    </rect>

    <text style="font-size: 32px" x="80" y="706">22</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(11, 6); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 6) }"
        height="48"
        width="192"
        x="0" y="720">
    </rect>

    <text style="font-size: 32px" x="80" y="754">11</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(12, 6); } ">
    <rect data-route='12'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(12, 6) }"
        height="48"
        width="192"
        x="0" y="768">
    </rect>

    <text style="font-size: 32px" x="80" y="802">12</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 6); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 6) }"
        height="48"
        width="192"
        x="192" y="16">
    </rect>

    <text style="font-size: 32px" x="272" y="50">13</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 6); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 6) }"
        height="48"
        width="192"
        x="192" y="64">
    </rect>

    <text style="font-size: 32px" x="272" y="98">14</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 6); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 6) }"
        height="48"
        width="192"
        x="192" y="112">
    </rect>

    <text style="font-size: 32px" x="272" y="146">15</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(16, 6); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 6) }"
        height="48"
        width="192"
        x="192" y="160">
    </rect>

    <text style="font-size: 32px" x="272" y="194">16</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(17, 6); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 6) }"
        height="48"
        width="192"
        x="192" y="208">
    </rect>

    <text style="font-size: 32px" x="272" y="242">17</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(23, 6); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 6) }"
        height="48"
        width="192"
        x="192" y="256">
    </rect>

    <text style="font-size: 32px" x="272" y="290">23</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(24, 6); } ">
    <rect data-route='24'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(24, 6) }"
        height="48"
        width="192"
        x="192" y="304">
    </rect>

    <text style="font-size: 32px" x="272" y="338">24</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(25, 6); } ">
    <rect data-route='25'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(25, 6) }"
        height="48"
        width="192"
        x="192" y="352">
    </rect>

    <text style="font-size: 32px" x="272" y="386">25</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(26, 6); } ">
    <rect data-route='26'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(26, 6) }"
        height="48"
        width="192"
        x="192" y="400">
    </rect>

    <text style="font-size: 32px" x="272" y="434">26</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(27, 6); } ">
    <rect data-route='27'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(27, 6) }"
        height="48"
        width="192"
        x="192" y="448">
    </rect>

    <text style="font-size: 32px" x="272" y="482">27</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(28, 6); } ">
    <rect data-route='28'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(28, 6) }"
        height="48"
        width="192"
        x="192" y="496">
    </rect>

    <text style="font-size: 32px" x="272" y="530">28</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(29, 6); } ">
    <rect data-route='29'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(29, 6) }"
        height="48"
        width="192"
        x="192" y="544">
    </rect>

    <text style="font-size: 32px" x="272" y="578">29</text>

</g>


    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(30, 6); } ">
    <rect data-route='30'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(30, 6) }"
        height="48"
        width="192"
        x="192" y="592">
    </rect>

    <text style="font-size: 32px" x="272" y="626">30</text>

</g>


    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    

<rect class="city"
    data-town="Iki Town" 
    x="576"
    y="0"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Iki Town')},
        attr: { class: MapHelper.calculateTownCssClass('Iki Town') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    

<rect class="city"
    data-town="Hau&#39;oli City" 
    x="576"
    y="64"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Hau\&#39;oli City')},
        attr: { class: MapHelper.calculateTownCssClass('Hau\&#39;oli City') },
        ">
</rect>

    

<rect class="city"
    data-town="Heahea City" 
    x="576"
    y="128"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Heahea City')},
        attr: { class: MapHelper.calculateTownCssClass('Heahea City') },
        ">
</rect>

    

<rect class="city"
    data-town="Paniola Town" 
    x="576"
    y="192"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Paniola Town')},
        attr: { class: MapHelper.calculateTownCssClass('Paniola Town') },
        ">
</rect>

    

<rect class="city"
    data-town="Royal Avenue" 
    x="576"
    y="256"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Royal Avenue')},
        attr: { class: MapHelper.calculateTownCssClass('Royal Avenue') },
        ">
</rect>

    

<rect class="city"
    data-town="Konikoni City" 
    x="576"
    y="320"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Konikoni City')},
        attr: { class: MapHelper.calculateTownCssClass('Konikoni City') },
        ">
</rect>

    

<rect class="city"
    data-town="Malie City" 
    x="576"
    y="384"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Malie City')},
        attr: { class: MapHelper.calculateTownCssClass('Malie City') },
        ">
</rect>

    

<rect class="city"
    data-town="Aether Paradise" 
    x="576"
    y="448"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Aether Paradise')},
        attr: { class: MapHelper.calculateTownCssClass('Aether Paradise') },
        ">
</rect>

    

<rect class="city"
    data-town="Tapu Village" 
    x="576"
    y="512"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Tapu Village')},
        attr: { class: MapHelper.calculateTownCssClass('Tapu Village') },
        ">
</rect>

    

<rect class="city"
    data-town="Seafolk Village" 
    x="576"
    y="576"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Seafolk Village')},
        attr: { class: MapHelper.calculateTownCssClass('Seafolk Village') },
        ">
</rect>

    

<rect class="city"
    data-town="Exeggutor Island" 
    x="576"
    y="640"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Exeggutor Island')},
        attr: { class: MapHelper.calculateTownCssClass('Exeggutor Island') }">
</rect>

    

<rect class="city"
    data-town="Altar of the Sunne and Moone" 
    x="576"
    y="704"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Altar of the Sunne and Moone')},
        attr: { class: MapHelper.calculateTownCssClass('Altar of the Sunne and Moone') },
        ">
</rect>

    

<rect class="city"
    data-town="Trainers&#39; School" 
    x="576"
    y="768"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Trainers\&#39; School')},
        attr: { class: MapHelper.calculateTownCssClass('Trainers\&#39; School') }">
</rect>

    

<rect class="city"
    data-town="Hau&#39;oli Cemetery" 
    x="640"
    y="32"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Hau\&#39;oli Cemetery')},
        attr: { class: MapHelper.calculateTownCssClass('Hau\&#39;oli Cemetery') }">
</rect>

    

<rect class="city"
    data-town="Verdant Cavern" 
    x="640"
    y="96"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Verdant Cavern')},
        attr: { class: MapHelper.calculateTownCssClass('Verdant Cavern') }">
</rect>

    

<rect class="city"
    data-town="Melemele Meadow" 
    x="640"
    y="160"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Melemele Meadow')},
        attr: { class: MapHelper.calculateTownCssClass('Melemele Meadow') }">
</rect>

    

<rect class="city"
    data-town="Seaward Cave" 
    x="640"
    y="224"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Seaward Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Seaward Cave') }">
</rect>

    

<rect class="city"
    data-town="Ten Carat Hill" 
    x="640"
    y="288"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ten Carat Hill')},
        attr: { class: MapHelper.calculateTownCssClass('Ten Carat Hill') }">
</rect>

    

<rect class="city"
    data-town="Ruins of Conflict" 
    x="640"
    y="352"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ruins of Conflict')},
        attr: { class: MapHelper.calculateTownCssClass('Ruins of Conflict') }">
</rect>

    

<rect class="city"
    data-town="Pikachu Valley" 
    x="640"
    y="416"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Pikachu Valley')},
        attr: { class: MapHelper.calculateTownCssClass('Pikachu Valley') }">
</rect>

    

<rect class="city"
    data-town="Paniola Ranch" 
    x="640"
    y="480"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Paniola Ranch')},
        attr: { class: MapHelper.calculateTownCssClass('Paniola Ranch') }">
</rect>

    

<rect class="city"
    data-town="Brooklet Hill" 
    x="640"
    y="544"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Brooklet Hill')},
        attr: { class: MapHelper.calculateTownCssClass('Brooklet Hill') }">
</rect>

    

<rect class="city"
    data-town="Wela Volcano Park" 
    x="640"
    y="608"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Wela Volcano Park')},
        attr: { class: MapHelper.calculateTownCssClass('Wela Volcano Park') }">
</rect>

    

<rect class="city"
    data-town="Lush Jungle" 
    x="640"
    y="672"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lush Jungle')},
        attr: { class: MapHelper.calculateTownCssClass('Lush Jungle') }">
</rect>

    

<rect class="city"
    data-town="Diglett&#39;s Tunnel" 
    x="640"
    y="736"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Diglett\&#39;s Tunnel')},
        attr: { class: MapHelper.calculateTownCssClass('Diglett\&#39;s Tunnel') }">
</rect>

    

<rect class="city"
    data-town="Memorial Hill" 
    x="704"
    y="0"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Memorial Hill')},
        attr: { class: MapHelper.calculateTownCssClass('Memorial Hill') }">
</rect>

    

<rect class="city"
    data-town="Ruins of Life" 
    x="704"
    y="64"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ruins of Life')},
        attr: { class: MapHelper.calculateTownCssClass('Ruins of Life') }">
</rect>

    

<rect class="city"
    data-town="Malie Garden" 
    x="704"
    y="128"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Malie Garden')},
        attr: { class: MapHelper.calculateTownCssClass('Malie Garden') }">
</rect>

    

<rect class="city"
    data-town="Hokulani Observatory" 
    x="704"
    y="192"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Hokulani Observatory')},
        attr: { class: MapHelper.calculateTownCssClass('Hokulani Observatory') }">
</rect>

    

<rect class="city"
    data-town="Thrifty Megamart" 
    x="704"
    y="256"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Thrifty Megamart')},
        attr: { class: MapHelper.calculateTownCssClass('Thrifty Megamart') }">
</rect>

    

<rect class="city"
    data-town="Ula&#39;ula Meadow" 
    x="704"
    y="320"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ula\&#39;ula Meadow')},
        attr: { class: MapHelper.calculateTownCssClass('Ula\&#39;ula Meadow') }">
</rect>

    

<rect class="city"
    data-town="Po Town" 
    x="704"
    y="384"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Po Town')},
        attr: { class: MapHelper.calculateTownCssClass('Po Town') }">
</rect>

    

<rect class="city"
    data-town="Mount Lanikala" 
    x="704"
    y="448"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Mount Lanikala')},
        attr: { class: MapHelper.calculateTownCssClass('Mount Lanikala') }">
</rect>

    

<rect class="city"
    data-town="Ruins of Abundance" 
    x="704"
    y="512"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ruins of Abundance')},
        attr: { class: MapHelper.calculateTownCssClass('Ruins of Abundance') }">
</rect>

    

<rect class="city"
    data-town="Vast Poni Canyon" 
    x="704"
    y="576"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Vast Poni Canyon')},
        attr: { class: MapHelper.calculateTownCssClass('Vast Poni Canyon') }">
</rect>

    

<rect class="city"
    data-town="Nebby" 
    x="704"
    y="640"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Nebby')},
        attr: { class: MapHelper.calculateTownCssClass('Nebby') }">
</rect>

    

<rect class="city"
    data-town="Ruins of Hope" 
    x="704"
    y="704"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Ruins of Hope')},
        attr: { class: MapHelper.calculateTownCssClass('Ruins of Hope') }">
</rect>

    

<rect class="city"
    data-town="Poni Meadow" 
    x="704"
    y="768"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Poni Meadow')},
        attr: { class: MapHelper.calculateTownCssClass('Poni Meadow') }">
</rect>

    

<rect class="city"
    data-town="Resolution Cave" 
    x="768"
    y="32"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Resolution Cave')},
        attr: { class: MapHelper.calculateTownCssClass('Resolution Cave') }">
</rect>

    

<rect class="city"
    data-town="Pokémon League Alola" 
    x="768"
    y="96"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Alola')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Alola') },
        ">
</rect>

    

<rect class="city"
    data-town="Pokémon League Alola" 
    x="768"
    y="160"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Alola')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Alola') },
        ">
</rect>

    

<rect class="city"
    data-town="Pokémon League Alola" 
    x="768"
    y="224"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Alola')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Alola') },
        ">
</rect>

    

<rect class="city"
    data-town="Pokémon League Alola" 
    x="768"
    y="288"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Alola')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Alola') },
        ">
</rect>

    

<rect class="city"
    data-town="Pokémon League Alola" 
    x="768"
    y="352"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Alola')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Alola') },
        ">
</rect>

    

<rect class="city"
    data-town="Pokémon League Alola" 
    x="768"
    y="416"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Pokémon League Alola')},
        attr: { class: MapHelper.calculateTownCssClass('Pokémon League Alola') },
        ">
</rect>

    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->
    <!-- ------------------ -->

    

<rect class="city"
    data-town="Dock" 
    x="1536"
    y="0"
    height="64"
    width="64"
    data-bind="click:function(){MapHelper.openShipModal()}">
</rect>

</g>

                            <g data-bind='visible: player.region == GameConstants.Region.galar'>
    <image width="1600" height="960" xlink:href="assets/images/galar.png" href="assets/images/galar.png"></image>

    <!-- ------ -->
    <!-- ROUTES -->
    <!-- ------ -->

    <!--Route 1-->
    

<g

    transform="rotate(90 ,720, 864)"

    data-bind="click:function(){ MapHelper.moveToRoute(1, 7); } ">
    <rect data-route='1'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(1, 7) }"
        height="32"
        width="64"
        x="720" y="832">
    </rect>

    <text style="font-size: 32px" x="744" y="861">1</text>

</g>


    <!--Route 2-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(2, 7); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 7) }"
        height="32"
        width="48"
        x="768" y="832">
    </rect>

    <text style="font-size: 32px" x="784" y="858">2</text>

</g>

    <!--extra Route 2-->
    

<g

    transform="rotate(90 ,784, 816)"

    data-bind="click:function(){ MapHelper.moveToRoute(2, 7); } ">
    <rect data-route='2'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(2, 7) }"
        height="32"
        width="16"
        x="784" y="784">
    </rect>

</g>


    <!--Rolling Fields-->
    

<g

    transform="rotate(90 ,720, 720)"

    data-bind="click:function(){ MapHelper.moveToRoute(3, 7); } ">
    <rect data-route='3'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(3, 7) }"
        height="32"
        width="80"
        x="720" y="688">
    </rect>

    <text style="font-size: 32px" x="733" y="717">R.F.</text>

</g>


    <!--Dappled Grove-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(4, 7); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 7) }"
        height="32"
        width="96"
        x="624" y="752">
    </rect>

    <text style="font-size: 32px" x="640" y="778">D.G.</text>

</g>

    <!--DG Extras-->
    

<g

    transform="rotate(90 ,624, 688)"

    data-bind="click:function(){ MapHelper.moveToRoute(4, 7); } ">
    <rect data-route='4'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(4, 7) }"
        height="32"
        width="64"
        x="624" y="656">
    </rect>

</g>


    <!--West Lake Axwell-->
    

<g

    transform="rotate(90 ,688, 672)"

    data-bind="click:function(){ MapHelper.moveToRoute(5, 7); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 7) }"
        height="32"
        width="80"
        x="688" y="640">
    </rect>

    <text style="font-size: 32px" x="670" y="669">W.L.A.</text>

</g>

    <!--WLA Extra-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(5, 7); } ">
    <rect data-route='5'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(5, 7) }"
        height="32"
        width="64"
        x="672" y="640">
    </rect>

</g>


    <!--East Lake Axwell-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(6, 7); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 7) }"
        height="32"
        width="128"
        x="736" y="640">
    </rect>

    <text style="font-size: 32px" x="760" y="666">E.L.A</text>

</g>

    <!--ELA Extras-->
    

<g

    transform="rotate(90 ,784, 624)"

    data-bind="click:function(){ MapHelper.moveToRoute(6, 7); } ">
    <rect data-route='6'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(6, 7) }"
        height="32"
        width="16"
        x="784" y="592">
    </rect>

</g>


    <!--North Lake Miloch-->
    

<g

    transform="rotate(90 ,864, 640)"

    data-bind="click:function(){ MapHelper.moveToRoute(9, 7); } ">
    <rect data-route='9'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(9, 7) }"
        height="32"
        width="112"
        x="864" y="608">
    </rect>

    <text style="font-size: 32px" x="875" y="637">N.L.M.</text>

</g>


    <!--South Lake Miloch-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(8, 7); } ">
    <rect data-route='8'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(8, 7) }"
        height="32"
        width="112"
        x="752" y="720">
    </rect>

    <text style="font-size: 32px" x="760" y="746">S.L.M.</text>

</g>

     <!--SLM Extras-->
    

<g

    transform="rotate(90 ,784, 672)"

    data-bind="click:function(){ MapHelper.moveToRoute(8, 7); } ">
    <rect data-route='8'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(8, 7) }"
        height="32"
        width="48"
        x="784" y="640">
    </rect>

</g>


    <!--Giant's Seat-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(7, 7); } ">
    <rect data-route='7'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(7, 7) }"
        height="32"
        width="144"
        x="752" y="752">
    </rect>

    <text style="font-size: 32px" x="800" y="778">G.S</text>

</g>


    <!--Route 3-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(10, 7); } ">
    <rect data-route='10'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(10, 7) }"
        height="32"
        width="96"
        x="624" y="576">
    </rect>

    <text style="font-size: 32px" x="664" y="602">3</text>

</g>


    <!--Route 4-->
    

<g

    transform="rotate(90 ,560, 512)"

    data-bind="click:function(){ MapHelper.moveToRoute(11, 7); } ">
    <rect data-route='11'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(11, 7) }"
        height="32"
        width="48"
        x="560" y="480">
    </rect>

    <text style="font-size: 32px" x="576" y="509">4</text>

</g>


    <!--Route 5-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(12, 7); } ">
    <rect data-route='12'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(12, 7) }"
        height="32"
        width="320"
        x="608" y="480">
    </rect>

    <text style="font-size: 32px" x="760" y="506">5</text>

</g>

    <!--Extra bits of Route 5-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(12, 7); } ">
    <rect data-route='12'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(12, 7) }"
        height="16"
        width="16"
        x="912" y="512">
    </rect>

</g>


    <!--Motostoke Outskirts-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(13, 7); } ">
    <rect data-route='13'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(13, 7) }"
        height="32"
        width="80"
        x="864" y="576">
    </rect>

    <text style="font-size: 32px" x="872" y="602">M.S.</text>

</g>


    <!--Hammerlocke Hills-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 7); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 7) }"
        height="28"
        width="48"
        x="752" y="528">
    </rect>

    <text style="font-size: 32px" x="744" y="552">H.H.</text>

</g>

     <!--HH extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(14, 7); } ">
    <rect data-route='14'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(14, 7) }"
        height="16"
        width="16"
        x="784" y="512">
    </rect>

</g>

     <!--HH extras-->
    

<g

    transform="rotate(90 ,784, 464)"

    data-bind="click:function(){ MapHelper.moveToRoute(1146, 7); } ">
    <rect data-route='1146'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(1146, 7) }"
        height="32"
        width="16"
        x="784" y="432">
    </rect>

</g>


    <!--Route 6-->
    

<g

    transform="rotate(90 ,720, 400)"

    data-bind="click:function(){ MapHelper.moveToRoute(15, 7); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 7) }"
        height="16"
        width="64"
        x="720" y="384">
    </rect>

</g>

    <!--Extra bit of Route 6-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 7); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 7) }"
        height="32"
        width="80"
        x="672" y="368">
    </rect>

    <text style="font-size: 32px" x="704" y="394">6</text>

</g>

    <!--Extra bit of Route 6-->
    

<g

    transform="rotate(90 ,672, 320)"

    data-bind="click:function(){ MapHelper.moveToRoute(15, 7); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 7) }"
        height="32"
        width="48"
        x="672" y="288">
    </rect>

</g>

    <!--Extra bit of Route 6-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(15, 7); } ">
    <rect data-route='15'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(15, 7) }"
        height="32"
        width="32"
        x="640" y="320">
    </rect>

</g>


    <!--Route 7-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(16, 7); } ">
    <rect data-route='16'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(16, 7) }"
        height="32"
        width="80"
        x="816" y="432">
    </rect>

    <text style="font-size: 32px" x="848" y="458">7</text>

</g>


    <!--Route 8-->
    

<g

    transform="rotate(90 ,832, 336)"

    data-bind="click:function(){ MapHelper.moveToRoute(17, 7); } ">
    <rect data-route='17'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(17, 7) }"
        height="32"
        width="96"
        x="832" y="304">
    </rect>

    <text style="font-size: 32px" x="872" y="333">8</text>

</g>


    <!--Steamdrift Way-->
    

<g

    transform="rotate(90 ,864, 304)"

    data-bind="click:function(){ MapHelper.moveToRoute(18, 7); } ">
    <rect data-route='18'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(18, 7) }"
        height="32"
        width="64"
        x="864" y="272">
    </rect>

    <text style="font-size: 32px" x="864" y="301">S.W.</text>

</g>


    <!--Route 2 Lakeside-->
     

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 7); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 7) }"
        height="32"
        width="48"
        x="784" y="784">
    </rect>

    <text style="font-size: 32px" x="786" y="810">L.S.</text>

</g>

    <!--Route 2 LS extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(19, 7); } ">
    <rect data-route='19'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(19, 7) }"
        height="32"
        width="32"
        x="816" y="800">
    </rect>

</g>


    <!--Route 9-->
    

<g

    transform="rotate(90 ,944, 304)"

    data-bind="click:function(){ MapHelper.moveToRoute(20, 7); } ">
    <rect data-route='20'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(20, 7) }"
        height="32"
        width="48"
        x="944" y="272">
    </rect>

    <text style="font-size: 32px" x="960" y="301">9</text>

</g>


    <!--Circhester Bay-->
    

<g

    transform="rotate(90 ,944, 352)"

    data-bind="click:function(){ MapHelper.moveToRoute(21, 7); } ">
    <rect data-route='21'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(21, 7) }"
        height="32"
        width="80"
        x="944" y="320">
    </rect>

    <text style="font-size: 32px" x="952" y="349">C.B.</text>

</g>


    <!--Outer Spikemuth-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(22, 7); } ">
    <rect data-route='22'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(22, 7) }"
        height="32"
        width="80"
        x="896" y="432">
    </rect>

    <text style="font-size: 32px" x="904" y="458">O.S.</text>

</g>


    <!--Route 10-->
    

<g

    transform="rotate(90 ,752, 240)"

    data-bind="click:function(){ MapHelper.moveToRoute(23, 7); } ">
    <rect data-route='23'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(23, 7) }"
        height="32"
        width="64"
        x="752" y="208">
    </rect>

    <text style="font-size: 32px" x="744" y="237">10 S.</text>

</g>


    <!--Route 10 North-->
    

<g

    transform="rotate(90 ,768, 128)"

    data-bind="click:function(){ MapHelper.moveToRoute(24, 7); } ">
    <rect data-route='24'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(24, 7) }"
        height="32"
        width="112"
        x="768" y="96">
    </rect>

    <text style="font-size: 32px" x="784" y="125">10 N.</text>

</g>

    <!--Route 10 North extras-->
    

<g

    data-bind="click:function(){ MapHelper.moveToRoute(24, 7); } ">
    <rect data-route='24'
        data-bind="attr: { class: MapHelper.calculateRouteCssClass(24, 7) }"
        height="32"
        width="16"
        x="752" y="208">
    </rect>

</g>


    <!-- ----- -->
    <!-- TOWNS -->
    <!-- ----- -->

    <!--Postwick-->
    

<rect class="city"
    data-town="Postwick" 
    x="640"
    y="872"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Postwick')},
        attr: { class: MapHelper.calculateTownCssClass('Postwick') },
        
            css: { flash: MapHelper.ableToTravel() }
        ">
</rect>

    <!--Wedgehurst-->
    

<rect class="city"
    data-town="Wedgehurst" 
    x="704"
    y="800"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Wedgehurst')},
        attr: { class: MapHelper.calculateTownCssClass('Wedgehurst') },
        ">
</rect>

    <!--Motostoke-->
    

<rect class="city"
    data-town="Motostoke" 
    x="720"
    y="556"
    height="68"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Motostoke')},
        attr: { class: MapHelper.calculateTownCssClass('Motostoke') },
        ">
</rect>
    <!--Motostoke Extension-->
    

<rect class="city"
    data-town="Motostoke" 
    x="800"
    y="560"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Motostoke')},
        attr: { class: MapHelper.calculateTownCssClass('Motostoke') },
        ">
</rect>

    <!--Turffield-->
    

<rect class="city"
    data-town="Turffield" 
    x="544"
    y="448"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Turffield')},
        attr: { class: MapHelper.calculateTownCssClass('Turffield') },
        ">
</rect>

    <!--Hulbury-->
    

<rect class="city"
    data-town="Hulbury" 
    x="928"
    y="464"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Hulbury')},
        attr: { class: MapHelper.calculateTownCssClass('Hulbury') },
        ">
</rect>

    <!--Hammerlocke-->
    

<rect class="city"
    data-town="Hammerlocke" 
    x="736"
    y="392"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Hammerlocke')},
        attr: { class: MapHelper.calculateTownCssClass('Hammerlocke') },
        ">
</rect>

    <!--Stow-on-Side-->
    

<rect class="city"
    data-town="Stow-on-Side" 
    x="576"
    y="288"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Stow-on-Side')},
        attr: { class: MapHelper.calculateTownCssClass('Stow-on-Side') },
        ">
</rect>

    <!--Ballonlea-->
    

<rect class="city"
    data-town="Ballonlea" 
    x="560"
    y="176"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Ballonlea')},
        attr: { class: MapHelper.calculateTownCssClass('Ballonlea') },
        ">
</rect>

    <!--Circhester-->
    

<rect class="city"
    data-town="Circhester" 
    x="864"
    y="232"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Circhester')},
        attr: { class: MapHelper.calculateTownCssClass('Circhester') },
        ">
</rect>
    <!--Circhester extension-->
    

<rect class="city"
    data-town="Circhester" 
    x="944"
    y="240"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Circhester')},
        attr: { class: MapHelper.calculateTownCssClass('Circhester') },
        ">
</rect>

    <!--Spikemuth-->
    

<rect class="city"
    data-town="Spikemuth" 
    x="976"
    y="400"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Spikemuth')},
        attr: { class: MapHelper.calculateTownCssClass('Spikemuth') },
        ">
</rect>

    <!--Wyndon-->
    

<rect class="city"
    data-town="Wyndon" 
    x="704"
    y="56"
    height="72"
    width="80"
    data-bind="
        click:function(){MapHelper.moveToTown('Wyndon')},
        attr: { class: MapHelper.calculateTownCssClass('Wyndon') },
        ">
</rect>
    <!--Wyndon Extension-->
    

<rect class="city"
    data-town="Wyndon" 
    x="784"
    y="64"
    height="64"
    width="64"
    data-bind="
        click:function(){MapHelper.moveToTown('Wyndon')},
        attr: { class: MapHelper.calculateTownCssClass('Wyndon') },
        ">
</rect>

    <!--Wyndon Stadium-->
    

<rect class="city"
    data-town="Wyndon Stadium" 
    x="856"
    y="4"
    height="120"
    width="160"
    data-bind="
        click:function(){MapHelper.moveToTown('Wyndon Stadium')},
        attr: { class: MapHelper.calculateTownCssClass('Wyndon Stadium') },
        ">
</rect>


    <!-- -------- -->
    <!-- DUNGEONS -->
    <!-- -------- -->

    <!--Slumbering Weald-->
    

<rect class="city"
    data-town="Slumbering Weald" 
    x="576"
    y="912"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Slumbering Weald')},
        attr: { class: MapHelper.calculateTownCssClass('Slumbering Weald') }">
</rect>

    <!--Inner Slumbering Weald-->
    

<rect class="city"
    data-town="Inner Slumbering Weald" 
    x="576"
    y="864"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Inner Slumbering Weald')},
        attr: { class: MapHelper.calculateTownCssClass('Inner Slumbering Weald') }">
</rect>

    <!--Watchtower Ruins-->
    

<rect class="city"
    data-town="Watchtower Ruins" 
    x="608"
    y="640"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Watchtower Ruins')},
        attr: { class: MapHelper.calculateTownCssClass('Watchtower Ruins') }">
</rect>

    <!--Galar Mine-->
    

<rect class="city"
    data-town="Galar Mine" 
    x="560"
    y="560"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Galar Mine')},
        attr: { class: MapHelper.calculateTownCssClass('Galar Mine') }">
</rect>

    <!--Galar Mine No. 2-->
    

<rect class="city"
    data-town="Galar Mine No. 2" 
    x="880"
    y="528"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Galar Mine No. 2')},
        attr: { class: MapHelper.calculateTownCssClass('Galar Mine No. 2') }">
</rect>

    <!--Dusty Bowl-->
    

<rect class="city"
    data-town="Dusty Bowl" 
    x="800"
    y="512"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Dusty Bowl')},
        attr: { class: MapHelper.calculateTownCssClass('Dusty Bowl') }">
</rect>

    <!--Lake of Outrage-->
    

<rect class="city"
    data-town="Lake of Outrage" 
    x="688"
    y="512"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Lake of Outrage')},
        attr: { class: MapHelper.calculateTownCssClass('Lake of Outrage') }">
</rect>

    <!--Glimwood Tangle-->
    

<rect class="city"
    data-town="Glimwood Tangle" 
    x="576"
    y="240"
    height="48"
    width="64"
    data-bind="click:function(){MapHelper.moveToTown('Glimwood Tangle')},
        attr: { class: MapHelper.calculateTownCssClass('Glimwood Tangle') }">
</rect>

    <!--Rose Tower-->
    

<rect class="city"
    data-town="Rose Tower" 
    x="800"
    y="80"
    height="16"
    width="16"
    data-bind="click:function(){MapHelper.moveToTown('Wyndon')},
        attr: { class: MapHelper.calculateTownCssClass('Rose Tower') }">
</rect>

    <!-- ------------------ -->
    <!-- PLACES OF INTEREST -->

    <!-- ------------------ -->
    

<rect class="city"
    data-town="Dock" 
    x="960"
    y="528"
    height="48"
    width="32"
    data-bind="click:function(){MapHelper.openShipModal()}, attr: { class: MapHelper.calculateTownCssClass(&#39;Hulbury&#39;) }">
</rect>
</g>


                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!--Right column-->
        <div id="right-column" class="col-lg-3 col-md-6">

            <!-- Oak Items -->
            <div id="oakItemsContainer" class="card sortable border-secondary mb-3" data-bind="visible: App.game.oakItems.canAccess()">
    <div class="card-header p-0" data-toggle="collapse" href="#oakItemsBody">
        <span style="text-align:center">Oak Items</span>
    </div>
    <button class='btn btn-sm btn-primary' style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;" href="#oakItemsModal" data-toggle="modal">
        List
    </button>
    <div id="oakItemsBody" class="card-body show p-0">
      <table class="table table-bordered table-striped m-0">
        <!--
        <thead>
          <tr>
            <td class="clickable table-primary p-0" colspan="2" href="#oakItemsModal" data-toggle="modal">
              Open menu
            </td>
          <tr>
        </thead>
        -->
        <tbody data-bind="foreach: App.game.oakItems.itemList">
          <tr data-bind="if: $data.isActive, tooltip: { html: true, title: $data.tooltip, trigger: 'hover', placement:'bottom' }">
            <td class="tight p-1">
              <img class="clickable" href="#oakItemsModal" data-toggle="modal" src="" data-bind="attr:{ src: 'assets/images/oakitems/' + OakItems.OakItem[$data.name] + '.png'}" width="32px">
            </td>
            <td class="p-0">
              <div class="progress" style="height: 40px;">
                  <div class="progress-bar bg-primary" role="progressbar"
                      data-bind="attr:{ style: 'width:' + ($data.isMaxLevel() ? 100 : $data.expPercentage) + '%' },
                         css: {
                           'bg-success': $data.hasEnoughExp() && !$data.isMaxLevel(),
                           'bg-primary': !$data.hasEnoughExp() || $data.isMaxLevel(),
                         }"
                      aria-valuemin="0" aria-valuemax="100">
                      <!-- ko if: !$data.hasEnoughExp() && !$data.isMaxLevel() -->
                      <span data-bind="text: $data.progressString" style="font-size: 15px;"></span>
                      <!-- /ko -->
                      <!-- ko if: $data.hasEnoughExp() && !$data.isMaxLevel() -->
                      <span class="clickable" data-bind="html: 'Upgrade (' + $data.calculateCost().amount.toLocaleString('en-US') + ' <img src=assets/images/currency/' + GameConstants.Currency[$data.calculateCost().currency] + '.svg height=18px/>)',
                        click: function(){ $data.buy(); }" style="font-size: 15px;">
                        Upgrade
                      </span>
                      <!-- /ko -->
                      <!-- ko if: $data.isMaxLevel() -->
                      <span style="font-size: 15px;">MAX LEVEL!</span>
                      <!-- /ko -->
                  </div>
              </div>
            </td>
          </tr>
        </tbody>
        <!-- ko if: App.game.oakItems.hasAvailableSlot() && !App.game.challenges.list.disableOakItems.active() -->
        <tfoot>
          <tr>
            <td class="clickable table-warning text-light" colspan="2" href="#oakItemsModal" data-toggle="modal">
              Equip another oak item!
            </td>
          </tr>
        </tfoot>
        <!-- /ko -->
        <!-- ko if: App.game.challenges.list.disableOakItems.active() -->
        <tfoot>
          <tr>
            <td class="clickable table-danger text-light" colspan="2" href="#oakItemsModal" data-toggle="modal">
              Oak Items are disabled.
            </td>
          </tr>
        </tfoot>
        <!-- /ko -->
      </table>
    </div>
    <!-- ko if: !App.game.challenges.list.disableOakItems.active() -->
    <div id="oakItemLoadout">
      <table class="table table-bordered table-striped m-0">
        <tr data-bind="foreach: App.game.oakItemLoadouts.loadouts">
          <td class="p-1 tight">
            <button class='btn btn-block btn-primary' style="height: 100%;"
              data-bind='click: function(){ App.game.oakItemLoadouts.activateLoadout($index()) }, text: $index() + 1'>
              1
            </button>
          </td>
        </tr>
      </table>
    </div>
    <!-- /ko -->
</div>


            <!-- Current Quest -->
            <div id="questDisplayContainer" class="card sortable border-secondary mb-3">
    <!-- ko if: QuestLineHelper.isQuestLineCompleted('Tutorial Quests') -->
        <div class="card-header p-0" data-toggle="collapse" href="#questDisplayBody">
            <span data-bind='text: "Quests (" + App.game.quests.currentQuests().length + "/" + App.game.quests.questSlots() + ")"'></span>
        </div>
        <button class="btn btn-sm btn-primary" style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;"
                data-bind="click: function(){$('#QuestModal').modal('show')}">
            List
        </button>
    <!-- /ko -->

    <div id="questDisplayBody" class="card-body p-0 show">
        <!-- ko if: App.game.quests.currentQuests().length == 0 && QuestLineHelper.isQuestLineCompleted('Tutorial Quests') -->
            <span class="pt-2 pb-2">No active quest</span>
        <!-- /ko -->
        <table width="100%">
            <!-- List of player quests -->
            <tbody data-bind="foreach: App.game.quests.currentQuests()">
                <tr class="text-center">
                    <td colspan="2" data-bind="text: $data.description"></td>
                </tr>
                <tr>
                    <td width="70%" class="p-0">
                        <div class="progress p-0">
                            <div class="progress-bar bg-primary" role="progressbar"
                                data-bind="attr:{ style: 'width:' + ($data.progress() * 100) + '%'}"
                                aria-valuemin="0" aria-valuemax="100">
                                <span data-bind="text: $data.progressText">0 / 1000</span>
                            </div>
                        </div>
                    </td>
                    <td width="30%" class="p-0">
                        <!-- ko ifnot: $data.isCompleted() -->
                        <button class="btn btn-danger btn-sm btn-block p-0" data-bind="click: () => { App.game.quests.quitQuest($data.index, true) }">
                            Quit
                        </button>
                        <!-- /ko -->
                        <!-- ko if: $data.isCompleted() -->
                        <button class="btn btn-success btn-sm btn-block p-0" data-bind="click: () => { App.game.quests.claimQuest($data.index) }">
                            claim
                        </button>
                        <!-- /ko -->
                    </td>
                </tr>
            </tbody>
            <!-- List of quest line quests -->
            <tbody id="questLines" data-bind="foreach: App.game.quests.questLines()">
                <!-- ko if: $data.state() == QuestLineState.started -->
                <tr>
                    <td colspan="2">
                        <div class="card-header">
                            <knockout data-bind="text: $data.name"></knockout>
                            <knockout class="info text-primary" data-bind="tooltip: { title: $data.description, trigger: 'hover', placement:'left' }">ⓘ</knockout>
                        </div>
                    </td>
                </tr>
                <tr class="text-center">
                    <td colspan="2" data-bind="text: $data.curQuestObject().description"></td>
                </tr>
                <tr>
                    <td colspan="2" class="p-0">
                        <div class="progress p-0">
                            <div class="progress-bar bg-success" role="progressbar"
                                data-bind="attr:{ style: 'width:' + ($data.curQuestObject().progress() * 100) + '%'}"
                                aria-valuemin="0" aria-valuemax="100">
                                <span data-bind="text: ko.pureComputed(function(){return $data.curQuestObject().progressText()})">0/1000</span>
                            </div>
                        </div>
                    </td>
                </tr>
                <!-- /ko -->
            </tbody>
        </table>
  </div>
</div>


            <!-- Egg Slots/Breeding-->
            <div id="breedingDisplay" class="card sortable border-secondary mb-3" data-bind="visible: App.game.breeding.canAccess()">
    <div class="card-header p-0" data-toggle="collapse" href="#eggList">
        <span>Hatchery</span>
    </div>
    <button class='btn btn-sm btn-primary' style="position: absolute; right: 0px; top: 0px; width: auto; height: 41px;"
            data-bind='click: function(){ BreedingController.openBreedingModal(); }'>
        List
    </button>
    <div id='eggList' class="card-body p-0 show">
      <div class="row m-0" data-bind="foreach: App.game.breeding.eggList">
        <div class="col-3 col-md-6 p-0 eggSlot">
          <div class="content">
            <div data-bind="if: $index() === App.game.breeding.eggSlots">
                <p>
                  <br/>
                  <span data-bind="template: { name: 'currencyTemplate', data: {'amount': App.game.breeding.nextEggSlotCost().amount, 'currency': GameConstants.Currency.questPoint}}"></span>
                </p>
                <button class='btn btn-primary' onclick='App.game.breeding.buyEggSlot()'
                        data-bind='css: {disabled: App.game.wallet.currencies[GameConstants.Currency.questPoint]() <= App.game.breeding.nextEggSlotCost().amount}'>Unlock</button>
            </div>
            <div data-bind="visible: $index() > App.game.breeding.eggSlots" style="margin-top: 20px;">
                <img src="assets/images/breeding/lock.svg">
            </div>
            <!-- ko ifnot: $data.isNone() -->
            <div style="margin-top: 20px;" class="clickable" data-bind="click: function(){ if (progress() >= 100) App.game.breeding.hatchPokemonEgg($index()) }">
                <!-- ko if: $data.type == EggType.Fossil -->
                <img data-bind="attr: {src: BreedingController.getEggImage($data)}, class: BreedingController.getEggCssClass($data)"/>
                <!-- /ko -->
                <!-- ko ifnot: $data.type == EggType.Fossil -->
                <div data-bind="template: { name: 'eggSVGTemplate', data: $data}, class: BreedingController.getEggCssClass($data)"></div>
                <!-- /ko -->

                <div class="progress" data-bind='visible: progress() < 100'>
                    <div class="progress-bar bg-success" role="progressbar"
                         data-bind="attr:{ style: 'width:' + $data.progress() + '%' }"
                         aria-valuemin="0" aria-valuemax="100">
                        <!-- ko if: Settings.getSetting('breedingDisplay').observableValue() == 'stepCount' -->
                        <span data-bind="text: $data.progressText()"></span>
                        <!-- /ko -->
                        <!-- ko if: Settings.getSetting('breedingDisplay').observableValue() == 'percentage' -->
                        <span data-bind="text: Math.floor($data.progress()) + '%'"></span>
                        <!-- /ko -->
                    </div>
                </div>
                <div class="progress" data-bind='visible: progress() >= 100'>
                    <div class="progress-bar bg-success" role="progressbar"
                    data-bind="attr:{ style: 'width: 100%; cursor: pointer;' }, text: 'Hatch!'"
                    aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
            </div>
            <!-- /ko -->
          </div>
        </div>
      </div>
    </div>
    <!-- ko if: App.game.breeding.queueList().length -->
    <div id="hatcheryQueue" class="card-footer p-1" data-bind="foreach: App.game.breeding.queueList()">
      <div class="queuePokemon clickable bg-primary" data-bind="click: function(){ App.game.breeding.removeFromQueue($index()) }">
        <img src="" data-bind="attr: { src: PokemonHelper.getImage(pokemonMap[$data], App.game.party.alreadyCaughtPokemon(pokemonMap[$data].id, true)) }">
      </div>
    </div>
    <!-- /ko -->
</div>


            <!-- Shortcuts Menu -->
            <div id="shortcutsContainer" class="card sortable border-secondary mb-3" data-bind="visible: player.highestRegion">
    <div class="card-header p-0" data-toggle="collapse" href="#shortcutsBody">
        <span style="text-align:center">Shortcuts</span>
    </div>
    <div id="shortcutsBody" class="card-body show p-0">
      <table class="table table-sm m-0">
        <tbody>
          <tr data-bind="visible: App.game.underground.canAccess">
            <td class="p-0">
              <button class="btn btn-block btn-primary m-0" onclick="App.game.underground.openUndergroundModal()">
                  Underground
              </button>
            </td>
          </tr>
          <tr data-bind="visible: App.game.farming.canAccess">
            <td class="p-0">
              <button class="btn btn-block btn-primary m-0" onclick="FarmController.openFarmModal()">
                  Farm
              </button>
            </td>
          </tr>
          <tr data-bind="visible: App.game.statistics.gymsDefeated[GameConstants.getGymIndex('Champion Lance')]">
            <td class="p-0">
              <button class="btn btn-block btn-primary m-0" onclick="ShopHandler.showShop(pokeMartShop);" href="#shopModal" data-toggle="modal">
                  Poké Mart
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
</div>

        </div>

    </div>
</div>

<!-- Challenge Mode Modal -->
<div class="modal noselect fade" id="challengeModeModal" tabindex="-1" role="dialog" aria-labelledby="challengeModeModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Challenge Modes</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>
                    <strong>Activate in game challenge modes!</strong><br/>
                    Once you activate a challenge you will not be able to disable it later on, decide carefully.
                </p>
                <br/>
                <table class="table" width="100%">
                    <tbody data-bind="foreach: Object.values(App.game.challenges.list)">
                        <tr data-bind="tooltip: {
                            title: $data.description,
                            placement: 'bottom',
                            trigger: 'hover'
                        }">
                            <td class="text-left font-weight-bold" data-bind="text: $data.type"></td>
                            <td class="p-1">
                                <!-- ko if: !$data.active() && player.starter() == GameConstants.Starter.None --><button class="btn btn-warning btn-block" data-bind="click: ()=>{$data.activate();}">ACTIVATE</button><!-- /ko -->
                                <!-- ko if: $data.active() --><button class="btn btn-success btn-block disabled">ACTIVE</button><!-- /ko -->
                                <!-- ko if: !$data.active() && player.starter() != GameConstants.Starter.None --><button class="btn btn-secondary btn-block disabled">DISABLED</button><!-- /ko -->
                            </td>
                        </tr>
                    </tbody>
                </table>
                <br/>
               <button class="btn btn-primary btn-block" data-dismiss="modal">Done!</button>
            </div>
       </div>
    </div>
</div>


<!--ShopModal-->
<div class="modal fade noselect" id="shopModal" tabindex="-1" role="dialog"
     aria-labelledby="shopModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 data-bind="text: ShopHandler.getShopName()">Shop</h4>
                <button type="button" class="btn btn-primary" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div>
                    <span data-bind="template: { name: 'shopBodyTemplate' }"></span>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row justify-content-center">
                    <div class="input-group m-0" style="margin-bottom: 6px; margin-top: 6px">
                        <div class="input-group-prepend">
                            <button class="btn btn-warning btn-outline-dark smallButton smallFont" onclick="ShopHandler.resetAmount()">
                                Reset
                            </button>
                        </div>
                        <input id="amountOfItems" type="number" class="outline-dark form-control form-control-number"
                                value="1" min="1" required name="amountOfItems"
                                oninput="ShopHandler.amount(parseInt($(this).val().toString(), 10) || 0);"
                                onchange="ShopHandler.amount(parseInt($(this).val().toString(), 10) || 0);" title=""/>
                        <div class="input-group-append">
                            <!-- ko if: Settings.getSetting('shopButtons').observableValue() == 'original' -->
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(10)">
                                    +10
                                </button>
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(100)">
                                    +100
                                </button>
                            <!-- /ko -->
                            <!-- ko if: Settings.getSetting('shopButtons').observableValue() == 'multiplication' -->
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.multiplyAmount(10)">
                                    &times;10
                                </button>
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.multiplyAmount(0.1)">
                                    &div;10
                                </button>
                            <!-- /ko -->
                            <!-- ko if: Settings.getSetting('shopButtons').observableValue() == 'bigplus' -->
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(100)">
                                    +100
                                </button>
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(1000)">
                                    +1000
                                </button>
                            <!-- /ko -->
                            <button class="btn btn-primary smallButton smallFont" type="button" onclick="ShopHandler.maxAmount()">
                                Max
                            </button>
                            <button class="btn-outline-dark" data-bind="attr: {class: ShopHandler.calculateButtonCss()}" onclick="ShopHandler.buyItem()">
                                Buy
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script type="text/html" id="shopBodyTemplate">
    <div class="row justify-content-center" data-bind="foreach: [...new Set(ShopHandler.shopObservable().items.map(i => i.currency))]">
        <h4 class="col-6 col-sm-4 col-lg-2">
            <span data-bind="template: { name: 'currencyTemplate', data: { amount: App.game.wallet.currencies[$data](), currency: $data, reduced: true }}"></span>
        </h4>
    </div>
    <div class="row justify-content-center" data-bind="foreach: ShopHandler.shopObservable().items">
        <div class="col-6 col-sm-4 col-lg-3">
           <button class="shopItem clickable btn btn-block btn-secondary"
               data-bind="click: function() {ShopHandler.setSelected($index())},
               css: { active: ShopHandler.selected() == $index() },
               attr: { disabled: !$data.isAvailable() },
               tooltip: {
                  title: $data.description ? `<u>${$data.displayName}:</u><br/>${$data.description}` : '',
                  trigger: 'hover',
                  placement:'bottom',
                  html: true
                }">
               <knockout data-bind="if: ($data instanceof CaughtIndicatingItem)">
                   <span style="position: absolute; top: 15px; right: 20px;"
                         data-bind="template: { name: 'caughtStatusTemplate', data: {'status': $data.getCaughtStatus()}}">
                   </span>
               </knockout>
               <img src="" height="36px" data-bind="attr:{ src: $data.image }">
               <p data-bind="text: $data.displayName">Item Name</p>
               <div data-bind="if: $data.isAvailable()">
                    <span data-bind="template: { name: 'currencyTemplate', data: {'amount': totalPrice(ShopHandler.amount()), 'currency': currency, 'reducedThreshold': 1e10}}"></span>
                </div>
                <div data-bind="ifnot: $data.isAvailable()">
                    <span>Sold Out</span>
                </div>
            </button>
        </div>
</script>


<!-- Receive gym badge Modal -->
<div class="modal fade" data-keyboard="false" data-backdrop="static" id="receiveBadgeModal" tabindex="-1" role="dialog"
aria-labelledby="receiveBadgeModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable" role="document">
   <div class="modal-content">
       <div class="modal-header">
           <div style="width: 100%;">
               <img src=""
                    data-bind="attr:{ src: 'assets/images/gymLeaders/' + GymRunner.gymObservable().leaderName + '.png'}">
               <h5 class="modal-title" id="receiveBadgeModalLabel"
                   data-bind="text: GymRunner.gymObservable().leaderName.replace(/\d/g,'')">Modal title</h5>

           </div>
       </div>
       <div class="modal-body">
           <p data-bind="text: GymRunner.gymObservable().defeatMessage"></p>
           <!-- ko if: !BadgeEnums[GymRunner.gymObservable().badgeReward].startsWith('Elite') -->
           <img src="" width="56px" data-bind="attr:{ src: 'assets/images/badges/' + BadgeEnums[GymRunner.gymObservable().badgeReward] + '.png'}">
           <!-- /ko -->

       </div>
       <div data-bind="ifnot: GymRunner.gymObservable() instanceof Champion">
           <div class="modal-footer">
               <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
           </div>
       </div>
       <div data-bind="if: GymRunner.gymObservable() instanceof Champion">
           <div class="modal-footer">
               <button type="button" class="btn btn-primary" data-dismiss="modal"
                       onclick="$('#hallOfFameModal').modal('show')">
                   Next
               </button>
           </div>
       </div>

   </div>
</div>
</div>


<!-- Achievements Modal -->
<div class="modal  fade" id="achievementsModal" tabindex="-1" role="dialog"
aria-labelledby="AchievementsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 data-bind="tooltip: { title: 'As you earn achievements, you gain up to 100% (per region) more money and xp from all sources.', trigger: 'hover', placement:'right' }">Achievements Bonus: <u class="text-primary" data-bind="text: AchievementHandler.achievementBonusPercent()"></u></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body table-responsive p-0">
                <div class="tab-content p-3">
                    <div class="tab-pane active">
                        <div class="text-left">
                            <div class="form-row">
                                <div class="form-group col-md-4 col-4">
                                    <label>Status</label>
                                    <select name="achievementsStatus" class="custom-select" onchange="AchievementHandler.filter.status(this.value), Settings.setSettingByName(this.name, this.value)">
                                        <!-- ko foreach: Settings.getSetting('achievementsStatus').options -->
                                        <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('achievementsStatus').value === $data.value }, text: $data.text">Status</option>
                                        <!-- /ko -->
                                    </select>
                                </div>
                                <div class="form-group col-md-4 col-4">
                                    <label>Type</label>
                                    <select name="achievementsType" class="custom-select" onchange="AchievementHandler.filter.type(this.value), Settings.setSettingByName(this.name, this.value)">
                                        <!-- ko foreach: Settings.getSetting('achievementsType').options.filter(r => r.value !== -1) -->
                                        <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('achievementsType').value === $data.value }, text: $data.text.replace(/Poke/g, 'Poké')">Type</option>
                                        <!-- /ko -->
                                    </select>
                                </div>
                                <div class="form-group col-md-4 col-4">
                                    <label>Region</label>
                                    <select name="achievementsRegion" class="custom-select" onchange="AchievementHandler.filter.region(this.value), Settings.setSettingByName(this.name, this.value)">
                                        <!-- ko foreach: Settings.getSetting('achievementsRegion').options.filter(r => r.value <= player.highestRegion()) -->
                                        <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('achievementsRegion').value === $data.value }, text: $data.text">Region</option>
                                        <!-- /ko -->
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-hover table-striped table-sm m-0">
                    <tbody data-bind="template: { name: 'achievementListTemplate', foreach: AchievementHandler.getAchievementListWithIndex()}">
                    </tbody>
                </table>
            </div>

            <div class="modal-footer justify-content-center">
                <button
                  class="btn btn-secondary"
                  onclick="AchievementHandler.navigateIndex(0)"
                  data-bind="
                      disable: AchievementHandler.isNavigateDirectionDisabled(true),
                      css: { disabled: AchievementHandler.isNavigateDirectionDisabled(true) }
                  "
                >
                  <img src="assets/images/arrow-double.svg" style="transform: scaleX(-1);" height="20">
                </button>
                <button
                  class="btn btn-secondary"
                  onclick="AchievementHandler.navigateLeft()"
                  data-bind="
                      disable: AchievementHandler.isNavigateDirectionDisabled(true),
                      css: { disabled: AchievementHandler.isNavigateDirectionDisabled(true) }
                  "
                >
                  <img src="assets/images/arrow.svg" style="transform: scaleX(-1);" height="20">
                </button>
                <div data-bind="text: AchievementHandler.navigateIndex()+1 + '/' + AchievementHandler.numberOfTabs()"></div>
                <button
                  class="btn btn-secondary"
                  onclick="AchievementHandler.navigateRight()"
                  data-bind="
                      disable: AchievementHandler.isNavigateDirectionDisabled(false),
                      css: { disabled: AchievementHandler.isNavigateDirectionDisabled(false) }
                  "
                >
                  <img src="assets/images/arrow.svg" height="20">
                </button>
                <button
                  class="btn btn-secondary"
                  onclick="AchievementHandler.navigateIndex(AchievementHandler.numberOfTabs() - 1)"
                  data-bind="
                      disable: AchievementHandler.isNavigateDirectionDisabled(false),
                      css: { disabled: AchievementHandler.isNavigateDirectionDisabled(false) }
                  "
                >
                  <img src="assets/images/arrow-double.svg" height="20">
                </button>
            </div>
        </div>
    </div>

    <script type="text/html" id="achievementListTemplate">
        <tr
            class="achievement-row"
            data-bind="css: { 'table-success': isCompleted() , 'table-danger': !isCompleted() }, click: () => {App.game.achievementTracker.trackAchievement($data); $('#achievementsModal').modal('hide');}">
            <td style="text-align:left;vertical-align:middle;"><b><span data-bind="text: name">Name</span></b><br>
                <small><span data-bind="text: description">Description</span></small>
            </td>

            <td style="vertical-align:middle;"><span data-bind="text: getProgress()">1</span>/<span
                    data-bind="text: property.requiredValue">2</span>
            </td>
            <td style="vertical-align:middle;"><span data-bind="text: getProgressPercentage()"></span>%</td>

            <td style="vertical-align:middle;">+<span data-bind="text: getBonus()"></span>%</td>
        </tr>
    </script>
</div>


<!-- Oak Items Modal-->
<div class="modal fade noselect" id="oakItemsModal" tabindex="-1" role="dialog" aria-badgeledby="oakItemsModal">
  <div class="modal-dialog modal-dialog-scrollable modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header p-0">
        <ul class="nav nav-tabs">
            <li class="nav-item"><a data-toggle='tab' class='p-2 nav-link active' href="#oakItemSelector">Selector</a></li>
            <li class='nav-item'><a data-toggle='tab' class='p-2 nav-link' href="#oakItemLoadouts">Loadouts</a></li>
        </ul>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div data-bind="visible: App.game.challenges.list.disableOakItems.active()" class="modal-body bg-danger my-0 py-0">
        Oak Items are disabled.
      </div>
      <div class="modal-body tab-content">
          <div id="oakItemSelector" class="tab-pane fade in active show">
            <div class="modal-header">
              <h5 style="position: left" data-bind="text: 'Oak Items Equipped: ' + App.game.oakItems.activeCount() + '/' + App.game.oakItems.maxActiveCount()">Oak Items</h5>
            </div>
            <ul class="row justify-content-center p-0 my-0"
              data-bind="foreach: App.game.oakItems.itemList"
              style="list-style-type: none;">
                <!-- ko if: $index() % 4 == 0 -->
                <div class="w-100"></div>
                <!-- /ko -->
                <li class="col p-1">
                    <button class="p-0 btn"
                        data-bind="css: {
                           'btn-primary': $data.isActive,
                           'btn-outline-secondary': !$data.isActive
                         }">
                        <img class="clickable" style="width: 80%;" src=""
                             data-bind="attr:{ src: 'assets/images/oakitems/' + OakItems.OakItem[$data.name] + '.png'},
                              css: {
                                'oak-item-locked': !App.game.oakItems.isUnlocked($data.name)
                              },
                              event: {
                                mouseover: function(){OakItemController.hover($data.name)},
                                click: function(){OakItemController.click($data.name);},
                              }">
                    </button>
                </li>
            </ul>
          </div>
          <div id="oakItemLoadouts" class="tab-pane fade">
            <div class="modal-header p-1">
              <select name="loadoutSelector" autocomplete="off" class="custom-select"
                onchange="App.game.oakItemLoadouts.selectedLoadout(this.value)"
                data-bind="foreach: App.game.oakItemLoadouts.loadouts">
                  <option data-bind="text: `Loadout ${$index() + 1}`, value: $index(), attr:{ selected: App.game.oakItemLoadouts.selectedLoadout() == $data.value}"></option>
              </select>
            </div>
            <ul class="row justify-content-center p-0 my-0"
              data-bind="foreach: App.game.oakItems.itemList"
              style="list-style-type: none;">
                  <!-- ko if: $index() % 4 == 0 -->
                  <div class="w-100"></div>
                  <!-- /ko -->
                  <li class="col p-1">
                    <button class="p-0 btn"
                        data-bind="css: {
                          'btn-primary': App.game.oakItemLoadouts.hasItem($index())(),
                          'btn-outline-secondary': !App.game.oakItemLoadouts.hasItem($index())(),
                        }">
                        <img class="clickable" style="width: 80%;" src=""
                            data-bind="attr:{ src: 'assets/images/oakitems/' + OakItems.OakItem[$data.name] + '.png'},
                              css: {
                                'oak-item-locked': !App.game.oakItems.isUnlocked($data.name)
                              },
                              event: {
                                mouseover: function(){OakItemController.hover($data.name)},
                                click: function(){App.game.oakItemLoadouts.toggleItem($data.name);},
                              }">
                      </button>
                  </li>
            </ul>
          </div>
      </div>
      <div class="modal-footer p-0">
        <table class="table table-bordered text-center m-0">
          <thead>
            <th colspan="2">
              <strong data-bind="text: GameConstants.humanifyString(OakItems.OakItem[OakItemController.inspectedItem])"></strong>
            </th>
          </thead>
          <tbody>
            <!-- ko if: App.game.oakItems.isUnlocked(OakItemController.inspectedItem) -->
            <tr>
              <td colspan="2" data-bind="text: App.game.oakItems.itemList[OakItemController.inspectedItem].description"></td>
            </tr>
            <tr>
              <td colspan="2" class="p-0">
                <div class="progress" style="height: 40px;">
                    <div class="progress-bar bg-primary" role="progressbar"
                        data-bind="attr:{ style: 'width:' + (App.game.oakItems.itemList[OakItemController.inspectedItem].isMaxLevel() ? 100 : App.game.oakItems.itemList[OakItemController.inspectedItem].expPercentage) + '%' },
                            css: {
                              'bg-success': App.game.oakItems.itemList[OakItemController.inspectedItem].hasEnoughExp() && !App.game.oakItems.itemList[OakItemController.inspectedItem].isMaxLevel(),
                              'bg-primary': !App.game.oakItems.itemList[OakItemController.inspectedItem].hasEnoughExp() || App.game.oakItems.itemList[OakItemController.inspectedItem].isMaxLevel(),
                            }"
                        aria-valuemin="0" aria-valuemax="100">
                        <!-- ko if: !App.game.oakItems.itemList[OakItemController.inspectedItem].hasEnoughExp() && !App.game.oakItems.itemList[OakItemController.inspectedItem].isMaxLevel() -->
                        <span data-bind="text: App.game.oakItems.itemList[OakItemController.inspectedItem].progressString" style="font-size: 15px;"></span>
                        <!-- /ko -->
                        <!-- ko if: App.game.oakItems.itemList[OakItemController.inspectedItem].hasEnoughExp() && !App.game.oakItems.itemList[OakItemController.inspectedItem].isMaxLevel() -->
                        <span class="clickable" data-bind="html: 'Upgrade (' + App.game.oakItems.itemList[OakItemController.inspectedItem].calculateCost().amount.toLocaleString('en-US') + ' <img src=assets/images/currency/' + GameConstants.Currency[App.game.oakItems.itemList[OakItemController.inspectedItem].calculateCost().currency] + '.svg height=18px/>)',
                          click: function(){ App.game.oakItems.itemList[OakItemController.inspectedItem].buy(); }" style="font-size: 15px;">
                          Upgrade
                        </span>
                        <!-- /ko -->
                        <!-- ko if: App.game.oakItems.itemList[OakItemController.inspectedItem].isMaxLevel() -->
                        <span style="font-size: 15px;">MAX LEVEL!</span>
                        <!-- /ko -->
                    </div>
                </div>
              </td>
            </tr>
            <tr>
              <td class="table-dark" style="width: 50%">
                Level: <span data-bind="text: App.game.oakItems.itemList[OakItemController.inspectedItem].level"></span>
              </td>
              <td class="table-dark" style="width: 50%">
                Bonus: <span data-bind="text: App.game.oakItems.itemList[OakItemController.inspectedItem].bonusText"></span>
              </td>
            </tr>
            <!-- /ko -->
            <!-- ko ifnot: App.game.oakItems.isUnlocked(OakItemController.inspectedItem) -->
            <tr>
              <td colspan="2">Locked!<br/><span data-bind="text: App.game.oakItems.itemList[OakItemController.inspectedItem].hint()"></span></td>
            </tr>
            <tr>

            </tr>
            <!-- /ko -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<!-- Statistics Modal-->
<div class="modal noselect fade" id="statisticsModal" tabindex="-1" role="dialog" aria-labelledby="statisticsModal">
    <div class="modal-dialog modal-dialog-scrollable modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Statistics</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body p-0">
                <table class="table table-striped table-hover table-bordered table-sm m-0">
                    <thead>
                      <tr>
                        <th>Statistic</th>
                        <th>Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td class="text-left">Time Played</td>
                        <td class="text-left tight text-muted" data-bind="html: GameConstants.formatSecondsToTime(App.game.statistics['secondsPlayed']())">-</td>
                      </tr>
                      <!-- ko foreach: App.game.statistics.observables -->
                      <tr>
                        <td class="text-left" data-bind="text: GameConstants.camelCaseToString($data)">-</td>
                        <td class="text-left tight text-muted" data-bind="text: App.game.statistics[$data]().toLocaleString('en-US')">-</td>
                      </tr>
                      <!-- /ko -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<!-- Log Book Modal-->
<div class="modal noselect fade" id="logBookModal" tabindex="-1" role="dialog" aria-labelledby="logBookModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Log Book</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body p-0">
                <table class="table table-striped table-hover table-bordered table-sm m-0">
                    <thead>
                      <tr>
                        <th>Type</th>
                        <th>Message</th>
                        <th>Date</th>
                      </tr>
                    </thead>
                    <tbody data-bind="foreach: App.game.logbook.logs()">
                      <tr>
                        <td class="tight" data-bind="html:type.label, class: 'table-' + type.display"></td>
                        <td class="text-left" data-bind="text:description">-</td>
                        <td class="text-left"><code data-bind="text:new Date(date).toLocaleString()">-</code></td>
                      </tr>
                    </tbody>
                </table>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Settings Modal-->
<div class="modal noselect fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Settings</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body p-0">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a class="nav-link active" href="#settings-display" data-toggle="tab">Display</a></li>
                    <li class="nav-item"><a class="nav-link" href="#settings-sound" data-toggle="tab">Sound</a></li>
                    <li class="nav-item"><a class="nav-link" href="#settings-notifications" data-toggle="tab">Notifications</a></li>
                    <li class="nav-item"><a class="nav-link" href="#settings-other" data-toggle="tab">Other</a></li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="settings-display">
                        <table class="table table-striped table-hover m-0">
                            <!-- <thead>
                              <tr>
                                <th>Setting</th>
                                <th>Option</th>
                              </tr>
                            </thead> -->
                            <tbody>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('theme')}"></tr>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('backgroundImage')}"></tr>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('breedingDisplay')}"></tr>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('shopButtons')}"></tr>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('eggAnimation')}"></tr>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('hideHatchery')}"></tr>
                                <tr data-bind="template: { name: 'BooleanSettingTemplate', data: Settings.getSetting('showCurrencyGainedAnimation')}"></tr>
                                <tr data-bind="template: { name: 'MultipleChoiceSettingTemplate', data: Settings.getSetting('farmDisplay')}"></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tab-pane" id="settings-sound">
                        <div data-bind="template: {name: 'RangeSettingTemplate', data: Settings.getSetting('sound.volume')}"></div>
                        <table class="table table-striped table-hover m-0">
                            <tbody data-bind="foreach: Object.values(NotificationConstants.NotificationSound)">
                              <tr data-bind="template: { name: 'BooleanSettingTemplate', data: Settings.getSetting(`sound.${$data.name}`)}"></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tab-pane" id="settings-notifications">
                        <table class="table table-striped table-hover m-0">
                            <tbody data-bind="foreach: Object.values(NotificationConstants.NotificationSetting)">
                                <tr data-bind="template: { name: 'BooleanSettingTemplate', data: $data}"></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="tab-pane" id="settings-other">
                        <table class="table table-striped table-hover m-0">
                            <tbody>
                                <tr data-bind="template: { name: 'BooleanSettingTemplate', data: Settings.getSetting('disableAutoDownloadBackupSaveOnUpdate')}"></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<script type="text/html" id="MultipleChoiceSettingTemplate">
    <td data-bind="text: $data.displayName">setting name</td>
    <td>
        <select class="form-control" onchange="Settings.setSettingByName(this.name, this.value)" data-bind="foreach: $data.options, attr: {name}">
            <option data-bind="text: $data.text, value: $data.value, attr:{ selected: $parent.observableValue() == $data.value}"></option>
        </select>
    </td>
</script>

<script type="text/html" id="BooleanSettingTemplate">
    <td>
        <label data-bind="attr: { for: 'checkbox-' + $data.name }, text: $data.displayName">
            setting name
        </label>
    </td>
    <td>
        <input class="clickable" type="checkbox"
            data-bind="checked: Settings.getSetting($data.name).observableValue(), attr: {name, id: 'checkbox-' + $data.name }"
            onchange="Settings.setSettingByName(this.name, this.checked)"/>
    </td>
</script>

<script type="text/html" id="RangeSettingTemplate">
    <label data-bind="text: `${$data.displayName}: ${$data.observableValue()}`, attr: { for: `setting-${$data.name}` }">setting name</label>
    <input type="range" class="custom-range pl-3 pr-3"
            data-bind="attr: { name: $data.name, id: `setting-${$data.name}`, min: $data.minValue, max: $data.maxValue, step: $data.step},
                       value: $data.observableValue"
            oninput="Settings.setSettingByName(this.name, this.value)">
</script>


<!-- FAQ Modal -->
<div class="modal fade noselect" id="FAQModal" tabindex="-1" role="dialog" aria-badgeledby="FAQModal">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
     <div class="modal-content">
         <div class="modal-header">
             <h5>Frequently Asked Questions</h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
             </button>
         </div>

         <div class="modal-body text-left">
            <p><h5 class="text-primary"><strong>General:</strong></h5></p>
            <p><strong>Where can I play the latest version?</strong><br/>
            <span class="text-muted"><a href="https://www.pokeclicker.com/">https://www.pokeclicker.com/</a></span><br/>
            <span class="text-muted">or download the Windows client:</span><br/>
            <span class="text-muted"><a href="https://github.com/RedSparr0w/Pokeclicker-desktop/releases/latest">https://github.com/RedSparr0w/Pokeclicker-desktop/releases/latest</a></span></p>
            <p><strong>Where is the wiki?</strong><br/>
            <span class="text-muted"><a href="https://pokeclicker.miraheze.org/">https://pokeclicker.miraheze.org/</a></span></p>
            <p><strong>My game isn&#39;t running at full speed when the window isn&#39;t active.</strong><br/>
            <span class="text-muted">This is a setting on browsers that slows down inactive windows,</span><br/>
            <span class="text-muted">You can change the browser flags, but this is <strong>not </strong>recommended,</span><br/>
            <span class="text-muted">Otherwise you can download the Windows client from here:</span><br/>
            <span class="text-muted"><a href="https://github.com/RedSparr0w/Pokeclicker-desktop/releases/latest">https://github.com/RedSparr0w/Pokeclicker-desktop/releases/latest</a></span></p>
            <p><strong>How do I get Dungeon Tokens?</strong><br/>
            <span class="text-muted">Read the in game Tutorial</span><br/>
            <span class="text-muted">Set the &quot;Caught&quot; selector in the top left to Pokérball to capture Pokémon you have already caught.</span></p>
            <p><h5 class="text-primary"><strong>Saves:</strong></h5></p>
            <p><strong>Can I import my save from the previous version?</strong><br/>
            <span class="text-muted">You can only import the shinies you obtained in the previous version.</span><br/>
            <span class="text-muted">They will only appear in your Pokémon list once re-captured<br/>
            (this will not count as capturing a new shiny Pokémon)</span></p>
            <p><strong>Will my progress be carried over on release?</strong><br/>
            <span class="text-muted">Your save file will likely be compatible with the final release.</span></p>
            <p><h5 class="text-primary"><strong>Rare/Shiny Pokémon:</strong></h5></p>
            <p><strong>What are the odds of finding a roaming Pokémon?</strong><br/>
            <span class="text-muted">The chance to encounter a roaming Pokémon is<code>1/8192</code> for the first route of a region, and increases linearly up to <code>1/4096</code> for the last route of a region.</span><br/>
            <span class="text-muted">&quot;first&quot; and &quot;last&quot; here just being the route difficulty/HP, not necessarily the order you reach the route</span></p>
            <p><strong>What are the odds of finding a shiny Pokémon?</strong><br/>
            <span class="text-muted">On a Route <code>1/8192</code><br/>
            In a Dungeon <code>1/4096</code><br/>
            In the Safari Zone <code>1/2048</code><br/>
            Using an Evolution Item <code>1/2048</code><br/>
            From a Shop <code>1/2048</code><br/>
            From Hatching an Egg <code>1/1024</code><br/>
            Wandering on the Farm <code>1/1024</code></span></p>
            <p><strong>Do shiny Pokémon give any bonus to gameplay?</strong><br/>
            <span class="text-muted">Yes, they give an extra 50% bonus to Click Attack compared to the non shiny variant.</span></p>
            <p><strong>If I breed a shiny Pokémon will it still stay shiny?</strong><br/>
            <span class="text-muted">Yes, once a Pokémon is shiny, it will always remain shiny.</span></p>
            <p><strong>If I evolve a shiny Pokémon will the evolution be shiny?</strong><br/>
            <span class="text-muted">No, you will need to obtain the evolutions shiny via a different method.</span></p>
            <p><h5 class="text-primary"><strong>Items:</strong></h5></p>
            <p><strong>What is the small/medium/large restore used for?</strong><br/>
            <span class="text-muted">They can be used in the underground to restore some stamina.</span></p>
            <p><strong>What are berries used for?</strong><br/>
            <span class="text-muted">These items are currently only used in the <strong>Farm</strong> to grow more berries and earn money.</span><br/>
            <span class="text-muted"><strong>Note:</strong> They will eventually have more uses.</span></p>
            <p><strong>Why is the <span class="text-muted">Rare Candy</span> so expensive?</strong><br/>
            <span class="text-muted">They don&#39;t currently have a use, once a use is implemented the price will be adjusted.</span></p>
            <p><strong>How many Oak Item slots are available?</strong><br/>
            <span class="text-muted">There is a maximum of 3 active alots.</span></p>
            <p><h5 class="text-primary"><strong>Gameplay:</strong></h5></p>
            <p><strong>How many regions are playable?</strong><br/>
            <span class="text-muted">Currently Kanto through to Kalos are able to be played.</span></p>
            <p><strong>How do I get to the next region?</strong><br/>
            <span class="text-muted">You must obtain all Pokémon available in the current region.</span><br/>
            <span class="text-muted"><strong>Note:</strong> Once you go to the next region you will not be able to go back to previous regions until you reach the dock.</span></p>
            <p><strong>How do I increase my Click Attack?</strong><br/>
            <span class="text-muted">New Pokémon you capture increase your click attack, shinies also increase your click attack at 50% efficiency.</span></p>
            <p><strong>Can I progress towards more than 1 quest at a time?</strong><br/>
            <span class="text-muted">Yes, you can unlock up to 4 quest slots.</span><br/>
            <span class="text-muted"><code>Quest Level 10:</code> 2 slots.</span><br/>
            <span class="text-muted"><code>Quest Level 15:</code> 3 slots.</span><br/>
            <span class="text-muted"><code>Quest Level 20:</code> 4 slots.</span></p>
            <p><strong>Where is <span class="text-muted">x</span> location?</strong><br/>
            <span class="text-muted"><code>Underground:</code> Route 11.</span><br/>
            <span class="text-muted"><code>Daycare:</code> Route 5, or click <strong>List</strong> on the hatchery.</span><br/>
            <span class="text-muted"><code>Farm:</code> Route 14.</span></p>
            <p><strong>How do I unlock <span class="text-muted">x</span> location?</strong><br/>
            <span class="text-muted"><code>Underground:</code> Buy the <strong>Explorer Kit</strong> from <strong>Cinnabar island</strong>.</span><br/>
            <span class="text-muted"><code>Daycare:</code>  Will be unlocked after reaching <strong>route 5</strong>.</span><br/>
            <span class="text-muted"><code>Farm:</code> Will be unlocked after reaching <strong>route 14</strong> and obtaining <strong>Berries</strong>.</span></p>
            <p><strong>Why should I be breeding Pokémon?</strong><br/>
            <span class="text-muted">Some Pokémon can only be obtained by breeding.<br/>
            When a Pokémon is hatched, it&#39;s attack will increase by 25% of the base amount.<br/>
            Breeding has higher odds of obtaining a shiny Pokémon <code>(1/1024)</code>.</span></p>
            <p><strong>How do I obtain <span class="text-muted">x</span> Pokémon?</strong><br/>
            <span class="text-muted">Check you have completed every <strong>route</strong>.</span><br/>
            <span class="text-muted">Check each <strong>dungeon</strong> has been completed.</span><br/>
            <span class="text-muted">Some Pokémon only come from <strong>eggs</strong>.</span><br/>
            <span class="text-muted">Some can only be obtained by using an <strong>Evolution Stone</strong>.</span><br/>
            <span class="text-muted">Some can only be found in the <strong>Safari Zone</strong> (7 exclusives).</span><br/>
            <span class="text-muted"><strong>Fossil Pokémon</strong> can only be obtained with the correlating <strong>Fossil </strong>from the <strong>Underground</strong>.</span><br/>
            <span class="text-muted">Some can only be purchased from a <strong>Shop</strong>.</span><br/>
            <span class="text-muted"><strong>(Roamers)</strong>Some legendaries will <strong>randomly</strong> appear on <strong>routes</strong>.</span><br/>
            <span class="text-muted"><strong>(Babies)</strong> Breed their evolution.</span><br/>
            <span class="text-muted">Some can only evolve at certain times of the day.</span><br/>
            <span class="text-muted">Some can only evolve in specific locations.</span><br/>
            <span class="text-muted">Some can only appear/evolve in specific weather.</span></p>
            <p><h5 class="text-primary"><strong>Development:</strong></h5></p>
            <p><strong>When will the development version be fully released?</strong><br/>
            <span class="text-muted">There is currently no plans for a &quot;final release&quot;.</span><br/>
            <span class="text-muted">Maybe once all the regions are added that will be version <code>1.0.0</code></span></p>
            <p><strong>When will more regions be added?</strong><br/>
            <span class="text-muted">This is a current priority, but there is no set timelines, it will be ready when it is ready.</span></p>
            <p><strong>Who are the awesome guys/girls developing this game?</strong><br/>
            <span class="text-muted">The original game was developed by @IshaD#1866, who has since decided to stop work on this project,</span><br/>
            <span class="text-muted">Since then lots of people have helped by contributing code via GitHub.</span></p>
            <p><strong>How can I help with development?</strong><br/>
            <span class="text-muted">The GitHub repo is located here:</span><br/>
            <a href="https://github.com/pokeclicker/pokeclicker">https://github.com/pokeclicker/pokeclicker</a><br/>
            <span class="text-muted">Any new issues, suggestions or code contributions are always welcomed.</span><br/>
            <span class="text-muted">You may even earn the @Poké Crew, @Code Contributor or @Developer roles in Discord.</span></p>              
         </div>

         <div class="modal-footer">
             <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
         </div>
     </div>
  </div>
</div>


<!-- Changelog Modal -->
<div class="modal fade noselect" id="changelogModal" tabindex="-1" role="dialog" aria-badgeledby="changelogModal">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
       <div class="modal-content">
           <div class="modal-header">
               <h5>Changelog</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>

           <div class="modal-body p-0">
               <table class="table table-striped table-hover table-bordered table-sm m-0">
                   <thead>
                     <tr>
                       <th>Type</th>
                       <th>Message</th>
                     </tr>
                   </thead>
                   <tbody data-bind="foreach: ChangelogItems">
                     <tr data-bind="css: { 'table-dark': type.label == 'UPDATE' }">
                       <td class="tight" data-bind="html: type.label, class: 'table-' + type.display"></td>
                       <td class="text-left" data-bind="html: description">-</td>
                     </tr>
                   </tbody>
               </table>
           </div>

           <div class="modal-footer">
               <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
           </div>
       </div>
    </div>
</div>


<!-- Changelog Modal -->
<div class="modal fade noselect" id="eventsModal" tabindex="-1" role="dialog" aria-badgeledby="eventsModal">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
       <div class="modal-content">
           <div class="modal-header">
               <h5>Events</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>

           <div class="modal-body p-0">
               <table class="table table-striped table-hover table-bordered table-sm m-0">
                   <thead>
                     <tr>
                       <th>Event</th>
                       <th>Description</th>
                       <th>Start Time</th>
                       <th>End Time</th>
                     </tr>
                   </thead>
                   <tbody data-bind="foreach: SpecialEvents.events">
                     <!-- ko if: Date.now() < endTime -->
                     <tr>
                       <td data-bind="text: title"></td>
                       <td class="text-left" data-bind="html: description"></td>
                       <td class="text-left"><code data-bind="text: startTime.toLocaleString()">-</code></td>
                       <td class="text-left"><code data-bind="text: endTime.toLocaleString()">-</code></td>
                     </tr>
                     <!-- /ko -->
                   </tbody>
               </table>
           </div>

           <div class="modal-footer">
               <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
           </div>
       </div>
    </div>
</div>


<!-- Start Sequence Modal-->
<div class="modal" id="startSequenceModal" tabindex="-1" role="dialog"
aria-labelledby="startSequenceModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div style="width: 100%;">
                    <img src="assets/images/oak.png">
                    <h5 class="modal-title" id="startSequenceModalLabel">Professor Oak</h5>
                </div>
            </div>
            <div class="modal-body">
                <p>
                Hello, there! Welcome to the world of Pokémon!<br/>
                My name is Oak, People affectionately refer to me as the Pokémon Professor.<br/>
                This world is inhabited by creatures called Pokémon!<br/>
                For some people, Pokémon are pets. Other use them for battling.<br/>
                As for myself… I study Pokémon as a profession.<br/>
                However, your very own Pokémon legend is about to unfold!<br/>
                A world of dreams and adventures with Pokémon awaits! Let's go!
                </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-warning mr-auto" href="#challengeModeModal" data-toggle="modal">Challenge Modes</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">Next</button>
            </div>
        </div>
    </div>
</div>


<!-- Pick Starter Modal-->
<div class="modal" id="pickStarterModal" tabindex="-1" role="dialog"
aria-labelledby="pickStarterModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
   <div class="modal-content">
       <div class="modal-header">
           <div style="width: 100%;">
               <img src="assets/images/oak.png">
               <h5 class="modal-title" id="pickStarterModalLabel">Professor Oak</h5>
           </div>
       </div>
       <div class="modal-body">
           <p id="pickStarterModalText">Oh No! We got ambushed by these Pokémon!<br>
               I can only hold off two! Pick the one you want to fight!</p>
           <div class="row justify-content-center">
               <div class="col-lg-8">
                   <div id="starterSelection" class="row">
                       <div class="col">
                           <input class="image-starter" type="image"
                                  src="assets/images/pokemon/1.png"
                                  onclick="StartSequenceRunner.pickStarter(GameConstants.Starter.Bulbasaur)">
                       </div>
                       <div class="col">
                           <input class="image-starter" type="image"
                                  src="assets/images/pokemon/4.png"
                                  onclick="StartSequenceRunner.pickStarter(GameConstants.Starter.Charmander)">
                       </div>
                       <div class="col">
                           <input class="image-starter" type="image"
                                  src="assets/images/pokemon/7.png"
                                  onclick="StartSequenceRunner.pickStarter(GameConstants.Starter.Squirtle)">
                       </div>
                   </div>
               </div>
           </div>
           <p>You can click on it to inflict damage</p>
       </div>
   </div>
</div>
</div>

<!-- Starter Caught Modal-->
<div class="modal" id="starterCaughtModal" tabindex="-1" role="dialog"
aria-labelledby="starterCaughtModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
   <div class="modal-content">
       <div class="modal-header">
           <div style="width: 100%;">
               <img src="assets/images/oak.png">
               <h5 class="modal-title" id="starterCaughtModalLabel">Professor Oak</h5>
           </div>
       </div>
       <div class="modal-body">
           <p>
               Hm! Excellent! You have caught your first Pokémon!<br>
               This is where your journey begins. <br>
               You can progress to the next route after you have defeated 10 Pokémon.<br>
               To help you on your journey, I will give you these <b>Key items</b>!<br>
               You can view all your <b>Key items</b> in the start menu.<br>
           </p>
           <div class="row justify-content-center">
               <div class="col-sm-3">
                   <img
                           title="A television set that is tuned to a program with useful tips for novice TRAINERS"
                           class="key-item"
                           src="assets/images/keyitems/Teachy_tv.png"/>
                   <br>
                   <p>Teachy tv</p>
               </div>
               <div class="col-sm-3">
                   <img
                           title="A case for holding money. It can hold up to 1,000,000 coins"
                           class="key-item"
                           src="assets/images/keyitems/Coin_case.png"/>
                   <br>
                   <p>Coin case</p>
               </div>
               <div class="col-sm-3">
                   <img
                           title="A tiny bag that can hold up to 4 different types of PokéBalls"
                           class="key-item"
                           src="assets/images/keyitems/Pokeball_bag.png"/>
                   <br>
                   <p>PokéBall bag</p>
               </div>

           </div>

       </div>
       <div class="modal-footer">
           <button type="button" class="btn btn-primary" data-dismiss="modal">Next</button>
       </div>
   </div>
</div>
</div>


<!-- Hall of Fame Modal -->
<div class="modal fade" data-keyboard="false" data-backdrop="static" id="hallOfFameModal" tabindex="-1" role="dialog"
aria-labelledby="hallOfFameModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable" role="document">
   <div class="modal-content">
       <div class="modal-header">
           <div style="width: 100%;">
               <img src="assets/images/oak.png">
               <h5 class="modal-title" id="hallOfFameModalLabel">Professor Oak</h5>
           </div>
       </div>
       <div class="modal-body">
           <p>
               So, you won! Congratulations!<br/>
               You are the new Pokémon League champion!<br/>
               You have grown up so much since you first left with <span data-bind="text: GameConstants.Starter[player.starter()]">starter</span>!<br/>
               <br/>
               There are many more regions to explore,<br/>
               In order to move on you will need to capture all available Pokémon from the current region!
           </p>
       </div>
       <div class="modal-footer">
           <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
       </div>
   </div>
</div>
</div>


<!-- Log Book Modal-->
<div class="modal noselect fade" id="nextRegionModal" tabindex="-1" role="dialog" aria-labelledby="nextRegionModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-md" role="document">
        <div class="modal-content">
           <div class="modal-header">
               <h5 class="modal-title" data-bind="text: `Travel to ${GameConstants.camelCaseToString(GameConstants.Region[player.highestRegion() + 1])}`">Travel to next region</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>
           <div class="modal-body">
               <p>
                   <strong>Congratulations on completing the <span data-bind="text: GameConstants.camelCaseToString(GameConstants.Region[player.highestRegion()])"></span> Pokédex!</strong><br/>
                   You can now travel on to <span data-bind="text: GameConstants.camelCaseToString(GameConstants.Region[player.highestRegion() + 1])"></span>!<br/>
                   <br/>
                   <strong>There are a few things you should know before you depart:</strong><br/>
                   You will gain <strong data-bind="text: App.game.breeding.queueSlotsGainedFromRegion(player.highestRegion())"></strong> queue slots in the Hatchery.<br/>
                   When Pokémon are in a Region they're not native to, they will only retain <strong data-bind="text: App.game.party.getRegionAttackMultiplier(player.highestRegion() + 1).toLocaleString(undefined,{style: 'percent'})"></strong> of their total attack.<br/>
                   You will also have to progress to the Dock in <span data-bind="text: GameConstants.camelCaseToString(GameConstants.Region[player.highestRegion() + 1])"></span> before you are able to travel between regions again.
               </p>
               <button class="btn btn-success btn-block" onclick="MapHelper.travelToNextRegion()" data-dismiss="modal">Let's Go!</button>
           </div>
       </div>
    </div>
</div>


<!-- Shards Modal -->
<div class="modal fade noselect" id="shardModal" tabindex="-1" role="dialog" aria-badgeledby="shardModal">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
       <div class="modal-content">
            <div class="modal-header">
                <h5>Shards</h5>
                <button type="button" class="btn btn-info"
                        style="position: absolute; right: 0px; top: 0px; width: auto; height: 63px; padding: 10px;"
                        data-bind="tooltip: { title: 'Use shards to upgrade the type effectiveness of your Pokémon. When you defeat a Pokémon, you get shards based on its type.', trigger: 'hover', placement:'left' }">
                    ?
                </button>

            </div>
            <div class="modal-body p-0">
                <p data-bind="visible: App.game.challenges.list.disableShards.active()" class="bg-danger my-0 sticky-top">
                    Shard bonuses are disabled.
                </p>
                <table class='table table-sm table-hover m-0'>
                    <!-- ko foreach: Array(Shards.nTypes) -->
                        <thead>
                            <tr>
                                <th colspan="4" class="clickable text-left table-dark text-light" data-toggle="collapse" data-bind="attr: { 'href': '#collapse-shard-' + $index() }">
                                    <h3>
                                        <knockout data-bind="text: PokemonType[$index()]"></knockout>
                                        <div class="float-right">
                                            <img width=20px data-bind='attr: { src: Shards.image($index()) }'/>
                                            <knockout data-bind="text: App.game.shards.shardWallet[$index()]().toLocaleString('en-US')"></knockout>
                                        </div>
                                    </h3>
                                </th>
                            </tr>
                        </thead>
                        <tbody class="collapse show" data-bind="attr: { id: 'collapse-shard-' + $index() }">
                            <!-- ko foreach: Array(Shards.nEffects) -->
                                <tr data-bind='if: App.game.shards.isValidUpgrade($parentContext.$index(), $index())'>
                                    <td data-bind='text: GameConstants.TypeEffectiveness[$index()]'></td>
                                    <td width='50%'>
                                        <div class="progress"
                                            data-bind="style: { 'background-color': '#' + TypeHelper.typeColorsLocked[$parentContext.$index()] }">
                                            <div class='progress-bar' role="progressbar"
                                                data-bind="style: { width: (App.game.shards.getShardUpgrade($parentContext.$index(), $index()) * 10) + '%',
                                                                        'background-color': '#' + TypeHelper.typeColors[$parentContext.$index()] }"
                                                aria-valuemin="0" aria-valuemax="100">
                                            </div>
                                            <div class='cell-container' data-bind='foreach: new Array(9)'>
                                                <div class='progress-cell' style='width: 10%'></div>
                                            </div>
                                        </div>
                                    </td>
                                    <td data-bind='text: (GameConstants.TypeEffectivenessValue[GameConstants.TypeEffectiveness[$index()]]
                                        + (App.game.shards.getShardUpgrade($parentContext.$index(), $index()) * Shards.SHARD_UPGRADE_STEP)).toFixed(1) + "x"'></td>
                                    <td>
                                        <button class='btn btn-block btn-primary'
                                                data-bind='click: function(){App.game.shards.buyShardUpgrade($parentContext.$index(), $index())},
                                                    css: {disabled: !App.game.shards.canBuyShardUpgrade($parentContext.$index(), $index())},
                                                    text: (App.game.shards.hasMaxUpgrade($parentContext.$index(), $index()) ?  "MAXED" : "Buy (" + App.game.shards.getShardUpgradeCost($parentContext.$index(), $index()) + ")")'>
                                        </button>
                                    </td>
                                </tr>
                            <!-- /ko -->
                        </tbody>
                    <!-- /ko -->
                </table>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Breeding Modal-->
<div class="modal fade" id="breedingModal" tabindex="-1" role="dialog"
aria-labelledby="breedingModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
   <div class="modal-content">
       <div class="modal-header justify-content-start align-items-center">
            <h5 class="modal-title" id="breedingModalLabel">Day Care</h5>
            <button class="btn btn-secondary" type="button" data-toggle="collapse" style="margin-left: 25px;"
                    data-target="#breeding-filter" aria-expanded="false" aria-controls="breeding-filter">
                Filters
            </button>
            <button class="btn btn-secondary" type="button" data-toggle="collapse" style="margin-left: 25px;"
                    data-target="#breeding-sort" aria-expanded="false" aria-controls="breeding-sort">
                Sort
            </button>
            <button type="button" class="btn btn-info"
            style="position: absolute; right: 0px; top: 0px; width: auto; height: 69px; padding: 10px;"
            data-bind="tooltip: { title: `You can trade your level 100 Pokémon for an egg of the same Pokémon. Hatched Pokémon will gain a ${GameConstants.BREEDING_ATTACK_BONUS}% bonus of their base attack and have a higher chance of becoming shiny!`, trigger: 'hover', placement:'left' }">
            ?
            </button>
       </div>
       <div class="modal-body p-0">
           <ul class="nav nav-tabs nav-fill">
                <li class="nav-item"><a class="nav-link active" href="#breeding-pokemon" data-toggle="tab">Pokémon</a></li>
                <li class="nav-item"><a class="nav-link" href="#breeding-eggs" data-toggle="tab">Eggs</a></li>
                <li class="nav-item"><a class="nav-link" href="#breeding-fossils" data-toggle="tab">Fossils</a></li>
            </ul>

            <p class="bg-danger my-0" data-bind="visible: !App.game.breeding.hasFreeEggSlot()">
                You don't have any free eggslots.
            </p>
            <p class="bg-danger my-0" data-bind="visible: !App.game.breeding.hasFreeQueueSlot() && App.game.breeding.queueSlots()">
                Your breeding queue is full.
            </p>

            <div class="tab-content p-3">
                <div class="tab-pane active" id="breeding-pokemon">
                    <div class="text-left">
                        <div class="form-row collapse" id="breeding-filter">
                            <div class="form-group col-md-6 col-6">
                                <label>Search</label>
                                <input autocomplete="off" class="form-control" oninput="BreedingController.filter.search(new RegExp(`(${this.value})`, 'i'))" placeholder="search here"/>
                            </div>
                            <div class="form-group col-md-3 col-6">
                                <label>Display Value</label>
                                <select name="breedingDisplayFilter" autocomplete="off" class="custom-select" onchange="BreedingController.displayValue(this.value), Settings.setSettingByName(this.name, this.value)">
                                    <!-- ko foreach: Settings.getSetting('breedingDisplayFilter').options -->
                                    <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('breedingDisplayFilter').value === $data.value }, text: $data.text">Type</option>
                                    <!-- /ko -->
                                </select>
                            </div>
                            <div class="form-group col-md-3 col-6">
                                <label>Category</label>
                                <select name="breedingCategoryFilter" autocomplete="off" class="custom-select" onchange="BreedingController.filter.category(+this.value), Settings.setSettingByName(this.name, this.value)">
                                    <option value="-1">All</option>
                                    <!-- ko foreach: PokemonCategories.categories -->
                                    <option style="color: whitesmoke" data-bind="attr: { value: $index, selected: Settings.getSetting('breedingCategoryFilter').value == $index() }, text: $data.name, style: { background: $data.color }">Category</option>
                                    <!-- /ko -->
                                </select>
                            </div>
                            <div class="form-group col-md-3 col-6">
                                <label>Region</label>
                                <select name="breedingRegionFilter" autocomplete="off" class="custom-select" onchange="BreedingController.filter.region(+this.value), Settings.setSettingByName(this.name, this.value)">
                                    <!-- ko foreach: Settings.getSetting('breedingRegionFilter').options.filter(r => r.value <= player.highestRegion()) -->
                                    <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('breedingRegionFilter').value === $data.value }, text: $data.text">Type</option>
                                    <!-- /ko -->
                                </select>
                            </div>
                            <div class="form-group col-md-3 col-6">
                                <label>Shiny Status</label>
                                <select name="breedingShinyFilter" autocomplete="off" class="custom-select" onchange="BreedingController.filter.shinyStatus(+this.value), Settings.setSettingByName(this.name, this.value)">
                                    <option value="-1" data-bind="attr: { selected: Settings.getSetting('breedingShinyFilter').value === '-1' }">All</option>
                                    <option value="0" data-bind="attr: { selected: Settings.getSetting('breedingShinyFilter').value === '0' }">Not Shiny</option>
                                    <option value="1" data-bind="attr: { selected: Settings.getSetting('breedingShinyFilter').value === '1' }">Shiny</option>
                                </select>
                            </div>
                            <div class="form-group col-md-3 col-6">
                                <label>Type</label>
                                <select name="breedingTypeFilter1" autocomplete="off" class="custom-select" onchange="BreedingController.filter.type1(+this.value), Settings.setSettingByName(this.name, this.value)">
                                    <!-- ko foreach: Settings.getSetting('breedingTypeFilter1').options -->
                                    <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('breedingTypeFilter1').value === $data.value }, text: $data.text">Type</option>
                                    <!-- /ko -->
                                </select>
                            </div>
                            <div class="form-group col-md-3 col-6">
                                <label>Type</label>
                                <select name="breedingTypeFilter2" autocomplete="off" class="custom-select" onchange="BreedingController.filter.type2(+this.value), Settings.setSettingByName(this.name, this.value)">
                                    <!-- ko foreach: Settings.getSetting('breedingTypeFilter2').options -->
                                    <option data-bind="attr: { value: $data.value, selected: Settings.getSetting('breedingTypeFilter2').value === $data.value }, text: $data.text">Type</option>
                                    <!-- /ko -->
                                </select>
                            </div>
                        </div>
                        <div class="form-row collapse" id="breeding-sort">
                            <div class="form-group col" data-bind="with: Settings.getSetting('partySort')">
                                <label>Sort</label>
                                <div class="input-group">
                                    <select autocomplete="off" class="custom-select" onchange="Settings.setSettingByName(this.name, SortOptions[SortOptions[this.value]])"
                                        data-bind="foreach: $data.options, attr: {name}, selectedOptions: [$data.observableValue()]">
                                        <option data-bind="text: $data.text, value: $data.value"></option>
                                    </select>
                                    <div class="input-group-append bg-primary text-light">
                                        <label for="hatcheryPartySortDirection" class="clickable m-0 pl-2 pr-2" style="font-size: 22px;" data-bind="text: Settings.getSetting('partySortDirection').observableValue() ? '⥄' : '⥂'">⥂</label>
                                        <input id="hatcheryPartySortDirection" style="vertical-align: middle" class="hidden" type='checkbox'
                                            data-bind="checked: Settings.getSetting('partySortDirection').observableValue()"
                                            onchange="Settings.setSettingByName('partySortDirection', this.checked)"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <!-- Check if the player has any level 100 Pokémon or if they have any eggs -->
                        <p class="bg-danger my-0" data-bind="visible: !App.game.party.hasMaxLevelPokemon()">
                            Unfortunately, you don't have any Pokémon of level 100 to breed.
                        </p>
                        <!-- ko if: App.game.party.hasMaxLevelPokemon() -->
                        <ul class="row justify-content-center p-0" data-bind="foreach: App.game.party.caughtPokemon">
                            <li class="eggSlot col-sm-4 col-md-3 col-lg-2 pokedexEntry text-nowrap" data-bind="visible: BreedingController.visible($data), style:{background: PokedexHelper.getBackgroundColors($data.name)}, class: App.game.breeding.hasFreeEggSlot() || App.game.breeding.hasFreeQueueSlot() ? '' : 'disabled'">
                                <span style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: $data.name">name</span>
                                <div data-bind="visible: App.game.party.alreadyCaughtPokemon($data.id, true)" style="position: absolute;right: 0px;top: 0px;">✨</div>
                                <img src="" width="80px" data-bind="attr:{ src: PokedexHelper.getImage($data.id)}">
                                <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px" data-bind="text: BreedingController.getDisplayValue($data)">value</span>
                                <a class="overlay" href="#breed" data-bind="click: function() { App.game.breeding.addPokemonToHatchery($data); App.game.breeding.checkCloseModal();}"></a>
                                <div class="pokemonCategory dropdown">
                                    <button data-toggle="dropdown" data-bind="class: `category-${$data.category + 1}`"></button>
                                    <div class="dropdown-menu p-0">
                                        <!-- ko foreach: PokemonCategories.categories -->
                                        <a class="dropdown-item category" href="#" data-bind="text: $data.name, click: () => { $parent.category = $index() }">Category</a>
                                        <!-- /ko -->
                                        <a class="dropdown-item bg-dark py-1" href="#categoryModal" data-toggle="modal"><i>Edit</i></a>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <!-- /ko -->
                    </div>
                </div>

                <div class="tab-pane" id="breeding-eggs">
                    <p class="bg-warning my-0" data-bind="visible: !Object.keys(GameConstants.EggItemType).filter(e=>isNaN(e)).filter(x=>player._itemList[x]()).length">
                        you don't have any eggs to breed.
                    </p>
                    <!-- ko if: Object.keys(GameConstants.EggItemType).filter(e=>isNaN(e)).filter(x=>player._itemList[x]()).length -->
                    <ul class="row justify-content-center p-0" data-bind="foreach: Object.keys(GameConstants.EggItemType).filter(e=>isNaN(e)).filter(x=>player._itemList[x]())">
                        <li class="eggSlot col-sm-4 col-md-3 col-lg-2 pokedexEntry text-nowrap" data-bind="class: App.game.breeding.hasFreeEggSlot() ? '' : 'disabled'">
                            <span style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: GameConstants.humanifyString($data)">egg</span>
                            <img src="" width="80px" data-bind="attr:{ src: `assets/images/breeding/${$data}.png` }">
                            <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px" data-bind="text: 'Amount: ' + player._itemList[$data]()">amount</span>
                            <a class="overlay" href="#breed" data-bind="click: function() { ItemList[$data].use(); App.game.breeding.checkCloseModal(); }"></a>
                            <knockout style="position: absolute; right: 2px; top: -14px;"
                                data-bind="template: { name: 'caughtStatusTemplate', data: { status: ItemList[$data].getCaughtStatus() }, if: (ItemList[$data] instanceof CaughtIndicatingItem) }"/>
                        </li>
                    </ul>
                    <!-- /ko -->
                </div>

                <div class="tab-pane" id="breeding-fossils">
                    <p class="bg-warning my-0" data-bind="visible: !Object.keys(GameConstants.FossilToPokemon).filter(f => player.mineInventory().find(i => i.name == f && i.amount())).length">
                        you don't have any fossils to breed.
                    </p>

                    <!-- ko if: Object.keys(GameConstants.FossilToPokemon).filter(f => player.mineInventory().find(i => i.name == f && i.amount())).length -->
                    <ul class="row justify-content-center p-0" data-bind="foreach: Object.keys(GameConstants.FossilToPokemon).map(f => player.mineInventory().find(i => i.name == f)).filter(f => f ? f.amount() : false)">
                        <li class="eggSlot col-sm-4 col-md-3 col-lg-2 pokedexEntry text-nowrap" data-bind="class: App.game.breeding.hasFreeEggSlot() ? '' : 'disabled'">
                            <span style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: GameConstants.humanifyString($data.name)">fossil</span>
                            <img src="" width="80px" data-bind="attr:{ src: `assets/images/breeding/${$data.name}.png` }">
                            <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px" data-bind="text: 'Amount: ' + $data.amount()">amount</span>
                            <a class="overlay" href="#breed" data-bind="click: function() { Underground.sellMineItem($data.id); App.game.breeding.checkCloseModal(); }"></a>
                        </li>
                    </ul>
                    <!-- /ko -->
                </div>
            </div>
       </div>
       <div class="modal-footer">
           <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
       </div>
   </div>
</div>
</div>


<!-- Underground Modal -->
<div aria-labelledby="myModalLabel" class="modal fade noselect" id="mineModal" role="dialog"
     style="cursor:default" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header p-0">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#dig">Dig</a></li>
                    <li class='nav-item'>
                        <a data-toggle='tab' class='nav-link' href="#treasures">Treasures</a>
                    </li>
                    <li class='nav-item'>
                        <a data-toggle='tab' class='nav-link' href="#upgrades">Upgrades</a>
                    </li>
                    <li class='nav-item'>
                        <a data-toggle='tab' class='nav-link' href="#dailyDeals">
                            Daily deals
                        </a>
                    </li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#help">Help</a></li>
                    <btn class="btn btn-primary">
                        <span id="diamondCounter" data-bind='text: App.game.wallet.currencies[GameConstants.Currency.diamond]()'>x</span>
                        <img src='assets/images/underground/diamond.svg' width="20px'">
                    </btn>
                </ul>
            </div>
            <div class="modal-body tab-content p-0">
                <div id="dig" class="tab-pane fade in active show" data-bind="class: Mine.itemsFound() === Mine.itemsBuried() ? 'disabled' : ''">
                    <div class="row no-gutters" data-bind="foreach: ['SmallRestore','MediumRestore','LargeRestore']">
                        <button class="col-4 btn btn-secondary" data-bind="
                                click: function(){ ItemList[$data].use();},
                                css: { disabled: player._itemList[$data]() <= 0}">
                            <span data-bind="text: '(' + player._itemList[$data]() + ')'">(?)</span>
                            <img class="restore-item" data-bind="attr: { src: ItemList[$data].image }">
                            <span data-bind="text: ' +' + App.game.underground.calculateItemEffect(GameConstants.EnergyRestoreSize[$data])">&nbsp;+? energy</span>
                        </button>
                    </div>
                    <div class='row no-gutters' style="text-align:center;">
                        <div class='progress'>
                            <div id='mineEnergyBar' class='progress-bar bg-warning' role='progressbar'
                                 aria-valuemin='0' aria-valuemax='100'
                                 data-bind="style: { width: Math.floor(App.game.underground.energy/App.game.underground.getMaxEnergy()*100) + '%' }">
                                <span data-bind="text: 'Energy: ' + Math.floor(App.game.underground.energy) + ' / ' + App.game.underground.getMaxEnergy() + (Math.floor(App.game.underground.energy) < App.game.underground.getMaxEnergy() ? ' (' + Underground.energyTick() + 's)' : '')"></span>
                            </div>
                        </div>
                    </div>
                    <div id="mineBody" class="container" style="margin:auto">
                    </div>
                    <div class='row no-gutters'>
                        <button class='col-12 col-md-4 btn btn-primary' onClick='Mine.toolSelected(Mine.Tool.Hammer)'>Hammer (<knockout data-bind="text: Underground.HAMMER_ENERGY"></knockout> energy)</button>
                        <button class='col-12 col-md-4 btn btn-info' onClick='Mine.toolSelected(Mine.Tool.Chisel)'>Chisel (<knockout data-bind="text: Underground.CHISEL_ENERGY"></knockout> energy)</button>
                        <button class="col-12 col-md-4 btn btn-secondary"
                            id="mine-survey-result"
                            data-bind="
                                text: Mine.itemsFound() + ' / ' + Mine.itemsBuried() + ' items found' ,
                                tooltip: {
                                    title: () =>
                                        Mine.surveyResult() || 'Conduct a Survey to get more details',
                                        trigger: 'hover',
                                        placement:'top',
                                        html: true,
                                }"
                            >
                        </button>
                        <button class='col-12 col-md-4 btn btn-success'
                                onClick='Mine.survey()'
                                data-bind="disable: Mine.surveyResult() ? true : false">
                            Survey (<knockout data-bind="text: App.game.underground.getSurvey_Cost()"></knockout> energy)
                        </button>
                        <button class='col-12 col-md-4 btn btn-warning' onClick='Mine.bomb()'>Bomb (<knockout data-bind="text: Underground.BOMB_ENERGY"></knockout> energy)</button>
                        <button class='col-12 col-md-4 btn btn-danger' onClick='Mine.skipLayer(true)'>Skip (<knockout data-bind="text: `${Mine.skipsRemaining()} / ${Mine.maxSkips}`"></knockout>)</button>
                    </div>
                </div>
                <div id="treasures" class="tab-pane fade">
                    <div data-bind="if: player.hasMineItems()">
                        <table class="table table-sm table-hover table-striped m-0">
                            <thead>
                                <tr>
                                    <th class="clickable" onclick="Underground.sortMineItems(this.dataset.undergroundsort)" data-undergroundsort="Amount">Amount</th>
                                    <th class="clickable" onclick="Underground.sortMineItems(this.dataset.undergroundsort)" data-undergroundsort="Item">Item</th>
                                    <th class="clickable" onclick="Underground.sortMineItems(this.dataset.undergroundsort)" data-undergroundsort="Value">Value</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody data-bind="template: { name: 'treasureListTemplate', foreach: player.mineInventory()}">
                            </tbody>
                        </table>
                    </div>
                    <div data-bind="ifnot:player.hasMineItems()">
                        You don't have any treasures yet...
                    </div>
                </div>
                <div id="upgrades" class="tab-pane fade">
                    <table class="table table-sm table-hover table-striped m-0">
                        <thead>
                            <tr>
                                <th>Upgrade</th>
                                <th>Amount</th>
                                <th>Cost</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getMaxEnergy(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Energy_Max)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getMaxItems(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Items_Max)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getMinItems(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Items_Min)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getEnergyGain(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Energy_Gain)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getEnergyRegenTime(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Energy_Regen_Time)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getDailyDealsMax(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Daily_Deals_Max)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getBombEfficiency(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Bomb_Efficiency)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getSurvey_Cost(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Survey_Cost)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus': App.game.underground.getSurvey_Efficiency(), 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.Survey_Efficiency)}}"></tr>
                            <tr data-bind="template: { name: 'undergroundUpgradeTemplate',
                                'data': {'totalBonus' : App.game.underground.getSizeY() - Underground.sizeY, 'upgrade': App.game.underground.getUpgrade(UndergroundUpgrade.Upgrades.NewYLayer)}}"></tr>
                        </tbody>
                    </table>
                </div>
                <div id="help" class="tab-pane fade pl-5 pr-5">
                    <h4><u>Dig</u></h4>
                    <p>In the underground you can mine for hidden treasures.</p>

                    <p>There are 3 main ways of breaking tiles:
                    <br/>Chisel will mine two layers on a single tile.
                    <br/>Hammer will mine 1 layer on all nine tiles of a 3x3 square.
                    <br/>Bomb will mine 2 layers of 10 random tiles.</p>

                    <p>You can spend some mining energy to conduct a Survey.
                    <br/>This will give you information about the items to be found in this layer.
                    <br/>It also damages 1 random tile fully.</p>

                    <p>If you don't think this level is worth mining, you can Skip it.
                    <br/>Every time you mine out all items in a level, you will recover one Skip.</p>

                    <h4><u>Treasures</u></h4>
                    <p>Sell your treasures for shards or diamonds!</p>
                    <p>If you have found any fossils, you can hatch the Pokémon they contain from the Treasures tab, or from the Day Care.</p>

                    <h4><u>Upgrades</u></h4>
                    <p>You can use your diamonds to buy all kinds of upgrades that will help you explore the underground even further!</p>
                    <p>Some upgrades will make the Underground harder and are less cost efficient.
                    <br/>Avoid these until you have the other available upgrades!</p>

                    <h4><u>Daily deals</u></h4>
                    <p>In the Daily deals tab you can trade your items.</p>
                </div>
                <div id="dailyDeals" class="tab-pane fade">
                    <div class="table-responsive" id="dailyDealsBody">
                        <table class="table table-sm table-hover table-striped m-0 text-left">
                            <thead>
                                <tr>
                                    <th class="text-center">Inv</th>
                                    <th></th>
                                    <th>Item</th>
                                    <th></th>
                                    <th></th>
                                    <th>Item</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody data-bind='foreach: DailyDeal.list'>
                                <tr>
                                    <td class='vertical-middle text-center' data-bind='text: player.getUndergroundItemAmount(item1.id)'></td>
                                    <td class='vertical-middle'>
                                        <img class='mineInventoryItem' data-bind='attr: {src: item1.image }'>
                                    </td>
                                    <td class='vertical-middle' data-bind='text: amount1 + " × " + item1.name'></td>
                                    <td class='vertical-middle'>→</td>
                                    <td class='vertical-middle'>
                                        <img class='mineInventoryItem' data-bind='attr: {src: item2.image }'>
                                    </td>
                                    <td class='vertical-middle' data-bind='text: amount2 + " × " + item2.name'></td>
                                    <td class='vertical-middle'>
                                        <div class="btn-group btn-block" data-bind="let: { tradeAmount: ko.observable(1) }">
                                            <button class='btn btn-success btn-block' data-bind='click: function(){DailyDeal.use($index(), tradeAmount())}, css: { disabled: !DailyDeal.canUse($index()) }'>
                                                Trade
                                            </button>
                                            <button type="button" data-bind="text: tradeAmount() + '&nbsp;', css: { disabled: !DailyDeal.canUse($index()) }" class="btn btn-success dropdown-toggle dropdown-toggle-split active" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            </button>
                                            <div class="dropdown-menu" data-bind="foreach: [1, 10, 100, 1000, Infinity]">
                                                <button class="dropdown-item" type="button" data-bind="click: function(){tradeAmount($data)}, text: $data"></button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>

    <script type="text/html" id="undergroundUpgradeTemplate">
        <td class='vertical-middle' data-bind='text: upgrade.displayName + ": " + totalBonus'></td>
        <td class='vertical-middle'
            data-bind='text: upgrade.isMaxLevel() ? "" : "(" + (upgrade.increasing ? "+" : "-") + upgrade.upgradeBonus() + ")"'></td>
        <td class='vertical-middle'
            data-bind='text: upgrade.isMaxLevel() ? "" : upgrade.calculateCost().amount + " diamonds"'></td>
        <td class='vertical-middle'>
            <button class='btn btn-success btn-block'
                    data-bind='css: { disabled: !upgrade.canBuy() },
                                text: upgrade.isMaxLevel() ? "Max" : "Upgrade",
                                click: function(){upgrade.buy(); DailyDeal.generateDeals(App.game.underground.getDailyDealsMax(), new Date());}'>
            </button>
        </td>
    </script>

    <script type="text/html" id="treasureListTemplate">
        <tr data-bind='if: amount() > 0'>
            <td class='vertical-middle'>
                <img class='mineInventoryItem' data-bind='attr:{ src: Underground.getMineItemById(id).image }'>
                <span data-bind='text: "("+$data.amount()+")"'></span>
            </td>
            <td class='vertical-middle' data-bind='text: name'></td>
            <!-- ko if: valueType == "Mine Egg" -->
            <td></td>
            <!-- /ko -->
            <!-- ko ifnot: valueType == "Mine Egg" -->
            <td class='vertical-middle' data-bind='text: value + " " + UndergroundItem.getFullResourceName(valueType, value)'></td>
            <!-- /ko -->
            <td class='vertical-middle'>
                <div class="btn-group btn-block" data-bind="let: { sellAmount: ko.observable(1) }">
                    <button class='btn btn-success btn-block'
                            data-bind="attr: { 'data-itemid': id },
                            css: { disabled: amount() <= 0 || (valueType === 'Mine Egg' && !App.game.breeding.hasFreeEggSlot()) },
                                    text: valueType === 'Mine Egg' ? 'Breed' : 'Sell',
                                    click: function(){Underground.sellMineItem($element.dataset.itemid, sellAmount() || 1)}">
                    </button>
                    <!-- ko if: valueType !== 'Mine Egg' -->
                    <button type="button" data-bind="text: sellAmount() + '&nbsp;'" class="btn btn-success dropdown-toggle dropdown-toggle-split active" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    </button>
                    <div class="dropdown-menu" data-bind="foreach: [1, 10, 100, 1000, Infinity]">
                        <button class="dropdown-item" type="button" data-bind="click: function(){sellAmount($data)}, text: $data"></button>
                    </div>
                    <!-- /ko -->
                </div>
            </td>
        </tr>
    </script>
</div>


<!-- Pokedex Modal-->
<div class="modal noselect" id="pokedexModal" tabindex="-1" role="dialog"
aria-labelledby="pokedexModalLabel">
<div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
   <div class="modal-content">
       <div class="modal-header">
           <h4 style="margin-bottom: 0">Pokédex</h4>
           <button style="float:right;" class="btn btn-secondary" type="button" data-toggle="collapse"
                   data-target="#pokedex-filter-container" aria-expanded="false" aria-controls="pokedex-filter-container">
               Filters
           </button>
       </div>
       <div class="modal-body">
            <div class="collapse" id="pokedex-filter-container">
                <div class="container-fluid" style="border-bottom: 1px solid #eceeef">
                    <div class="form-row text-left">

                        <!--Name-->
                        <div class="form-group col-md-6 col-6">
                            <label>Name</label>
                            <input id="nameFilter" class="form-control" placeholder="Bulbasaur" value=""
                                   oninput="PokedexHelper.updateList()">
                        </div>

                        <!--Region-->
                        <div class="form-group col-md-6 col-6">
                            <label>Region</label>
                            <select id="pokedex-filter-region" class="custom-select"
                                    oninput="PokedexHelper.updateList()" style="margin-right: 8px">
                                <option value="" selected>All</option>
                            </select>
                        </div>

                        <!--Types-->
                        <div class="form-group col-md-6 col-6">
                            <label>Type</label>
                            <select id="pokedex-filter-type1" class="custom-select"
                                    oninput="PokedexHelper.updateList()" style="margin-right: 8px">
                                <option value="" selected>All</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6 col-6">
                            <label>Type</label>
                            <select id="pokedex-filter-type2" class="custom-select"
                                    oninput="PokedexHelper.updateList()">
                                <option value="" selected>All</option>
                            </select>
                        </div>

                    </div>

                    <div class="form-group row justify-content-center">
                       <!--Uncaught-->
                       <div class="col-sm-2">
                           <label class="form-check-label">
                               <input class="form-check-input" type="checkbox" id="pokedex-filter-uncaught"
                                      value="false" onclick="PokedexHelper.updateList()"> Uncaught
                           </label>
                       </div>
                       <!--Caught-->
                       <div class="col-sm-2">
                           <label class="form-check-label">
                               <input class="form-check-input" type="checkbox" id="pokedex-filter-caught"
                                      value="false" onclick="PokedexHelper.updateList()"> Caught
                           </label>
                       </div>
                       <!--Shiny-->
                       <div class="col-sm-2">
                           <label class="form-check-label">
                               <input class="form-check-input" type="checkbox" id="pokedex-filter-shiny"
                                      value="false" onclick="PokedexHelper.updateList()"> Shiny
                           </label>
                       </div>
                       <!--Not Shiny-->
                       <div class="col-sm-2">
                           <label class="form-check-label">
                               <input class="form-check-input" type="checkbox" id="pokedex-filter-not-shiny"
                                      value="false" onclick="PokedexHelper.updateList()"> Not Shiny
                           </label>
                       </div>
                       <!--Rare Hold Item-->
                       <div class="col-sm-2">
                           <label class="form-check-label">
                               <input class="form-check-input" type="checkbox" id="pokedex-filter-held-item"
                                      value="false" onclick="PokedexHelper.updateList()"> Rare Hold Item
                           </label>
                       </div>
                       <!--Hide shiny images-->
                       <div class="col-sm-2">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" id="pokedex-filter-held-item"
                                   value="false" onclick="PokedexHelper.toggleAllShiny(!PokedexHelper.toggleAllShiny())"> Hide shiny image
                        </label>
                    </div>

                   </div>

                   <div class="row justify-content-center">
                      <h4 data-bind="text: `Showing ${PokedexHelper.filteredList().length} Pokémon`"></h4>
                   </div>
               </div>

           </div>
           <div>
               <ul class="row justify-content-center p-0" data-bind="foreach: PokedexHelper.filteredList()"
                   style="max-width: 100%; padding:0; margin:0;">
                   <li class="col-sm-4 col-md-3 col-lg-2 pokedexEntry"
                        data-bind="style:{background: PokedexHelper.getBackgroundColors($data.name)}">
                        <span class="id" style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: ($data.id > 0 ? Math.floor($data.id) + '' : '???').padStart(3, 0)">number</span>
                            <div data-bind="visible: App.game.party.alreadyCaughtPokemonByName(name)" style="position: absolute;right: 2px;top: -15px;">
                                <img width="18px" src="" data-bind="attr: { src: `assets/images/pokeball/Pokeball${App.game.party.alreadyCaughtPokemon($data.id, true) ? '-shiny' : ''}.svg`}"/>
                            </div>
                            <img src="" width="80px" data-bind="css: { 'pokemon-not-seen': !PokedexHelper.pokemonSeen($data.id)() }, attr:{ src: PokedexHelper.getImage($data.id)}">
                            <!-- ko if: PokedexHelper.pokemonSeen($data.id) -->
                            <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px" data-bind="text: $data.name">name</span>
                            <a class="overlay" href="#pokemonStatisticsModal" data-toggle="modal" data-bind="click: ()=>{App.game.statistics.selectedPokemonID($data.id)}, tooltip: { html: true, title: `<u>Information:</u><br/>Base Attack: <strong>${$data.attack}</strong><br/>Catch Rate: <strong>${PokemonFactory.catchRateHelper($data.catchRate, true)}%</strong><br/>Hatch Steps: <strong>${App.game.breeding.getSteps($data.eggCycles).toLocaleString('en-US')}</strong>`, trigger: 'hover', placement:'bottom' }"></a>
                            <!-- /ko -->
                   </li>
               </ul>
           </div>
       </div>

       <div class="modal-footer">
           <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
       </div>
   </div>
</div>
</div>


<!-- Statistics Modal-->
<div class="modal noselect fade" id="pokemonStatisticsModal" tabindex="-1" role="dialog" aria-labelledby="pokemonStatisticsModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content" data-bind="with: App.game.statistics.selectedPokemonID()">
            <div class="modal-header bg-dark text-light" style='justify-content: space-around;'>
                <h5 class="modal-title text-muted" data-bind="text: `#${pokemonMap[$data].id <= 0 ? '???' : Math.floor(pokemonMap[$data].id).toString().padStart(3,0)}&nbsp;&nbsp;`"></h5>
                <h5 class="modal-title text-light" data-bind="text: pokemonMap[$data].name">Pokémon Statistics</h5>&nbsp;
                <h5 class="modal-title text-light">
                    <img width="18px" src="" data-bind="attr: { src: `assets/images/pokeball/Pokeball${App.game.party.alreadyCaughtPokemon(pokemonMap[$data].id, true) && PokedexHelper.toggleStatisticShiny() ? '-shiny' : ''}.svg`}, click: () => PokedexHelper.toggleStatisticShiny(!PokedexHelper.toggleStatisticShiny())"/>
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body p-0">
                <img data-bind="attr:{ src: PokedexHelper.getImageStatistics(pokemonMap[$data].id) }" src=""/>
                <table class="table table-striped table-hover table-bordered table-sm m-0">
                  <thead>
                    <tr class="text-light">
                      <th class="text-left bg-dark">Type</th>
                      <th class="text-left bg-dark">Amount</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="text-left">Base Attack</td>
                      <td class="text-left tight"><code data-bind="text: pokemonMap[$data].attack.toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Current Attack</td>
                      <td class="text-left tight"><code data-bind="text: (App.game.party.getPokemon($data) ? App.game.party.getPokemon($data).attack : 0).toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Proteins Used</td>
                      <td class="text-left tight"><code data-bind="text: (App.game.party.getPokemon($data) ? App.game.party.getPokemon($data).proteinsUsed() : 0).toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Type</td>
                      <td class="text-left tight">
                        <span class="badge text-light"
                          data-bind="visible: pokemonMap[$data].type[0] >= 0,
                          style: { 'background-color': TypeColor[pokemonMap[$data].type[0]] }">
                          <small><strong data-bind="text: PokemonType[pokemonMap[$data].type[0]].toUpperCase()"></strong></small>
                        </span>
                        <span class="badge text-light"
                          data-bind="if: pokemonMap[$data].type[1] >= 0,
                          style: { 'background-color': TypeColor[pokemonMap[$data].type[1]] }">
                          <small><strong data-bind="text: PokemonType[pokemonMap[$data].type[1]].toUpperCase()"></strong></small>
                        </span>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-left">Catch Rate</td>
                      <td class="text-left tight"><code data-bind="text: PokemonFactory.catchRateHelper(pokemonMap[$data].catchRate, true) + '%'">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Hatch Steps</td>
                      <td class="text-left tight"><code data-bind="text: App.game.breeding.getSteps(pokemonMap[$data].eggCycles).toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr data-bind="if: BagHandler.displayName(pokemonMap[$data].heldItem)">
                      <td class="text-left">Rare Hold Item</td>
                      <td class="text-left tight"><code data-bind="text: BagHandler.displayName(pokemonMap[$data].heldItem)"></code></td>
                    </tr>
                  </tbody>
                  <thead>
                    <tr class="text-light">
                      <th class="text-left bg-dark">Statistic</th>
                      <th class="text-left bg-dark">Amount</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="text-left">Encountered</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.pokemonEncountered[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Defeated</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.pokemonDefeated[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Captured</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.pokemonCaptured[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Hatched</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.pokemonHatched[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Shinies Encountered</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.shinyPokemonEncountered[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Shinies Defeated</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.shinyPokemonDefeated[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Shinies Captured</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.shinyPokemonCaptured[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Shinies Hatched</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.shinyPokemonHatched[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                  </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<!-- Pokemon Selector Modal-->
<div class="modal noselect fade" id="pokemonSelectorModal" tabindex="-1" role="dialog" aria-labelledby="pokemonSelectorModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header bg-dark text-light" style='justify-content: space-around;'>
                <h5 class="modal-title text-light">Select a Pokémon</h5>&nbsp;
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body p-0">
                <img src="assets/images/items/Protein.png" width="40%"/>
                <br/>
                <div class="sticky-top">
                  <!-- ko if: App.game.challenges.list.disableProteins.active() -->
                  <span class="btn btn-block btn-danger btn-static m-0">
                    Proteins are disabled.
                  </span>
                  <!-- /ko -->
                  <div class="btn-group btn-block m-0" role="group" aria-label="Basic example">
                    <button class="btn btn-block btn-secondary btn-static" data-bind="text: 'Proteins: ' + player.itemList.Protein().toLocaleString('en-US')"></button>
                    <button type="button" class="btn btn-sm btn-primary"
                      data-bind="text: VitaminController.multiplier[VitaminController.multiplierIndex()]"
                      onclick="VitaminController.incrementMultiplier()"
                      oncontextmenu="VitaminController.decrementMultiplier(); return false"
                      title="Multiplier"
                      data-toggle="popover"
                      data-html="true"
                      data-content="Left/right click to cycle amount<br/>Click on pokemon to use"
                      data-placement="right"
                      data-trigger="hover">
                    </button>
                  </div>
                  <div class="input-group" data-bind="with: Settings.getSetting('partySort')">
                      <select autocomplete="off" class="custom-select" onchange="Settings.setSettingByName(this.name, SortOptions[SortOptions[this.value]])"
                          data-bind="foreach: $data.options, attr: {name}, selectedOptions: [$data.observableValue()]">
                          <option data-bind="text: $data.text, value: $data.value"></option>
                      </select>
                      <div class="input-group-append bg-primary text-light">
                          <label for="hatcheryPartySortDirection" class="clickable m-0 pl-2 pr-2" style="font-size: 22px;" data-bind="text: Settings.getSetting('partySortDirection').observableValue() ? '⥄' : '⥂'">⥂</label>
                          <input id="hatcheryPartySortDirection" style="vertical-align: middle" class="hidden" type='checkbox'
                              data-bind="checked: Settings.getSetting('partySortDirection').observableValue()"
                              onchange="Settings.setSettingByName('partySortDirection', this.checked)"/>
                      </div>
                  </div>
                </div>
                <table class="table table-striped table-hover table-bordered table-sm m-0">
                  <thead>
                    <tr class="text-light">
                      <th class="text-left bg-dark align-middle">Pokemon</th>
                      <th class="text-center bg-dark align-middle">Proteins Used</th>
                      <th class="text-center bg-dark align-middle">Attack Bonus</th>
                    </tr>
                  </thead>
                  <tbody data-bind="foreach: App.game.party.caughtPokemon">
                    <tr class="clickable" data-bind="click: () => $data.useProtein(VitaminController.getMultiplier()), hidden: $data.breeding">
                      <td class="text-left"><knockout data-bind="text: $data.name"></knockout><sup data-bind="visible: $data.shiny">✨</sup></td>
                      <td class="text-center tight" data-bind="text: $data.proteinsUsed().toLocaleString('en-US')">-</td>
                      <td class="text-center tight" data-bind="text: Math.floor($data.baseAttack * (GameConstants.BREEDING_ATTACK_BONUS / 100) + $data.proteinsUsed()).toLocaleString('en-US')">-</td>
                    </tr>
                  </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<!-- Badge Case Modal-->
<div class="modal fade noselect" id="badgeCaseModal" tabindex="-1" role="dialog"
aria-labelledby="badgeCaseModalLabel">
<div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
   <div class="modal-content">
       <div class="modal-header">
           <h5 class="modal-title">Badge Case</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
           </button>
       </div>
       <div class="modal-body">
           <div class="row no-gutters justify-content-center"
                data-bind="foreach: BadgeCaseController.getDisplayableBadges()">
               <div class="col-3 badgeEntry">
                   <img src="" width="60px"
                        data-bind="attr:{ src: 'assets/images/badges/'+ $data +'.png'},
                        css: { 'badge-not-acquired': !App.game.badgeCase.hasBadge(BadgeEnums[$data])}">

                   <p style="bottom: 0;"
                      data-bind="text: $data">name</p>

               </div>
           </div>
       </div>

       <div class="modal-footer">
           <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
       </div>
   </div>
</div>
</div>


<!-- Save Modal-->
<div class="modal fade noselect" id="saveModal" tabindex="-1" role="dialog"
     aria-labelledby="saveModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-md" role="document">
        <div class="modal-content">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Save Data</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body p-0">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a class="nav-link active" href="#saveTab" data-toggle="tab">Save</a></li>
                    <li class="nav-item"><a class="nav-link" href="#saveConvert" data-toggle="tab">Convert Original Save</a></li>
                </ul>
                <div class="tab-content p-3">
                    <div id="saveTab" class="tab-pane fade in active show">
                        <div>
                            <form class="form-inline input-group">
                                <input class="outline-dark form-control" placeholder="Enter code..." id="redeemable-code-input" type="text" />
                                <div class="input-group-append">
                                    <button class="btn btn-info" name="name" value="value" type="submit" onclick="RedeemableCodeController.enterCode(); return false;">Claim!</button>
                                </div>
                            </form>
                            <hr>
                            <!-- ko if: App.game.discord.enabled -->
                            <button class="btn btn-primary btn-block" onClick="App.game.discord.login()" data-bind="visible: !App.game.discord.ID()">Link Discord</button>
                            <button class="btn btn-warning btn-block" onClick="App.game.discord.logout()" data-bind="visible: App.game.discord.ID()">Unlink Discord</button>
                            <i class="text-warning"><strong>Note:</strong> This is <strong>not</strong> used for cloud saves,<br/>this just allows you to enter codes recieved from the Discord bot.</i>
                            <hr>
                            <!-- /ko -->

                            <button class="btn btn-primary btn-block" onClick="Save.download()">Download Save</button>
                            <hr>

                            <input type="file" id="import-save" accept=".txt" style="display:none;"
                                    onchange=Save.loadFromFile(this.files[0])>
                            <label for="import-save" class="btn btn-primary btn-block">Import Save</label>
                            <hr>
                            <h5 class="text-danger">You will not be able to recover your savefile</h5>
                            <button class="btn btn-danger btn-block" onClick="Save.delete()">DELETE SAVE</button>
                        </div>
                    </div>

                    <div id="saveConvert" class="tab-pane fade">
                        <p>You can paste your old PokéClicker save file here, to keep shinies:</p>
                        <textarea id="convertTextArea" class="saveTextArea"></textarea>
                        <button class="btn btn-success btn-block" onclick="Save.convert()">
                            Convert
                        </button>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Quests Modal-->
<div class="modal noselect fade" id="QuestModal" tabindex="-1" role="dialog" aria-labelledby="QuestModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <div class="col-3">
                <h5>
                    <span class='' data-bind='text: "Quests (" + App.game.quests.currentQuests().length + "/" + App.game.quests.questSlots() + ")"'>
                    </span>
                </h5>
                </div>
                <div class='col-6'>
                    <div>Lvl. <knockout data-bind='text: App.game.quests.level'></knockout></div>
                    <div class="progress" style='height: 5px'>
                        <div class="progress-bar bg-info" role="progressbar"
                             data-bind="attr:{ style: 'width:' + App.game.quests.percentToNextQuestLevel() + '%' }"
                             aria-valuemin="0" aria-valuemax="100">
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <span data-bind="template: { name: 'currencyTemplate', data: {'amount': App.game.wallet.currencies[GameConstants.Currency.questPoint](), 'currency': GameConstants.Currency.questPoint}}"></span>
                </div>

            </div>
            <div class="modal-body p-0">
                <table class='table table-hover m-0'>
                    <thead>
                    <tr>
                        <td><h5>Description</h5></td>
                        <td><h5>Reward</h5></td>
                        <td><h5>Status</h5></td>
                    </tr>
                    </thead>
                    <tbody data-bind="foreach: App.game.quests.questList" >
                    <tr>
                        <td class="align-middle" style="text-align:left" data-bind='text: description'></td>
                        <td class="align-middle py-0" style="text-align:left">
                            <span data-bind="template: { name: 'currencyTemplate', data: {'amount':  pointsReward, 'currency': GameConstants.Currency.questPoint}}"></span>
                        </td>
                        <td class="align-middle py-0">
                            <button class='btn btn-primary btn-sm btn-block'
                                data-bind='visible: App.game.quests.canStartNewQuest() && !$data.inProgress() && !$data.isCompleted() && !$data.claimed(),
                                click: function(){
                                    App.game.quests.beginQuest($data.index);
                                    if (!App.game.quests.canStartNewQuest()) {$("#QuestModal").modal("hide");}
                                }'>
                                Start
                            </button>
                            <button class='btn btn-success btn-sm btn-block' data-bind='visible: !$data.claimed() && $data.isCompleted(),
                                                                click: () => { App.game.quests.claimQuest($data.index) }'>
                                Claim
                            </button>
                            <span data-bind='visible: $data.inProgress() && !$data.isCompleted(), text: Math.floor(progress()*100) + "%"'></span>
                            <button class='btn btn-success btn-sm btn-block' disabled data-bind='visible: $data.claimed()'>Completed</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="modal-footer">
                <div id='refreshQuests'>
                    <!-- ko if: App.game.quests.freeRefresh() -->
                    <button class="btn btn-primary" onclick="App.game.quests.refreshQuests(false, true)">Free Refresh</button>
                    <!-- /ko -->
                    <!-- ko if: !App.game.quests.freeRefresh() -->
                    <button class="btn btn-primary" onclick="App.game.quests.refreshQuests(false, true)"
                        data-bind="enable: App.game.quests.canAffordRefresh(),
                            tooltip: {
                                title: App.game.quests.freeRefresh() ? '' : `Daily free refresh in: ${GameHelper.formattedLetterTimeUntilTomorrow()}`,
                                trigger: 'hover', placement:'top'
                            }">
                        <span data-bind="template: { name: 'amountTemplate', data: App.game.quests.getRefreshCost() }"></span> - Refresh
                    </button>
                    <!-- /ko -->
                    
                </div>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Farm Modal-->
<div class="modal fade noselect" id="farmModal" tabindex="-1" role="dialog"
     aria-labelledby="farmModalLabel"
     style="cursor:default">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header p-0">
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#berryFarmView">Farm</a></li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#berryDexView">Berrydex</a></li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#helpView">Help</a></li>
                    <!-- TODO: HLXII Add Apricorn Tab ? -->
                    <btn class="btn btn-primary">
                        <span data-bind="template: { name: 'currencyTemplate', data: {'amount': App.game.wallet.currencies[GameConstants.Currency.farmPoint](), 'currency': GameConstants.Currency.farmPoint}}"></span>
                    </btn>
                </ul>
            </div>

            <div class="modal-body tab-content p-0">

                <div id="berryFarmView" class="tab-pane fade in active show">
                    <div id="farmView" class="justify-content-center no-select row">
                        <div class="col-12 col-lg-4">


                            <ul class="nav nav-tabs nav-fill">
                                <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#seeds" data-bind="click: function(){FarmController.berryListVisible(true);}">Berries</a></li>
                                <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#mulches" data-bind="click: function(){FarmController.berryListVisible(false);}">Mulch</a></li>
                            </ul>

                            <div class="tab-content">
                                <div id="seeds" class="tab-pane active">
                                    <ul id="seedList" class="list-group p-0">
                                        <!-- ko foreach: FarmController.getBerryListWithIndex() -->
                                        <li class="list-group-item list-group-item-action seed-list-item p-2"
                                            data-bind="click: function() {FarmController.selectedBerry($data);FarmController.selectedShovel(false);}, css: { 'active': FarmController.selectedBerry() === $data && !FarmController.selectedShovel() }">
                                            <img src="" height="28px"
                                                data-bind="attr:{ src: FarmController.getBerryImage($data) },
                                                css: {'berryLocked': !App.game.farming.unlockedBerries[$data]() }">
                                            <span data-bind="text: App.game.farming.unlockedBerries[$data]() ? BerryType[$data] : '???'"></span>
                                            <span class="float-right" data-bind="text: App.game.farming.berryList[$data]().toLocaleString('en-US')"></span>
                                        </li>
                                        <!-- /ko -->
                                    </ul>

                                    <div class="row justify-content-center align-items-center py-1">
                                        <div class="col-4 pr-0">
                                            <button class="btn btn-block btn-secondary"
                                                onclick="FarmController.navigateLeft()"
                                                data-bind="disable: FarmController.navigateIndex() === 0,
                                                    css: { disabled: FarmController.navigateIndex() === 0 }">
                                                <img src="assets/images/arrow.svg" style="transform: scaleX(-1);" height="20">
                                            </button>
                                        </div>
                                        <div class="col-4" data-bind="text: FarmController.navigateIndex()+1 + '/' + (FarmController.numberOfTabs()+1)"></div>
                                        <div class="col-4 pl-0">
                                            <button class="btn btn-block btn-secondary"
                                                onclick="FarmController.navigateRight()"
                                                data-bind="disable: FarmController.navigateIndex() ===  FarmController.numberOfTabs(),
                                                    css: { disabled: FarmController.navigateIndex() ===  FarmController.numberOfTabs() }">
                                                <img src="assets/images/arrow.svg" height="20">
                                            </button>
                                        </div>
                                    </div>

                                    <div class="row justify-content-center py-1">
                                        <div class="col-6 pr-0">
                                            <button class="btn btn-primary btn-block" data-bind="click: function(){App.game.farming.plantAll(FarmController.selectedBerry())}">
                                                Plant All
                                            </button>
                                        </div>
                                        <div class="col-6 pl-0">
                                            <button class="btn btn-success btn-block" data-bind="click: function(){App.game.farming.harvestAll()}">
                                                Harvest All
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div id="mulches" class="tab-pane">
                                    <ul id="mulchList" class="list-group p-0">
                                        <!-- ko foreach: Object.keys(MulchType).filter(value => !isNaN(value) && value != -1) -->
                                        <li class="list-group-item list-group-item-action seed-list-item p-2"
                                            data-bind="click: function() {FarmController.selectedMulch($data);FarmController.selectedShovel(false);},
                                                css: { 'active': FarmController.selectedMulch() == $data && !FarmController.selectedShovel() },
                                                tooltip: {title: ItemList[MulchType[$data]].description, trigger: 'hover', animation: false}">
                                            <img src="" width="24px"
                                                data-bind="attr:{ src: ItemList[MulchType[$data]].image }">
                                            <span data-bind="text: MulchType[$data].replace('_', ' ')"></span>
                                            <span class="float-right" data-bind="text: App.game.farming.mulchList[$data]().toLocaleString('en-US')"></span>
                                        </li>
                                        <!-- /ko -->
                                    </ul>
                                    <div class="justify-content-center py-1">
                                        <div class="btn-group btn-block">
                                            <button type="button" class="btn btn-sm btn-secondary"
                                            data-bind="text: FarmController.multipliers[FarmController.multIndex()]"
                                            onclick="FarmController.incrementMultiplier()"
                                            oncontextmenu="FarmController.decrementMultiplier(); return false"
                                            title="Multiplier"
                                            data-toggle="popover"
                                            data-html="true"
                                            data-content="Left/right click to cycle amount<br/>Applies to single and Mulch All"
                                            data-placement="right"
                                            data-trigger="hover">
                                            </button>
                                            <button class="btn btn-primary btn-block" data-bind="click: function(){ FarmController.mulchAll(); }">
                                                Mulch All
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <ul id="shovelList" class="list-group">
                                <li class="list-group-item list-group-item-action seed-list-item p-2"
                                    data-bind="click: function() {FarmController.selectedShovel(true);},
                                    css: { 'active': FarmController.selectedShovel() },
                                    tooltip: {title: 'Clear a Plant from a plot.', trigger: 'hover', animation: false}">
                                    <img src="" height="24px"
                                        data-bind="attr:{ src: ItemList['Berry_Shovel'].image }">
                                    <span>Shovel</span>
                                    <span class="float-right" data-bind="text: App.game.farming.shovelAmt().toLocaleString('en-US')"></span>
                                </li>
                            </ul>
                        </div>

                        <div class="col-12 col-lg-8">
                            <div id="plotList" class="row" data-bind="foreach: App.game.farming.plotList">
                                <!-- ko if: $index() % Farming.PLOT_WIDTH == 0 -->
                                <div class="w-100"></div>
                                <!-- /ko -->
                                <div class="plot col" data-bind="css: { plotLocked : !$data.isUnlocked }">
                                    <div class="plot-content" data-bind="class: FarmController.calculateCssClass()">
                                        <div class="plotImage">
                                            <img style="width: 100%" src="assets/images/farm/soil.png"
                                                data-bind="class: FarmController.calcMulchClass($data)">
                                            <!-- ko if: !$data.isUnlocked -->
                                            <div class="plotButton plotLockHover">
                                                <div>
                                                    <span style="display: inline;">
                                                        <img alt="Berry" style="height: 28px;"
                                                            data-bind="attr:{ src: FarmController.getBerryImage(App.game.farming.plotBerryCost($index()).type) },
                                                            css: {'berryLocked': !App.game.farming.unlockedBerries[App.game.farming.plotBerryCost($index()).type]() }"/>
                                                        <span data-bind="text: GameConstants.formatNumber(App.game.farming.plotBerryCost($index()).amount)">0</span>
                                                    </span>
                                                </div>
                                                <div>
                                                    <span data-bind="template: { name: 'currencyTemplate', data: {'amount': App.game.farming.plotFPCost($index()), 'currency': GameConstants.Currency.farmPoint}}"></span>
                                                </div>
                                            </div>
                                            <!-- /ko -->
                                            <div class="plotButton"
                                                data-bind="ifnot: $data.isEmpty(),
                                                click: function(){FarmController.plotClick($index())},
                                                tooltip: {title: $data.tooltip(), trigger: 'hover', animation: false, html: true}">
                                                <img width="100%" height="100%" src=""
                                                    style="width: 68.75%; max-height: 100%; image-rendering: pixelated;"
                                                    data-bind="attr:{ src: FarmController.getImage($index())}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="berryDexView" class="tab-pane fade">
                    <div>
                        <ul class="row justify-content-center p-0" data-bind="foreach: FarmController.getUnlockedBerryList()"
                            style="max-width: 100%; padding:0; margin:0;">
                            <li class="col-sm-4 col-md-3 col-lg-2 pokedexEntry"
                            data-bind="style:{background: FarmController.getBackgroundColor($data)},
                                    tooltip: { title: FarmController.getHint($data,true,true),
                                    trigger: 'hover',
                                    placement:'top' }">
                                 <span class="id" style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: ($data + 1 + '').padStart(2, 0)">number</span>
                                     <img src="" width=80px style="padding: 20px 0px;" data-bind="css: { 'pokemon-not-seen': !App.game.farming.unlockedBerries[$data]() }, attr:{ src: FarmController.getBerryImage($data)}">
                                     <!-- ko if: App.game.farming.unlockedBerries[$data]() -->
                                     <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px" data-bind="text: BerryType[$data]">name</span>
                                     <a class="overlay" href="#berryDexModal" data-toggle="modal"
                                        data-bind="click: ()=>{App.game.statistics.selectedBerryID($data)}"></a>
                                     <!-- /ko -->
                            </li>
                        </ul>
                    </div>
                </div>

                <div id="helpView" class="tab-pane fade col-10 offset-1">
                    <h4><u>Farm</u></h4>
                    <p>In the farm you can plant and harvest Berries.</p>

                    <p>Each Berry type takes a different amount of time to grow,
                    <br/>Once fully grown, the Berry plant can be clicked to manually harvest the Berries and gain some Farm Points.</p>

                    <p>Otherwise after some time being fully grown, the Berry plant will wither away,
                    dropping half of the expected Berries but may also be re-planted automatically.
                    <br/><i>(Farm Points are only gained by manually harvesting Berries)</i><p>

                    <p>Additional plots can be unlocked by spending Berries.</p>

                    <h4><u>Mutations</u></h4>
                    <p>Berries have the chance to cause mutations and create new Berry species in empty plots based on certain conditions.
                    <br/><i>(the Berry Master in Kanto will give you daily hints to what these conditions may be)</i></p>

                    <h4><u>Mulches</u></h4>
                    <p>Mulches can be bought in later regions from Berry Masters,
                    <br/>They can be used on plots for different effects:</p>
                    <table class="table table-bordered table-striped">
                        <tr>
                            <td>Boost Mulch</td>
                            <td>Increases the growth rate of Berry plants.</td>
                        </tr>
                        <tr>
                            <td>Rich Mulch</td>
                            <td>Increases the number of Berries harvested.</td>
                        </tr>
                        <tr>
                            <td>Surprise Mulch</td>
                            <td>Increases the chances of mutations.</td>
                        </tr>
                        <tr>
                            <td>Amaze Mulch</td>
                            <td>A weaker version of all three effects.</td>
                        </tr>
                    </table>

                    <h4><u>Shovel</u></h4>
                    <p>If you want to remove a Berry plant before it is fully grown,
                    <br/>you can use a Shovel to uproot it.
                    <br/><i>(shovels can be purchased in later regions from Berry Masters)</i></p>

                    <h4><u>Trades</u></h4>
                    <p>Berries can be traded with Berry Masters in later regions for other useful items</p>

                    <h4><u>Wandering Pokémon</u></h4>
                    <p>Ripe Berry plants may attract wild Pokémon that will join your party. Some Pokémon can only be found using certain Berry species.</p>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn mr-auto"
                    data-bind="visible: FarmController.additionalInfoTooltip().length !== 0,
                    tooltip: {
                        title: FarmController.additionalInfoTooltip(),
                        trigger: 'hover',
                        placement:'top',
                        html: true,
                    }">ⓘ</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Berrydex Modal-->
<div class="modal noselect fade" id="berryDexModal" tabindex="-1" role="dialog" aria-labelledby="berryDexModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content" data-bind="with: App.game.statistics.selectedBerryID()+''">
            <div class="modal-header bg-dark text-light" style='justify-content: space-around;'>
                <h5 class="modal-title text-muted" data-bind="text: `#${(Number($data) + 1).toString().padStart(2,0)}&nbsp;&nbsp;`"></h5>
                <h5 class="modal-title text-light" data-bind="text: BerryType[$data]">Berry Statistics</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body p-0">
                <img data-bind="attr:{ src: FarmController.getBerryImage($data) }" src=""/>
                <table class="table table-striped table-hover table-bordered table-sm m-0">
                  <thead>
                    <tr class="text-light">
                      <th class="bg-dark" colspan="2">Description</th>
                    </tr>
                  </thead>
                  <tbody>
                      <td colspan="2"><span data-bind="html: App.game.farming.berryData[$data].descriptionHTML"></span></td>
                  </tbody>
                  <thead>
                    <tr class="text-light">
                      <th class="text-left bg-dark">Type</th>
                      <th class="text-left bg-dark">Amount</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="text-left">Total Growth Time</td>
                      <td class="text-left tight"><code data-bind="html: GameConstants.formatSecondsToTime(App.game.farming.berryData[$data].growthTime[3])">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Harvest Amount</td>
                      <td class="text-left tight"><code data-bind="text: App.game.farming.berryData[$data].harvestAmount.toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Replant Rate</td>
                      <td class="text-left tight"><code data-bind="text: App.game.farming.berryData[$data].replantRate.toLocaleString('en-US', { style: 'percent' })">-</code></td>
                    </tr>
                    <tr>
                      <td class="text-left">Farm Points per Harvest</td>
                      <td class="text-left tight"><code data-bind="text: App.game.farming.berryData[$data].farmValue.toLocaleString('en-US')">-</code></td>
                    </tr>
                    <tr>
                      <td class="p-0" colspan="2">
                        <table class="table table-striped table-hover table-bordered table-sm m-0">
                          <tr class="text-light">
                            <th class="bg-dark" colspan="4">Growth Stages</th>
                          </tr>
                          <tr>
                            <td>Sprout</td>
                            <td>Taller</td>
                            <td>Bloom</td>
                            <td>Berry</td>
                          </tr>
                          <tr>
                            <td><img src="assets/images/farm/AllTreeSprout.png"/></td>
                            <td><img src="" data-bind="attr: { src: `assets/images/farm/${BerryType[$data]}Tree${PlotStage[PlotStage.Taller]}.png` }"/></td>
                            <td><img src="" data-bind="attr: { src: `assets/images/farm/${BerryType[$data]}Tree${PlotStage[PlotStage.Bloom]}.png` }"/></td>
                            <td><img src="" data-bind="attr: { src: `assets/images/farm/${BerryType[$data]}Tree${PlotStage[PlotStage.Berry]}.png` }"/></td>
                          </tr>
                          <tr>
                            <td><code data-bind="html: GameConstants.formatSecondsToTime(App.game.farming.berryData[$data].growthTime[0])">-</code></td>
                            <td><code data-bind="html: GameConstants.formatSecondsToTime(App.game.farming.berryData[$data].growthTime[1])">-</code></td>
                            <td><code data-bind="html: GameConstants.formatSecondsToTime(App.game.farming.berryData[$data].growthTime[2])">-</code></td>
                            <td><code data-bind="html: GameConstants.formatSecondsToTime(App.game.farming.berryData[$data].growthTime[3])">-</code></td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                    <tr>
                      <td class="p-0" colspan="2">
                          <table style="width: 100%;">
                              <tr class="text-light">
                                <th class="bg-dark" colspan="5">Flavor</th>
                              </tr>
                              <tr>
                                  <td>Spicy</td>
                                  <td>Dry</td>
                                  <td>Sweet</td>
                                  <td>Bitter</td>
                                  <td>Sour</td>
                              </tr>
                              <tr>
                                <td data-bind="text: App.game.farming.berryData[$data].flavors[0].value">Spicy</td>
                                <td data-bind="text: App.game.farming.berryData[$data].flavors[1].value">Dry</td>
                                <td data-bind="text: App.game.farming.berryData[$data].flavors[2].value">Sweet</td>
                                <td data-bind="text: App.game.farming.berryData[$data].flavors[3].value">Bitter</td>
                                <td data-bind="text: App.game.farming.berryData[$data].flavors[4].value">Sour</td>
                            </tr>
                          </table>
                      </td>
                      </tr>
                  </tbody>
                  <!-- ko if: FarmController.getHint(+$data) !== ""-->
                  <thead>
                    <tr class="text-light">
                      <th class="bg-dark" colspan="2">Hint</th>
                    </tr>
                  </thead>
                  <tbody>
                    <td colspan="2"><span data-bind="text: FarmController.getHint(+$data)"></span></td>
                  </tbody>
                  <!-- /ko -->
                  <thead>
                    <tr class="text-light">
                      <th class="text-left bg-dark">Statistic</th>
                      <th class="text-left bg-dark">Amount</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="text-left">Harvested</td>
                      <td class="text-left tight"><code data-bind="text: App.game.statistics.berriesHarvested[$data]().toLocaleString('en-US')">-</code></td>
                    </tr>
                  </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<!-- Berry Master Modal-->
<div class="modal fade noselect" id="berryMasterModal" tabindex="-1" role="dialog"
     aria-labelledby="berryMasterModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content" data-bind="let: { shopVisible: ko.observable(true) }">
            <div class="modal-header text-center">
                <h4>Berry Master</h4>
                <button type="button" class="btn btn-primary" data-dismiss="modal">&times;</button>
            </div>
            <div>
                <ul class="nav nav-tabs nav-fill">
                    <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#berryMasterShop" data-bind="click: function(){shopVisible(true);}">Shop</a></li>
                    <li class='nav-item'><a data-toggle='tab' class='nav-link' href="#berryMasterTrade" data-bind="click: function(){shopVisible(false);}">Trades</a></li>
                </ul>
            </div>
            <div class="modal-body tab-content">
                <div id="berryMasterShop" class="tab-pane fade in active show">
                    <span data-bind="template: { name: 'shopBodyTemplate' }"></span>
                </div>
                <div id="berryMasterTrade" class="tab-pane fade">
                    <div class="table-responsive" id="dailyDealsBody">
                        <table class="table table-sm table-hover table-striped m-0 text-left">
                            <thead>
                                <tr>
                                    <th class="text-center">Inv</th>
                                    <th></th>
                                    <th>Berries</th>
                                    <th></th>
                                    <th></th>
                                    <th>Item</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody data-bind='foreach: BerryDeal.getDeals(player.region)'>
                                <!-- ko foreach: berries -->
                                <tr>
                                    <td data-bind="text: App.game.farming.berryList[$data.berryType]()"></td>
                                    <td><img height="28px" data-bind="attr: {src: FarmController.getBerryImage($data.berryType) }, css: {'berryLocked': !App.game.farming.unlockedBerries[$data.berryType]() }"></img></td>
                                    <td data-bind="text: amount + ' x ' + (App.game.farming.unlockedBerries[$data.berryType]() ? BerryType[$data.berryType] : '???')"></td>
                                    <!-- ko if: $index() === 0 -->
                                    <td class='vertical-middle' data-bind="attr: { rowspan: $parent.berries.length }">→</td>
                                    <td class='vertical-middle' data-bind="attr: { rowspan: $parent.berries.length }">
                                        <img class='mineInventoryItem' data-bind='attr: {src: $parent.item.itemType.image}'>
                                    </td>
                                    <td class='vertical-middle' data-bind='attr: { rowspan: $parent.berries.length }, text: $parent.item.amount + " × " + $parent.item.itemType.displayName'></td>
                                    <td class='vertical-middle' data-bind="attr: { rowspan: $parent.berries.length }">
                                        <div class="btn-group btn-block" data-bind="let: { tradeAmount: ko.observable(1) }">
                                            <button class='btn btn-success btn-block' data-bind='click: function(){BerryDeal.use(player.region, $parentContext.$index(), tradeAmount())}, css: { disabled: !BerryDeal.canUse(player.region, $parentContext.$index()) }'>
                                                Trade
                                            </button>
                                            <button type="button" data-bind="text: tradeAmount() + '&nbsp;', css: { disabled: !BerryDeal.canUse(player.region, $parentContext.$index()) }" class="btn btn-success dropdown-toggle dropdown-toggle-split active" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            </button>
                                            <div class="dropdown-menu" data-bind="foreach: [1, 10, 100, 1000, Infinity]">
                                                <button class="dropdown-item" type="button" data-bind="click: function(){tradeAmount($data)}, text: $data"></button>
                                            </div>
                                        </div>
                                    </td>
                                    <!-- /ko -->
                                </tr>
                                <!-- /ko -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <!-- ko if: shopVisible() -->
                <div class="row justify-content-center">
                    <div class="input-group m-0" style="margin-bottom: 6px; margin-top: 6px">
                        <div class="input-group-prepend">
                            <button class="btn btn-warning btn-outline-dark smallButton smallFont" onclick="ShopHandler.resetAmount()">
                                Reset
                            </button>
                        </div>
                        <input id="amountOfItems" type="number" class="outline-dark form-control form-control-number"
                                value="1" min="1" required name="amountOfItems"
                                oninput="ShopHandler.amount(parseInt($(this).val().toString(), 10) || 0);"
                                onchange="ShopHandler.amount(parseInt($(this).val().toString(), 10) || 0);" title=""/>
                        <div class="input-group-append">
                            <!-- ko if: Settings.getSetting('shopButtons').observableValue() == 'original' -->
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(10)">
                                    +10
                                </button>
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(100)">
                                    +100
                                </button>
                            <!-- /ko -->
                            <!-- ko if: Settings.getSetting('shopButtons').observableValue() == 'multiplication' -->
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.multiplyAmount(10)">
                                    &times;10
                                </button>
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.multiplyAmount(0.1)">
                                    &div;10
                                </button>
                            <!-- /ko -->
                            <!-- ko if: Settings.getSetting('shopButtons').observableValue() == 'bigplus' -->
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(100)">
                                    +100
                                </button>
                                <button class="btn btn-secondary smallButton smallFont" type="button" onclick="ShopHandler.increaseAmount(1000)">
                                    +1000
                                </button>
                            <!-- /ko -->
                            <button class="btn btn-primary smallButton smallFont" type="button" onclick="ShopHandler.maxAmount()">
                                Max
                            </button>
                            <button class="btn-outline-dark" data-bind="attr: {class: ShopHandler.calculateButtonCss()}" onclick="ShopHandler.buyItem()">
                                Buy
                            </button>
                        </div>
                    </div>
                </div>
                <!-- /ko -->
                <!-- ko if: !shopVisible() -->
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                <!-- /ko -->
            </div>
        </div>
    </div>
</div>


<!-- Ship Modal-->
<div class="modal noselect fade" id="ShipModal" tabindex="-1" role="dialog" aria-labelledby="ShipModalLabel">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header" style='justify-content: space-around;'>
                <h5 class="modal-title">Regional Travel</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body bg-ocean">
                <img class="my-5" src='assets/images/ship.png' style='width: 100%;'>
                <div style='margin-top:20px' data-bind="foreach: GameHelper.enumStrings(GameConstants.Region)">
                    <!-- ko if: $data !== 'none' -->
                    <button class='btn btn-block btn-success'
                        data-dismiss='modal'
                        data-bind='visible: player.region != GameConstants.Region[$data] && GameConstants.Region[$data] <= player.highestRegion() && GameConstants.Region[$data] <= GameConstants.MAX_AVAILABLE_REGION,
                        click: () => { MapHelper.moveToTown(GameConstants.DockTowns[GameConstants.Region[$data]]); player.region = GameConstants.Region[$data]; },
                        text: GameConstants.camelCaseToString($data)'>
                        Region
                    </button>
                    <!-- /ko -->
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Safari Modal -->
<div aria-labelledby="safariModal" class="modal fade noselect" id="safariModal" role="dialog" style="cursor:default" tabindex="-1" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <div class="modal-content">
            <div class="controls" data-bind="visible: Safari.inProgress() && !Safari.inBattle()">
                <div style="width:120px">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 411 411">
                        <g>
                          <path fill="whitesmoke" d="M382 137h-89c-11 0-19-8-19-19V29c0-16-13-29-29-29h-79c-16 0-29 13-29 29v89c0 11-8 19-19 19H29c-16 0-29 13-29 29v79c0 16 13 29 29 29h89c11 0 19 8 19 19v89c0 16 13 29 29 29h79c16 0 29-13 29-29v-89c0-11 8-19 19-19h89c16 0 29-13 29-29v-79c0-16-13-29-29-29zM93 244c0 2-2 3-4 2l-52-38c-2-1-2-4 0-5l52-38c2-1 4 0 4 3v76zm72-155l38-52c1-2 4-2 5 0l38 52c1 2 0 4-2 4h-76c-3 0-4-2-3-4zm81 233l-38 52c-1 2-4 2-5 0l-38-52c-1-2 0-4 3-4h76c2 0 3 2 2 4zm-40-69a47 47 0 110-94 47 47 0 010 94zm168-45l-52 38c-2 1-4 0-4-2v-76c0-3 2-4 4-3l52 38c2 1 2 4 0 5z"/>
                          <path fill="transparent" d="M135 1h142v137H135z"   onmousedown="GameController.simulateKey('ArrowUp')" onmouseout="GameController.simulateKey('ArrowUp', 'up')" onmouseup="GameController.simulateKey('ArrowUp', 'up')" ontouchstart="GameController.simulateKey('ArrowUp')"/><!-- up -->
                          <path fill="transparent" d="M1 137h142v137H1z"     onmousedown="GameController.simulateKey('ArrowLeft')" onmouseout="GameController.simulateKey('ArrowLeft', 'up')" onmouseup="GameController.simulateKey('ArrowLeft', 'up')" ontouchstart="GameController.simulateKey('ArrowLeft')"/><!-- left -->
                          <path fill="transparent" d="M135 273h142v137H135z" onmousedown="GameController.simulateKey('ArrowDown')" onmouseout="GameController.simulateKey('ArrowDown', 'up')" onmouseup="GameController.simulateKey('ArrowDown', 'up')" ontouchstart="GameController.simulateKey('ArrowDown')"/><!-- down -->
                          <path fill="transparent" d="M268 137h142v137H268z" onmousedown="GameController.simulateKey('ArrowRight')" onmouseout="GameController.simulateKey('ArrowRight', 'up')" onmouseup="GameController.simulateKey('ArrowRight', 'up')" ontouchstart="GameController.simulateKey('ArrowRight')"/><!-- right -->
                        </g>
                    </svg>
                </div>
            </div>
            <div class="modal-header">
                <h4 style='text-align:center' class="modal-title">
                    Safari Zone
                    <span data-bind="if: Safari.completed()">
                        <img class="pokeball-smallest"
                            data-bind='attr:{
                                title:"You have captured all of the Safari Pokémon" + (Safari.completed(true) ? " shiny" : "") + "!",
                                src:"assets/images/pokeball/Pokeball" + (Safari.completed(true) ? "-shiny" : "") + ".svg"
                            }'
                        />
                    </span>
                </h4>
                <button class='btn btn-danger modalClose' onclick='Safari.closeModal()'>Leave</button>
            </div>

            <div class="modal-body p-0">
                <!-- Tab Titles -->
                <ul style="width:100%" class="nav nav-tabs nav-fill">
                    <li class="nav-item">
                        <a data-toggle='tab' class='nav-link active' href="#safariExplore">Explore</a>
                    </li>
                    <li class='nav-item'>
                        <a class='nav-link' href="#safariHelp" data-bind="attr: {'data-toggle': Safari.inBattle() ? '' : 'tab'}">Help</a>
                    </li>
                </ul>

                <!-- Tab Contents -->
                <div class=tab-content>

                    <!-- Main tab -->
                    <div  id="safariExplore" class="tab-pane fade in active show">
                        <div class="modal-body p-0">

                            <div id="safariEntrance" data-bind="if: !Safari.inProgress()">
                                <button id="paySafariButton" class="btn btn-block" onclick="Safari.payEntranceFee()"
                                    data-bind="class: Safari.canPay() ? 'btn-primary' : 'disabled btn-danger'">
                                    Pay Entrance Fee <knockout id='safariEntranceCost' data-bind="template: { name: 'currencyTemplate', data: {'amount': Safari.cost().amount, 'currency': Safari.cost().currency}}"></knockout>
                                </button>
                                <img class='fit-width' src="assets/images/safari/area1.png" />
                            </div>

                            <div style="position: relative;">
                                <div id="safariBody"
                                    class='container-fluid'
                                    data-bind="visible: Safari.inProgress()">
                                </div>
                                <!-- ko foreach: Safari.pokemonGrid -->
                                    <div class="pokemonSprite walkDown" data-bind="css: { shiny: $data.shiny },
                                    style: {
                                        backgroundImage: `${$data.shiny ? 'url(\'assets/images/dynamic-background/pokemon/sparkle.png\'), ' : ''}url('assets/images/dynamic-background/pokemon/${$data.id.toString().padStart(3, '0')}${$data.shiny ? 's' : ''}.png')`,
                                        top: `${32 * $data.y - 8}px`,
                                        left: `${32 * $data.x - 4}px`,
                                    }"></div>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>


                    <!-- Help tab -->
                    <div  id="safariHelp" class="tab-pane fade">
                        <div class="modal-body" style="width: 80%;margin: auto;">
                            <div id="safariHelpText">
                                <p>The safari zone contains several unique Pokémon, and a different method of encountering and capturing Pokémon.</p>
                                <p>After paying the entrance fee, you will be able to walk around in the safari zone. To encounter Pokémon, you must walk in tall grass.</p>
                                <p>
                                    When you have encountered a Pokémon, you will be given 4 options:
                                    <ul>
                                        <li>Ball: This will throw a Pokéball and give you a chance of capturing the Pokémon</li>
                                        <li>Rock: Throwing a rock will make the Pokémon more likely to flee, but easier to catch</li>
                                        <li>Bait: Throwing bait will make the Pokémon less likely to flee, but harder to catch</li>
                                        <li>Run: This will end the encounter</li>
                                    </ul>
                                </p>
                                <p>After your turn of the encounter, if it did not result in the encounter ending, the wild Pokémon will have a chance of running away.</p>
                                <p>Your safari exploration will end when you have run out of Pokéballs.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Safari Modal -->
<div class="modal fade noselect" id="safariBattleModal" tabindex="-1" role="dialog" aria-badgeledby="safariBattleModal" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-md" role="document">
       <div class="modal-content">
           <div class="modal-body p-0">
              <div class="battle-view">
                <div class="row justify-content-center no-gutters" data-bind="if: Safari.inBattle">
                  <div class="col no-gutters clickable" data-bind="click: function() {BattleFrontierBattle.clickAttack()}" style="height: 220px; display: block;">
                      <h2 class="pageItemTitle" style="display: block;">

                          <knockout class="left">
                          </knockout>

                          <knockout>
                              <knockout data-bind="text: SafariBattle.enemy.name">Pokémon name</knockout>
                              <knockout data-bind="template: { name: 'caughtStatusTemplate', data: {'status': PartyController.getCaughtStatus(SafariBattle.enemy.id)}}"></knockout>
                          </knockout>

                          <knockout class="right">
                          </knockout>
                      </h2>

                      <div>
                          <img class="enemy" data-bind="attr: { src: `assets/images/${SafariBattle.enemy.shiny ? 'shiny' : ''}pokemon/${SafariBattle.enemy.id}.png` }" src=""/>
                      </div>

                      <h2 class="pageItemFooter" style="display: block;">

                          <knockout class="left" data-bind="text: `Catch chance: ${SafariBattle.enemy.catchFactor.toFixed(2)} %`">
                          </knockout>
                            &nbsp;
                          <knockout class="right" data-bind="text: `Escape chance: ${SafariBattle.enemy.escapeFactor.toFixed(2)} %`">
                          </knockout>
                      </h2>
                  </div>
                </div>
              </div>
           </div>

           <div class="modal-footer p-0 bg-dark text-light">
                <div class="message" data-bind='html: SafariBattle.text'></div>
                <div class="row" style="width: 100%;">
                    <button type="button" class="btn btn-primary btn-block col-6 m-0" onclick="this.blur();SafariBattle.lockButtons();SafariBattle.throwBall()" data-bind='text: "Ball (" + Safari.balls() + ")"'>Ball (30)</button>
                    <div class="btn-group btn-block col-6 m-0 dropup" style="padding:0px;" data-bind="let: { baitType: ko.observable(BaitType.Bait) }">
                        <button type="button" class='btn btn-primary btn-block' onclick="this.blur();SafariBattle.lockButtons();" data-bind='{ click: function(){SafariBattle.throwBait(baitType());}, enable: BaitList[BaitType[baitType()]].amount() !== 0 && !SafariBattle.disableButtons }'>
                            <div style="display:inline"><img width=16px data-bind="attr: { src: BaitList[BaitType[baitType()]].image }"></div>
                            <span data-bind="text: BaitList[BaitType[baitType()]].btnName">Bait (∞)</span>
                        </button>
                        <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split active" data-bind="text: '&nbsp;'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        </button>
                        <div class="dropdown-menu dropdown-menu-right" data-bind="foreach: GameHelper.enumNumbers(BaitType)">
                            <button class="dropdown-item" type="button" data-bind="click: function(){baitType($data)}, text: BaitList[BaitType[$data]].btnName"></button>
                        </div>
                    </div>
                    <button type="button" class="btn btn-primary btn-block col-6 m-0" onclick="this.blur();SafariBattle.lockButtons();SafariBattle.throwRock()">Rock (∞)</button>
                    <button type="button" class="btn btn-primary btn-block col-6 m-0" onclick="this.blur();SafariBattle.lockButtons();SafariBattle.run()">Run</button>
                </div>
           </div>
       </div>
    </div>
</div>


<!-- NPC Modal-->
<div class="modal fade noselect" id="npc-modal" role="dialog" tabindex="-1">
  <div class="modal-dialog modal-dialog-scrollable modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-body text-center">
        <u><h5 class="npc-name">NPC Name</h5></u><br/>
        <img class="npc-image" src=""/>
        <div class="npc-dialog"></div>
        <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Pokeball Selector Modal -->
<div class="modal fade" id="pokeballSelectorModal" tabindex="-1" role="dialog"
  aria-labelledby="PokeballSelectorModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="pokeballSelectorModalLabel">Pokéball Selection</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body p-0">
        <div class="table-warning p-1 text-left" data-bind="text: App.game.pokeballs.selectedTitle"></div>
        <div class="card-body p-0 show table-responsive text-left">
          <table class="table table-sm m-0">
            <thead>
              <tr>
                <th class="text-center" width="20%">Ball</th>
                <th>Description</th>
                <th class="text-center">Qty</th>
              </tr>
            </thead>
            <tbody>
              <tr class="clickable"
                data-bind="template: { name: 'pokeballSelectionTemplate', data: { 'image': 'None', 'type': -1, 'description': 'Do not catch' }},
                    click: function(){App.game.pokeballs.selectedSelection()(GameConstants.Pokeball.None)}"></tr>
              <!-- ko foreach: App.game.pokeballs.pokeballs -->
              <tr class="clickable"
                data-bind="template: { name: 'pokeballSelectionTemplate', data: $data},
                  click: function(){App.game.pokeballs.selectedSelection()($data.type)},
                  visible: $data.unlocked(),
                  css: { 
                    'clickable': !($data.type === GameConstants.Pokeball.Masterball && App.game.challenges.list.disableMasterballs.active()),
                    'disabled no-click text-muted': ($data.type === GameConstants.Pokeball.Masterball && App.game.challenges.list.disableMasterballs.active()),
                  }"></tr>
              <!-- /ko -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script type="text/html" id="pokeballSelectionTemplate">
  <td class="text-center">
    <img class="pokeball-small"
      data-bind="attr: {src: 'assets/images/pokeball/' + GameConstants.Pokeball[$data.type] + '.svg'}, css: {'pokeball-selected': App.game.pokeballs.selectedSelection()() === $data.type}"/>
  </td>
  <td class="align-middle">
    <span data-bind="text: $data.description"></span>
  </td>
  <td class="text-center align-middle">
    <span data-bind="text: $data.quantity && $data.quantity() ? GameConstants.formatNumber($data.quantity()) : '-', tooltip: $data.quantity && {title: $data.quantity().toLocaleString('en-US'), trigger: 'hover', animation: false, placement: 'left'}"></span>
  </td>
</script>


<!-- Damage Calculator Modal -->
<script type="text/html" id="damageDetailTemplate">
  <tr>
      <td>
          <img class="smallImage" data-bind="attr:{ src: PokemonHelper.getImage($data, App.game.party.alreadyCaughtPokemon($data.id, true)) }" src=""/>
      <td class="text-nowrap">
          <span data-bind="text: name">Name</span><sup data-bind="visible: App.game.party.alreadyCaughtPokemon($data.id, true)">✨</sup>
      </td>
      <td data-bind="text: Math.round(damage).toLocaleString('en-US')">Damage</td>
      <td data-bind="text: PokemonType[type1]">Type 1</td>
      <td data-bind="text: PokemonType[type2]">Type 2</td>
  </tr>
</script>

<div class="modal fade" id="damageCalculatorModal" tabindex="-1" role="dialog"
aria-labelledby="damageCalculatorModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="damageCalculatorModalLabel">Damage Calculator</h5>
            <button type="button" class="btn btn-info"
            style="position: absolute; right: 0px; top: 0px; width: auto; height: 61px; padding: 10px;"
            data-bind="tooltip: { title: `Check how much damage you are doing against a particular Pokémon type, and see a breakdown of where that damage is coming from by your Pokémon types.`, trigger: 'hover', placement:'left' }">
            ?
            </button>
        </div>
        <div class="modal-body p-0">
            <div class="p-1">
                <div class="form-row m-0">
                    <div class="form-group col-md-3 col-6 align-self-center">
                        <div class="form-check">
                            <input id="damage-calc-include-breeding" class="form-check-input" type="checkbox" autocomplete="off" data-bind="checked: DamageCalculator.includeBreeding"></input>
                            <label for="damage-calc-include-breeding" class="form-check-label">Include Breeding</label>
                        </div>
                        <div class="form-check">
                            <input id="damage-calc-use-base" class="form-check-input" type="checkbox" autocomplete="off" data-bind="checked: DamageCalculator.baseAttackOnly"></input>
                            <label for="damage-calc-use-base" class="form-check-label">Base Attack Only</label>
                        </div>
                    </div>
                    <div class="form-group col-md-3 col-6">
                        <label>Region</label>
                        <select autocomplete="off" class="custom-select" data-bind="value: DamageCalculator.region">
                            <!-- ko foreach: GameHelper.enumStrings(GameConstants.Region).filter(r => r != 'none' && GameConstants.Region[r] <= player.highestRegion()) -->
                            <option data-bind="attr: { value: GameConstants.Region[$data] }, text: GameConstants.camelCaseToString($data)">Region</option>
                            <!-- /ko -->
                            <option value="-1">None</option>
                        </select>
                    </div>
                    <div class="form-group col-md-3 col-6">
                        <label>Type 1</label>
                        <select autocomplete="off" class="custom-select" data-bind="value: DamageCalculator.type1">
                            <!-- ko foreach: GameHelper.enumStrings(PokemonType) -->
                            <option data-bind="attr: { value: PokemonType[$data] }, text: $data">Type</option>
                            <!-- /ko -->
                        </select>
                    </div>
                    <div class="form-group col-md-3 col-6">
                        <label>Type 2</label>
                        <select autocomplete="off" class="custom-select" data-bind="value: DamageCalculator.type2">
                            <!-- ko foreach: GameHelper.enumStrings(PokemonType) -->
                            <option data-bind="attr: { value: PokemonType[$data] }, text: $data">Type</option>
                            <!-- /ko -->
                        </select>
                    </div>
                </div>
                <div data-bind="text: `Total Damage: ${Math.round(DamageCalculator.observableTotalDamage()).toLocaleString('en-US')}`"> </div>
                <div class="d-flex">
                    <!-- ko foreach: DamageCalculator.observableTypeDamageArray -->
                    <div class="type-damage-bar"
                        data-bind="style: {'flex-grow': $data,
                                            'background-color': '#' + TypeHelper.typeColorsLocked[$index()]
                                          },
                                    tooltip: {title: `${PokemonType[$index()]}: ${Math.round($data).toLocaleString('en-US')}`,
                                              trigger: 'hover',
                                              placement:'bottom'
                                            },
                                    click: () => {DamageCalculator.detailType($index())}"
                    ></div>
                    <!-- /ko -->
                </div>
                <div class="form-group text-left mt-3">
                    <label>Type Detail</label>
                    <select autocomplete="off" data-bind="value: DamageCalculator.detailType">
                        <!-- ko foreach: GameHelper.enumStrings(PokemonType) -->
                        <option data-bind="attr: { value: PokemonType[$data] }, text: $data">Type</option>
                        <!-- /ko -->
                    </select>
                    <!-- ko if: DamageCalculator.detailType() != PokemonType.None -->
                    <span class="float-right" data-bind="text: `${PokemonType[DamageCalculator.detailType()]} Damage: ${Math.round(DamageCalculator.observableTypeDamageArray()[DamageCalculator.detailType()]).toLocaleString('en-US')}`"></span>
                    <!-- /ko -->
                </div>
            </div>
            <div data-bind="if: DamageCalculator.detailType() != PokemonType.None">
                <table id="damageCalcTypeDetailTable" class="table table-striped table-hover table-sm m-0">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Damage</th>
                            <th>Type 1</th>
                            <th>Type 2</th>
                        </tr>
                    </thead>
                    <tbody data-bind="template: { name: 'damageDetailTemplate', foreach: DamageCalculator.observableTypeDetails }">
                    </tbody>
                </table>
            </div>
       </div>
       <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
       </div>
   </div>
</div>
</div>


<!-- Category Modal -->
<div class="modal fade noselect" id="categoryModal" tabindex="-1" role="dialog" aria-badgeledby="categoryModal">
    <div class="modal-dialog modal-dialog-scrollable modal-sm" role="document">
       <div class="modal-content">
           <div class="modal-header">
               <h5>Categories</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>
           <div class="modal-body p-0">
            <table class="table table-sm m-0 text-left">
              <thead>
                <tr>
                  <th class="text-center" width="20%">Color</th>
                  <th width="80%">Name</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <!-- ko foreach: PokemonCategories.categories -->
                <tr>
                  <td class="p-0" data-bind="style: { background: $data.color }">
                    <label style="width:100%; min-height: 28px; padding:0px; margin: 0px;"><input style="opacity: 0;" type="color" data-bind="value: $data.color"/></label>
                  </td>
                  <td data-bind="contentEditable: $data.name"></td>
                  <td>
                    <button type="button" class="close text-danger" style="opacity: 1;" data-bind="click: () => { PokemonCategories.removeCategory($index()) }">
                        <span aria-hidden="true">&times;</span>
                    </button>
                  </td>
                </tr>
                <!-- /ko -->
                <tr>
                  <td class="bg-primary clickable text-center" colspan="3" onclick="PokemonCategories.addCategory('New', '#333')">+ New</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger mr-auto" data-bind="click: async () => { if (await Notifier.confirm({ title: 'Reset Categories', message: 'Are you sure you want to reset all of your categories?', confirm: 'reset' })) PokemonCategories.reset(); }">Reset</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>


</body>
</html>
