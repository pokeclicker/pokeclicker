<div class="modal noselect fade" id="pokemonStatisticsModal" tabindex="-1" role="dialog" aria-labelledby="pokemonStatisticsModal">
  <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal modal-sm" role="document">
    <div class="modal-content tab-content" data-bind="with: App.game.statistics.selectedPokemonID()">
      <div class="modal-header bg-dark text-light" style='justify-content: space-around;'>
        <h5 class="modal-title text-muted"
          data-bind="text: `#${pokemonMap[$data].id <= 0 ? '???' : Math.floor(pokemonMap[$data].id).toString().padStart(3,0)}&nbsp;&nbsp;`">
        </h5>
        <h5 class="modal-title text-light" data-bind="text: PokemonHelper.displayName(pokemonMap[$data].name)">PokÃ©mon Statistics</h5>&nbsp;
        <h5 class="modal-title text-light ml-1" data-bind="if: App.game.party.getPokemon(pokemonMap[$data].id)">
          <img width="18px" src=""
            data-bind="attr: { src: `assets/images/pokeball/Pokeball${App.game.party.alreadyCaughtPokemon(pokemonMap[$data].id, true) ? '-shiny' : ''}.svg` }" />
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div>
        <ul class="nav nav-tabs nav-fill">
            <li class="nav-item"><a data-toggle='tab' class='nav-link active' href="#pokemonStats">Stats</a></li>
            <li class="nav-item"><a data-toggle='tab' class='nav-link' href="#pokemonStatsEvo">Evolution Data</a></li>
        </ul>
      </div>

      <div id="pokemonStats" class="modal-body p-0 pb-1 tab-pane fade in active show">
        <div class="row m-0 mt-1">
          <div class="col">
            <img data-bind="attr:{ src: PokemonHelper.getImage(pokemonMap[$data].id) }" src=""/>
            <div class="position-absolute" style="top: 0px; right: 15px;"
              data-bind="if: App.game.party.getPokemon(pokemonMap[$data].id)?.pokerus">
              <img width="40px" src=""
                data-bind="attr: { src: `assets/images/breeding/pokerus/${GameConstants.Pokerus[App.game.party.getPokemon(pokemonMap[$data].id)?.pokerus]}.png`}" />
            </div>
          </div>
        </div>
        <div class="row m-0 mt-2">
          <div class="col-12 col-lg-6">
            <table class="table table-striped table-hover table-bordered table-sm m-0 mb-2">
              <thead>
                <tr class="bg-secondary">
                  <th colspan="2">PokÃ©mon Stats</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left">Type</td>
                  <td class="text-left tight">
                      <span class="badge text-light text-uppercase px-1" style="line-height: normal; text-shadow: 0px 0px 1px black, 0px 0px 1px black, 0px 0px 1px black, 0px 0px 2px black, 0px 0px 2px black, 0px 0px 3px black;" data-bind="visible: pokemonMap[$data].type[0] >= 0, style: { 'background-color': GameConstants.TypeColor[pokemonMap[$data].type[0]] }">
                          <small><strong data-bind="text: PokemonType[pokemonMap[$data].type[0]]"></strong></small>
                      </span>
                      <span class="badge text-light text-uppercase px-1" style="line-height: normal; text-shadow: 0px 0px 1px black, 0px 0px 1px black, 0px 0px 1px black, 0px 0px 2px black, 0px 0px 2px black, 0px 0px 3px black;" data-bind="visible: pokemonMap[$data].type[1] >= 0, style: { 'background-color': GameConstants.TypeColor[pokemonMap[$data].type[1]] }">
                          <small><strong data-bind="text: PokemonType[pokemonMap[$data].type[1]]"></strong></small>
                      </span>
                  </td>
                </tr>
                <tr>
                  <td class="text-left">Base Attack</td>
                  <td class="text-left tight"><code
                      data-bind="text: pokemonMap[$data].attack.toLocaleString('en-US')">-</code></td>
                </tr>
                <tr>
                  <td class="text-left">Current Attack</td>
                  <td class="text-left tight"><code
                      data-bind="text: (App.game.party.getPokemon($data) ? App.game.party.getPokemon($data).attack : 0).toLocaleString('en-US')">-</code>
                  </td>
                </tr>
                <!-- ko if : App.game.party.getPokemon($data) && App.game.party.getPokemon($data).level != 100 -->
                <tr>
                  <td class="text-left">Attack at level 100</td>
                  <td class="text-left tight"><code
                      data-bind="text: App.game.party.getPokemon($data).calculateAttack(true).toLocaleString('en-US')">-</code>
                  </td>
                </tr>
                <!-- /ko -->
                <!-- ko if: App.game.party.getPokemon($data)?.pokerus -->
                <tr>
                  <td class="text-left">EVs</td>
                  <td class="text-left tight">
                    <code>
                      <span data-bind="text: App.game.party.getPokemon($data).calculateEVs().toLocaleString('en-US')">-</span>
                    </code>
                  </td>
                </tr>
                <tr>
                  <td class="text-left">EV bonus</td>
                  <td class="text-left tight"><code
                      data-bind="text: 'Ã—' + App.game.party.getPokemon($data).calculateEVAttackBonus().toLocaleString('en-US')">-</code>
                  </td>
                </tr>
                <!-- /ko -->
                <tr>
                  <td class="text-left">Catch Rate</td>
                  <td class="text-left tight"><code
                      data-bind="text: PokemonFactory.catchRateHelper(pokemonMap[$data].catchRate, true) + '%'">-</code>
                  </td>
                </tr>
                <tr>
                  <td class="text-left">Hatch Steps</td>
                  <td class="text-left tight"><code
                      data-bind="text: App.game.party.getPokemon($data)?.getEggSteps().toLocaleString('en-US') || 'Unknown'">-</code>
                  </td>
                </tr>
                <!-- ko if: App.game.party.alreadyCaughtPokemon($data) -->
                <tr>
                  <td class="text-left">Breeding Efficiency</td>
                  <td class="text-left tight"><code
                      data-bind="text: SortOptionConfigs[SortOptions.breedingEfficiency].getValue(App.game.party.getPokemon(pokemonMap[$data].id)).toLocaleString('en-US', { maximumFractionDigits: 3 })"></code>
                  </td>
                </tr>
                <!-- /ko -->
                <!-- ko if: BagHandler.displayName(pokemonMap[$data].heldItem) -->
                <tr>
                  <td class="text-left align-middle" data-bind="tooltip: {
                    title: 'Item this PokÃ©mon has a chance to drop upon being defeated.',
                    placement: 'bottom',
                    trigger: 'hover'
                  }">Rare Hold Item</td>
                  <td class="text-left tight text-wrap">
                    <code data-bind="text: BagHandler.displayName(pokemonMap[$data].heldItem)"></code>
                    <!-- ko ifnot: pokemonMap[$data].heldItem.requirement?.isCompleted() ?? true -->
                    <span class="small" data-bind="tooltip: {
                        title: pokemonMap[$data].heldItem.requirement.hint(),
                        placement: 'bottom',
                        trigger: 'hover'
                    }">ðŸ”’</span>
                    <!-- /ko -->
                  </td>
                </tr>
                <!-- /ko -->
                <tr>
                  <td class="text-left align-middle">Gender Ratio</td>
                  <td class="text-justify tight">
                    <!-- ko if: pokemonMap[$data].gender.type === GameConstants.Genders.Genderless -->
                    <code>Genderless</code>
                    <!-- /ko -->
                    <!-- ko if: pokemonMap[$data].gender.type != GameConstants.Genders.Genderless -->
                    <code
                      data-bind="text: 'â™‚: ' + PokedexHelper.getGenderRatioData(pokemonMap[$data]).male + '%'"></code>
                    <br />
                    <code
                      data-bind="text: 'â™€: ' + PokedexHelper.getGenderRatioData(pokemonMap[$data]).female + '%'"></code>
                    <!-- /ko -->
                  </td>
                </tr>
                <!-- ko if: App.game.party.alreadyCaughtPokemon($data) -->
                <tr>
                  <td class="text-left align-middle">Held Item</td>
                  <td class="text-left tight text-wrap"><code
                      data-bind="text: App.game.party.getPokemon($data).heldItem()?.displayName || '-'"></code></td>
                </tr>
                <tr>
                  <td colspan="2" class="text-left tight">
                    <input type="text" class="form-control" placeholder="Nickname"
                      data-bind="value: App.game.party.getPokemon($data).nickname" />
                  </td>
                </tr>
                <!-- ko if: pokemonMap[$data].gender.visualDifference -->
                <tr>
                  <td class="text-left align-middle">Display Gender</td>
                  <td class="text-left tight">
                    <label class="form-check-label toggler-wrapper style-1 gender-toggle float-left">
                      <input class="form-check-input" type="checkbox" id="" value="false"
                        data-bind="checked: App.game.party.getPokemon($data).defaultFemaleSprite">
                      <div class="toggler-slider">
                        <div class="toggler-knob"></div>
                      </div>
                    </label>
                  </td>
                </tr>
                <!-- /ko -->
                <!-- ko if: App.game.party.getPokemon($data)?.shiny -->
                <tr>
                  <td class="text-left align-middle text-nowrap">Hide Shiny Sprite</td>
                  <td class="text-left tight">
                    <label class="form-check-label toggler-wrapper style-1 float-left">
                      <input class="form-check-input" type="checkbox" id="" value="false"
                        data-bind="checked: App.game.party.getPokemon($data).hideShinyImage">
                      <div class="toggler-slider" data-bind="tooltip: {
                        html: true,
                        title: Settings.getSetting('partyHideShinySprites').observableValue() ?
                            `<strong><u>${Settings.getSetting('partyHideShinySprites').displayName}</u></strong> is currently overriding this setting.` : '',
                        trigger: 'hover',
                      }">
                        <div class="toggler-knob"></div>
                      </div>
                    </label>
                  </td>
                </tr>
                <!-- /ko -->
                <!-- ko if: App.game.party.getPokemon($data)?.shadow == GameConstants.ShadowStatus.Purified -->
                <tr>
                  <td class="text-left align-middle text-nowrap">Show Shadow</td>
                  <td class="text-left tight">
                    <label class="form-check-label toggler-wrapper style-1 float-left">
                      <input class="form-check-input" type="checkbox" id="" value="false"
                        data-bind="checked: App.game.party.getPokemon($data).showShadowImage">
                      <div class="toggler-slider" data-bind="tooltip: {
                        html: true,
                        title: Settings.getSetting('partyShowPurifiedShadowSprites').observableValue() ?
                            `<strong><u>${Settings.getSetting('partyShowPurifiedShadowSprites').displayName}</u></strong> is currently overriding this setting.` : '',
                        trigger: 'hover',
                      }">
                        <div class="toggler-knob"></div>
                      </div>
                    </label>
                  </td>
                </tr>
                <!-- /ko -->
                <!-- /ko -->
              </tbody>
            </table>
          </div>
          <div class="col col-lg-6">
            <table class="table table-striped table-hover table-bordered table-sm m-0 mb-2">
              <thead>
                <tr class="bg-secondary">
                  <th colspan="2">Statistics</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left align-middle">Encountered</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.pokemonEncountered[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.malePokemonEncountered[$data](),
                                      'femaleStat': App.game.statistics.femalePokemonEncountered[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Defeated</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.pokemonDefeated[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.malePokemonDefeated[$data](),
                                      'femaleStat': App.game.statistics.femalePokemonDefeated[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Captured</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.pokemonCaptured[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.malePokemonCaptured[$data](),
                                      'femaleStat': App.game.statistics.femalePokemonCaptured[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Hatched</td>
                  <td class="text-left align-middle tight position-relative">
                    <code data-bind="text: App.game.statistics.pokemonHatched[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.malePokemonHatched[$data](),
                                      'femaleStat': App.game.statistics.femalePokemonHatched[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Shinies Encountered</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.shinyPokemonEncountered[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.shinyMalePokemonEncountered[$data](),
                                      'femaleStat': App.game.statistics.shinyFemalePokemonEncountered[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Shinies Defeated</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.shinyPokemonDefeated[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.shinyMalePokemonDefeated[$data](),
                                      'femaleStat': App.game.statistics.shinyFemalePokemonDefeated[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Shinies Captured</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.shinyPokemonCaptured[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.shinyMalePokemonCaptured[$data](),
                                      'femaleStat': App.game.statistics.shinyFemalePokemonCaptured[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
                <tr>
                  <td class="text-left align-middle">Shinies Hatched</td>
                  <td class="text-left align-middle tight position-relative">
                    <code
                      data-bind="text: App.game.statistics.shinyPokemonHatched[$data]().toLocaleString('en-US')">-</code>
                    <!-- Gender Statistics -->
                    <!-- ko if: pokemonMap[$data].gender.type == GameConstants.Genders.MaleFemale && pokemonMap[$data].gender.femaleRatio != 0 && pokemonMap[$data].gender.femaleRatio != 1 -->
                    <knockout data-bind="template: {
                                  name: 'pokemonGenderStatisticTemplate',
                                  data: {
                                      'maleStat': App.game.statistics.shinyMalePokemonHatched[$data](),
                                      'femaleStat': App.game.statistics.shinyFemalePokemonHatched[$data](),
                                  }
                              }">PokÃ©mon gender statistic</knockout>
                    <!-- /ko -->
                  </td>
                </tr>
              </tbody>
            </table>

            <!-- ko if: !App.game.challenges.list.disableVitamins.active() && App.game.party.alreadyCaughtPokemon($data) -->
            <table class="table table-striped table-hover table-bordered table-sm m-0 mb-2">
              <thead>
                <tr class="bg-secondary">
                  <th colspan="2">Vitamins</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left">Vitamins Used</td>
                  <td class="text-left tight"><code
                      data-bind="text: (App.game.party.getPokemon($data) ? App.game.party.getPokemon($data).totalVitaminsUsed() : 0).toLocaleString('en-US')">-</code>
                  </td>
                </tr>
                <!-- ko foreach: GameHelper.enumNumbers(GameConstants.VitaminType) -->
                <tr>
                  <td class="text-left" data-bind="text: `${GameConstants.VitaminType[$data]}`">X Used</td>
                  <td class="text-left tight"><code
                      data-bind="text: (App.game.party.getPokemon($parent) ? App.game.party.getPokemon($parent).vitaminsUsed[$data]() : 0).toLocaleString('en-US')">-</code>
                  </td>
                </tr>
                <!-- /ko -->
              </tbody>
            </table>
            <!-- /ko -->
          </div>
        </div>
      </div>

      <div id="pokemonStatsEvo" class="modal-body tab-pane fade">
        <!-- ko with: PokemonEvoLines.getEvoLine(pokemonMap[$data].name, player.highestRegion()) -->
          <div class="card-header p-1">
            <span>Evolutionary Line</span>
            <span data-bind="template: { name: 'caughtAllStatusTemplate', data: {'status': PartyController.getCaughtStatusAll($data), 'area': 'in this Evolutionary Line'} }"></span>
            <knockout data-bind="if: RouteHelper.minPokerusCheck($data)">
              <img data-bind="attr:{ src: 'assets/images/breeding/pokerus/' + GameConstants.Pokerus[RouteHelper.minPokerus($data)] + '.png' },
                tooltip: {
                  title: RouteHelper.evoLinePokerusEVs($data),
                  trigger: 'hover',
                  placement: 'bottom',
                  html: true }"
                src=""/>
            </knockout>
          </div>
          <ul class="list-inline">
            <!-- ko foreach: $data -->
              <li class="list-inline-item">
                <a href="#" data-toggle="modal" data-bind="click: (_, event) => { !PokedexHelper.pokemonSeen(pokemonMap[$data].id)() ? '' : App.game.statistics.selectedPokemonID(pokemonMap[$data].id); }" data-original-title="" title="">
                  <img src="assets/images/items/egg/Mystery_egg.png" style="width: 96px; position: absolute; z-index: 1;" data-bind="
                    css: { 'pokemon-not-seen': !App.game.party.alreadyCaughtPokemonByName($data) && PokedexHelper.pokemonSeen(pokemonMap[$data].id)() },
                    style: { opacity: !App.game.party.alreadyCaughtPokemonByName($data) && PokedexHelper.pokemonSeen(pokemonMap[$data].id)() ? '30%' : '100%' },
                    visible: pokemonMap[$data].baby && !App.game.party.alreadyCaughtPokemon(pokemonMap[$data].id),
                    tooltip: {
                      title: 'Breed a PokÃ©mon in this Evolutionary Line to obtain!',
                      placement: 'bottom',
                      trigger: 'hover'
                    }"/>
                  <img data-bind="
                    css: { 'pokemon-not-seen': !PokedexHelper.pokemonSeen(pokemonMap[$data].id)(), 'pokemon-seen-but-not-caught': !App.game.party.alreadyCaughtPokemonByName($data) && PokedexHelper.pokemonSeen(pokemonMap[$data].id)() },
                    attr:{ src: PokemonHelper.getImage(pokemonMap[$data].id)}"
                    src=""/>
                </a>
              </li>
            <!-- /ko -->
          </ul>
          <div>
          <!-- ko foreach: Object.entries(PokemonEvoLines.getEvoMethods($data)) -->
            <!-- ko if: $data[1].length && !App.game.party.alreadyCaughtPokemon(pokemonMap[$data[0]].id) -->
              <!-- ko with: $data[1] -->
                <table class="table table-striped table-hover table-bordered table-sm m-0 mb-2">
                  <thead>
                    <tr>
                      <th colspan="100%" data-bind="text: (Math.floor(pokemonMap[$data[0].basePokemon].id) != Math.floor(pokemonMap[$data[0].evolvedPokemon].id) ? 'Evolution' : !$data[0].restrictions.some(r => r.megaStone) ? 'Form Change' : 'Mega Evolution') + ' Requirements'"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="tight">
                        <img data-bind="css: { 'pokemon-not-seen': !PokedexHelper.pokemonSeen(pokemonMap[$data[0].evolvedPokemon].id)() && !PokemonHelper.isMegaEvolution($data[0].evolvedPokemon) },
                          attr:{ src: !$data[0].restrictions.some(r => r.megaStone) ? `assets/images/pokemon/${pokemonMap[$data[0].evolvedPokemon].id}.png` :
                          `assets/images/megaStone/${GameConstants.MegaStoneType[$data[0].restrictions.find(r => r.megaStone).megaStone]}.png` }"
                          src=""/>
                      </td>
                      <!-- ko foreach: $data.filter(e => e.trigger != EvoTrigger.NONE) -->
                        <td>
                          <ul class="list-inline">
                            <!-- ko foreach: $data.restrictions.filter(res => res.constructor.name != 'PokemonLevelRequirement' && !res.isCompleted()) -->
                              <li data-bind="text: (App.game.statistics.pokemonCaptured[pokemonMap[$parent.basePokemon].id]() || $data.constructor.name === 'ObtainedPokemonRequirement') ? $data.hint() : '???'"></li>
                            <!-- /ko -->
                            <!-- ko if: $data.trigger == EvoTrigger.LEVEL -->
                              <li data-bind="text: App.game.statistics.pokemonCaptured[pokemonMap[$data.basePokemon].id]() ? $data.restrictions.find(res=>res.constructor.name == 'PokemonLevelRequirement').hint() : '???'"></li>
                            <!-- /ko -->
                            <!-- ko if: $data.trigger == EvoTrigger.STONE -->
                              <li data-bind="text: App.game.statistics.pokemonCaptured[pokemonMap[$data.basePokemon].id]() ? `Requires using ${GameHelper.anOrA(GameConstants.StoneType[$data.stone])} ${ItemList[GameConstants.StoneType[$data.stone]]._displayName}` : '???'"></li>
                            <!-- /ko -->
                          </ul>
                        </td>
                      <!-- /ko -->
                      <!-- ko if: $data.every(e => e.trigger === EvoTrigger.NONE) -->
                        <td>
                          <span>This PokÃ©mon is unobtainable through evolution.</span>
                        </td>
                      <!-- /ko -->
                    </tr>
                  </tbody>
                </table>
              <!-- /ko -->
            <!-- /ko -->
          <!-- /ko -->
          </div>

          <!-- ko let: { familyIDs: [...new Set($data.map(p => Math.floor(pokemonMap[p].id)))], familyRegions: [...new Set($data.map(p=>pokemonMap[p].nativeRegion))] } -->
            <!-- ko with: pokemonList.filter(p => familyIDs.includes(Math.floor(p.id)) && familyRegions.includes(p.nativeRegion) && !$data.includes(p.name) && Object.values(PokemonLocations.getPokemonLocations(p.name)).length).sort((a,b) => familyIDs.indexOf(Math.floor(a.id)) - familyIDs.indexOf(Math.floor(b.id))) -->
              <!-- ko if: (player.highestRegion() >= GameConstants.MAX_AVAILABLE_REGION || $data.filter(p => App.game.statistics.pokemonCaptured[pokemonMap[p.name].id]()).length) && $data.length -->
                <ul class="list-inline">
                  <div class="card-header p-1">
                    <span>Alternate Forms</span>
                    <span data-bind="template: { name: 'caughtAllStatusTemplate',
                      data: {'status': PartyController.getCaughtStatusAll($data.map(p => p.name)),
                      'area': 'Evolutionary Line\'s alternate forms'} },
                      visible: player.highestRegion() >= GameConstants.MAX_AVAILABLE_REGION,
                    "></span>
                    <knockout data-bind="if: RouteHelper.minPokerusCheck($data.filter(p => App.game.party.alreadyCaughtPokemon(pokemonMap[p.name].id)).map(p => p.name))">
                      <img data-bind="attr:{ src: 'assets/images/breeding/pokerus/' + GameConstants.Pokerus[RouteHelper.minPokerus($data.filter(p => App.game.party.alreadyCaughtPokemon(pokemonMap[p.name].id)).map(p => p.name))] + '.png' },
                        tooltip: {
                          title: RouteHelper.evoLinePokerusEVs($data.filter(p => App.game.party.alreadyCaughtPokemon(pokemonMap[p.name].id)).map(p => p.name)),
                          trigger: 'hover',
                          placement: 'bottom',
                          html: true },
                          visible: player.highestRegion() >= GameConstants.MAX_AVAILABLE_REGION"
                        src=""/>
                    </knockout>
                    <span data-bind="visible: player.highestRegion() < GameConstants.MAX_AVAILABLE_REGION,
                      tooltip: {
                        title: 'Reach the final region to see the completion data for alternate forms!',
                        trigger: 'hover',
                        placement: 'bottom',
                        html: true }">â“˜
                      </span>
                  </div>
                  <!-- ko foreach: $data -->
                    <li class="list-inline-item" data-bind="visible: App.game.statistics.pokemonCaptured[$data.id]() || player.highestRegion() >= GameConstants.MAX_AVAILABLE_REGION">
                      <a href="#" data-toggle="modal" data-bind="click: (_, event) => { !PokedexHelper.pokemonSeen($data.id)() ? '' : App.game.statistics.selectedPokemonID($data.id); }" data-original-title="" title="">
                        <img data-bind="attr:{ src: PokemonHelper.getImage($data.id)}, css: { 'pokemon-not-seen': !PokedexHelper.pokemonSeen($data.id)(), 'pokemon-seen-but-not-caught': !App.game.party.alreadyCaughtPokemon($data.id) && PokedexHelper.pokemonSeen($data.id)() }" src=""/>
                      </a>
                    </li>
                  <!-- /ko -->
                </ul>
              <!-- /ko -->
            <!-- /ko -->
          <!-- /ko -->
        <!-- /ko -->
      </div>

    </div>
  </div>
</div>
