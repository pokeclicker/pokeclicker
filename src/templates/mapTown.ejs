<% /* %>

Parameters:
    - name : Required : String
        The name of this town.
        Should match what is used in TownList.

    - type : Required : String
        Controls the shape of the town.
        Should be one of:
        O - regular circle shaped town
        H - long horizontal town
        V - long vertical town

    - x : Required : Number
        x axis position of this route element.

    - y : Required : Number
        y axis position of this route element.

    - home : Optional : Boolean
        Used to indicate that this is the home town for a region.
        Will add the flashy thing when the player is able to trabel to the next region.

<% */ %>

<path d="M <%= locals.x %> <%= locals.y %>
         l 8.29 -8.29
         h <% if (locals.type === "H") { %> 45 <% } else { %> 11.42 <% } %>
         l 8.29 8.29
         v <% if (locals.type === "V") { %> 40 <% } else { %> 11.42 <% } %>
         l -8.29 8.29
         h <% if (locals.type === "H") { %> -45 <% } else { %> -11.42 <% } %>
         l -8.29 -8.29
         Z"

      fill="#ffffff" stroke="#000000" stroke-miterlimit="10" stroke-width="1.4">
</path>
<path class="city" data-town="<%= locals.name %>"
        data-bind="
        click:function(){MapHelper.moveToTown('<%= locals.name %>')},
        attr: { class: MapHelper.calculateTownCssClass('<%= locals.name %>') },
        <% if (locals.home) { %>
            css: { flash: MapHelper.ableToTravel() }
        <% } %>"

        d="M <%= (locals.x + 2.8) %> <%= (locals.y + 1.2) %>
           l 6.63 -6.63
           h <% if (locals.type === "H") { %> 42.8 <% } else { %> 9.14 <% } %>
           l 6.63 6.63
           v <% if (locals.type === "V") { %> 37.8 <% } else { %> 9.14 <% } %>
           l -6.63 6.63
           h <% if (locals.type === "H") { %> -42.8 <% } else { %> -9.14 <% } %>
           l -6.63 -6.63
           Z"

        fill="url(#mx-gradient-f8cecc-1-ea583b-1-s-0)" stroke="#b85450"
        stroke-miterlimit="10" stroke-width="1.4">
</path>
